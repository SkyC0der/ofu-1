!function(c){function e(e){for(var t,n,r=e[0],i=e[1],a=0,o=[];a<r.length;a++)n=r[a],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&o.push(u[n][0]),u[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);for(s&&s(e);o.length;)o.shift()()}var n={},u={0:0};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(){return Promise.resolve()},i.m=c,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://cdn.permutive.com/",i.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],r=t.push.bind(t);t.push=e,t=t.slice();for(var a=0;a<t.length;a++)e(t[a]);var s=r;i(i.s=78)}([function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"j",function(){return a}),n.d(t,"g",function(){return o}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"a",function(){return b});var r=n(7),i={_tag:"None"};function a(e){return{_tag:"Some",value:e}}function o(e){return"Some"===e._tag}function c(e){return"None"===e._tag}function u(t){return function(e){return c(e)?t():e.value}}function s(t){return function(e){return t(e)?a(e):i}}function f(e){return"Right"===e._tag?i:a(e.left)}function d(e){return"Left"===e._tag?i:a(e.right)}function l(n){return{equals:function(e,t){return e===t||(c(e)?c(t):!c(t)&&n.equals(e.value,t.value))}}}function p(n){return{equals:l(n).equals,compare:function(e,t){return e===t?0:o(e)?o(t)?n.compare(e.value,t.value):1:-1}}}function g(e){return e}var _={left:i,right:i},h={URI:"Option",map:function(e,t){return c(e)?i:a(t(e.value))},of:a,ap:function(e,t){return c(e)||c(t)?i:a(e.value(t.value))},chain:function(e,t){return c(e)?i:t(e.value)},reduce:function(e,t,n){return c(e)?t:n(t,e.value)},foldMap:function(n){return function(e,t){return c(e)?n.empty:t(e.value)}},reduceRight:function(e,t,n){return c(e)?t:n(e.value,t)},traverse:function(n){return function(e,t){return c(e)?n.of(i):n.map(t(e.value),a)}},sequence:function(t){return function(e){return c(e)?t.of(i):t.map(e.value,a)}},zero:function(){return i},alt:function(e,t){return c(e)?t():e},extend:function(e,t){return c(e)?i:a(t(e))},compact:function(e){return h.chain(e,g)},separate:function(e){var t=h.map(e,function(e){return{left:f(e),right:d(e)}});return c(t)?_:t.value},filter:function(e,t){return!c(e)&&t(e.value)?e:i},filterMap:function(e,t){return c(e)?i:t(e.value)},partition:function(e,t){return{left:h.filter(e,function(e){return!t(e)}),right:h.filter(e,t)}},partitionMap:function(e,t){return h.separate(h.map(e,t))},wither:function(n){return function(e,t){return c(e)?n.of(i):t(e.value)}},wilt:function(r){return function(e,t){var n=h.map(e,function(e){return r.map(t(e),function(e){return{left:f(e),right:d(e)}})});return c(n)?r.of({left:i,right:i}):n.value}},throwError:function(){return i}},v=Object(r.b)(h),m=(v.alt,v.ap,v.apFirst,v.apSecond,v.chain,v.chainFirst,v.duplicate,v.extend,v.filter,v.filterMap,v.flatten,v.foldMap,v.map),b=(v.partition,v.partitionMap,v.reduce,v.reduceRight,v.compact,v.separate,v.fromEither)},function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"m",function(){return i}),n.d(t,"k",function(){return a}),n.d(t,"i",function(){return o}),n.d(t,"l",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"o",function(){return d}),n.d(t,"q",function(){return l}),n.d(t,"s",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"r",function(){return _}),n.d(t,"g",function(){return h}),n.d(t,"n",function(){return v}),n.d(t,"p",function(){return m}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return w});var r=function(){return{kind:"null",value:null}},i=function(e){return{kind:"string",value:e}},a=function(e){return{kind:"number",value:e}},o=function(e){return{kind:"array",value:e}},c=function(e){return{kind:"object",value:e}},u=function(e){return e},s=function(){return{kind:"bottom"}},f=function(e){return{kind:"inner",a:e}},d=function(e){return{kind:"top",error:e}},l=function(e){return{kind:"unbounded",group:e}},p=function(e,t){return{kind:"windowed",key:t,group:e}},g=function(e,t,n){return{kind:"countLimit",n:n,limit:t,group:e}},_=function(e,t,n){return{kind:"uniqueLimit",n:n,limit:t,group:e}},h=function(e){return{kind:"numberGroup",group:e}},v=function(e){return{kind:"stringGroup",group:e}},m=function(e){return{kind:"tuple",tuple:e}},b=function(e){return{state:e}},y=function(e,t){return{commands:e,payload:t}},w=function(e){return e}},function(e,c,u){"use strict";(function(e){u.d(c,"b",function(){return t}),u.d(c,"a",function(){return n}),u.d(c,"d",function(){return i}),u.d(c,"c",function(){return a}),u.d(c,"e",function(){return o});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function t(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}}).call(this,u(11).Promise)},function(e,v,m){"use strict";(function(i){m.d(v,"j",function(){return e}),m.d(v,"b",function(){return n}),m.d(v,"g",function(){return a}),m.d(v,"h",function(){return t}),m.d(v,"f",function(){return r}),m.d(v,"a",function(){return u}),m.d(v,"d",function(){return s}),m.d(v,"e",function(){return f}),m.d(v,"k",function(){return d}),m.d(v,"l",function(){return l}),m.d(v,"m",function(){return p}),m.d(v,"n",function(){return g}),m.d(v,"i",function(){return _}),m.d(v,"c",function(){return h});var o=m(2),c=m(17);function e(e,t){return n(e,t)}function n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=e||{};for(var r=1;r<arguments.length;r++)if(arguments[r])for(var i in arguments[r])e[i]=arguments[r][i];return e}function a(e,t){var n,r=t.length;for(n=0;"object"==typeof e&&n<r;++n)e=e[t[n]];return e}function t(e,t,n){var r=a(e,t);return void 0===r?n:r}function r(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}function u(){var n,r;return{promise:new i(function(e,t){n=e,r=t}),reject:r,resolve:n}}function s(e,t){for(var n=-1,r=0;r<e.length;r++){var i=e[r];if(t(i)){n=e.indexOf(i);break}}return n}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t.reduce(function(e,t){return i.resolve(e).then(t)},e)}}function d(t,n){function e(e){return Object.keys(t).every(e)}var r;switch(r=t,{}.toString.call(r).match(/\[object (\w+)\]/)[1]){case"Array":return t.length===n.length&&e(function(e){return d(t.sort()[e],n.sort()[e])});case"Object":return Object.keys(t).length===Object.keys(n).length&&e(function(e){return d(t[e],n[e])});default:return t===n}}function l(e){if("string"==typeof e){var t=+e;if(!isNaN(t))return t}return e}function p(t){function n(e){if(!r&&e)return r=!0,t()}var r=!1;["blur","visibilitychange"].forEach(function(e){window.addEventListener(e,function(){return n(document.hidden&&/Mobi|Android/i.test(navigator.userAgent))})}),["beforeunload","pagehide"].forEach(function(e){window.addEventListener(e,function(){return n(!0)})})}function g(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function _(i,a){return Object.keys(i).reduce(function(e,t){var n,r=a(t,i[t]);return o.a({},e,Object(c.isSome)(r)?((n={})[t]=r.value,n):{})},{})}function h(e,n){return _(e,function(e,t){return n(e)?Object(c.some)(t):c.none})}}).call(this,m(11).Promise)},function(e,t,n){"use strict";n.d(t,"l",function(){return i}),n.d(t,"j",function(){return o}),n.d(t,"k",function(){return c}),n.d(t,"i",function(){return f}),n.d(t,"n",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"r",function(){return g}),n.d(t,"u",function(){return _}),n.d(t,"t",function(){return v}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"m",function(){return w}),n.d(t,"w",function(){return O}),n.d(t,"o",function(){return j}),n.d(t,"q",function(){return E}),n.d(t,"s",function(){return x}),n.d(t,"x",function(){return P}),n.d(t,"v",function(){return S}),n.d(t,"f",function(){return I}),n.d(t,"p",function(){return M}),n.d(t,"a",function(){return A}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return C});var u=n(0),s=n(5),r=n(7);function i(t){return{show:function(e){return"["+e.map(t.show).join(", ")+"]"}}}var a=function(e,t){var n=e.length;if(0===n)return t;var r=t.length;if(0===r)return e;for(var i=Array(n+r),a=0;a<n;a++)i[a]=e[a];for(a=0;a<r;a++)i[a+n]=t[a];return i};function o(r){return{equals:function(e,n){return e===n||e.length===n.length&&e.every(function(e,t){return r.equals(e,n[t])})}}}function c(c){return Object(s.b)(function(e,t){for(var n=e.length,r=t.length,i=Math.min(n,r),a=0;a<i;a++){var o=c.compare(e[a],t[a]);if(0!==o)return o}return s.i.compare(n,r)})}var f=[];function d(e){return 0<e.length}function l(e,t){return e<0||e>=t.length}function p(e,t){for(var n=t.length,r=Array(n+1),i=0;i<n;i++)r[i+1]=t[i];return r[0]=e,r}function g(e,t){for(var n=e.length,r=Array(n+1),i=0;i<n;i++)r[i]=e[i];return r[n]=t,r}function _(t){return function(e){return e.slice(0,t)}}var h=function(e,t){for(var n=e.length,r=0;r<n&&t(e[r]);r++);return r};function v(o){return function(e){for(var t=h(e,o),n=Array(t),r=0;r<t;r++)n[r]=e[r];var i=e.length,a=Array(i-t);for(r=t;r<i;r++)a[r-t]=e[r];return{init:n,rest:a}}}function m(t){return function(e){return e.slice(t,e.length)}}function b(a){return function(e){for(var t=h(e,a),n=e.length,r=Array(n-t),i=t;i<n;i++)r[i-t]=e[i];return r}}function y(e){for(var t=e.length,n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function w(i,a){return function(e){return i<0||i>e.length?u.i:Object(u.j)((t=i,n=a,(r=y(e)).splice(t,0,n),r));var t,n,r}}function k(e,t,n){if(n[e]===t)return n;var r=y(n);return r[e]=t,r}function O(t,n){return function(e){return l(t,e)?u.i:Object(u.j)(k(t,n,e))}}function j(t,n){return function(e){return l(t,e)?u.i:Object(u.j)(k(t,n(e[t]),e))}}function E(e){return y(e).reverse()}function x(t){return function(e){return y(e).sort(t.compare)}}function P(e,t,n){for(var r=[],i=Math.min(e.length,t.length),a=0;a<i;a++)r[a]=n(e[a],t[a]);return r}function T(a){return function(e,t){for(var n,r=0,i=t.length;r<i;r++)if(n=t[r],a.equals(n,e))return!0;return!1}}function S(e){var a=T(e);return function(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r];a(i,t)||t.push(i)}return n===t.length?e:t}}function I(e){var n=T(e);return function(e,t){return e.filter(function(e){return!n(e,t)})}}function q(e){return e}var M=function(e){return[e]},A={URI:"Array",map:function(e,t){return e.map(function(e){return t(e)})},mapWithIndex:function(e,n){return e.map(function(e,t){return n(t,e)})},compact:function(e){return A.filterMap(e,q)},separate:function(e){for(var t=[],n=[],r=0,i=e;r<i.length;r++){var a=i[r];"Left"===a._tag?t.push(a.left):n.push(a.right)}return{left:t,right:n}},filter:function(e,t){return e.filter(t)},filterMap:function(e,n){return A.filterMapWithIndex(e,function(e,t){return n(t)})},partition:function(e,n){return A.partitionWithIndex(e,function(e,t){return n(t)})},partitionMap:function(e,n){return A.partitionMapWithIndex(e,function(e,t){return n(t)})},of:M,ap:function(e,t){return function(e){for(var t=0,n=e.length,r=0;r<n;r++)t+=e[r].length;var i=Array(t),a=0;for(r=0;r<n;r++){for(var o=e[r],c=o.length,u=0;u<c;u++)i[u+a]=o[u];a+=c}return i}(A.map(e,function(e){return A.map(t,e)}))},chain:function(e,t){for(var n=0,r=e.length,i=new Array(r),a=0;a<r;a++){n+=(u=t(e[a])).length,i[a]=u}var o=Array(n),c=0;for(a=0;a<r;a++){for(var u,s=(u=i[a]).length,f=0;f<s;f++)o[f+c]=u[f];c+=s}return o},reduce:function(e,t,r){return A.reduceWithIndex(e,t,function(e,t,n){return r(t,n)})},foldMap:function(e){var t=A.foldMapWithIndex(e);return function(e,n){return t(e,function(e,t){return n(t)})}},reduceRight:function(e,t,r){return A.reduceRightWithIndex(e,t,function(e,t,n){return r(t,n)})},unfold:function(e,t){for(var n=[],r=e;;){var i=t(r);if(!Object(u.g)(i))break;var a=i.value,o=a[0],c=a[1];n.push(o),r=c}return n},traverse:function(e){var t=A.traverseWithIndex(e);return function(e,n){return t(e,function(e,t){return n(t)})}},sequence:function(n){return function(e){return A.reduce(e,n.of(A.zero()),function(e,t){return n.ap(n.map(e,function(t){return function(e){return g(t,e)}}),t)})}},zero:function(){return f},alt:function(e,t){return a(e,t())},extend:function(e,r){return e.map(function(e,t,n){return r(n.slice(t))})},wither:function(n){var r=A.traverse(n);return function(e,t){return n.map(r(e,t),A.compact)}},wilt:function(n){var r=A.traverse(n);return function(e,t){return n.map(r(e,t),A.separate)}},reduceWithIndex:function(e,t,n){for(var r=e.length,i=t,a=0;a<r;a++)i=n(a,i,e[a]);return i},foldMapWithIndex:function(i){return function(e,r){return e.reduce(function(e,t,n){return i.concat(e,r(n,t))},i.empty)}},reduceRightWithIndex:function(e,t,r){return e.reduceRight(function(e,t,n){return r(n,t,e)},t)},traverseWithIndex:function(i){return function(e,r){return A.reduceWithIndex(e,i.of(A.zero()),function(e,t,n){return i.ap(i.map(t,function(t){return function(e){return g(t,e)}}),r(e,n))})}},partitionMapWithIndex:function(e,t){for(var n=[],r=[],i=0;i<e.length;i++){var a=t(i,e[i]);"Left"===a._tag?n.push(a.left):r.push(a.right)}return{left:n,right:r}},partitionWithIndex:function(e,t){for(var n=[],r=[],i=0;i<e.length;i++){var a=e[i];t(i,a)?r.push(a):n.push(a)}return{left:n,right:r}},filterMapWithIndex:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=t(r,e[r]);Object(u.g)(i)&&n.push(i.value)}return n},filterWithIndex:function(e,n){return e.filter(function(e,t){return n(t,e)})}},D=Object(r.b)(A),R=(D.alt,D.ap,D.apFirst,D.apSecond,D.chain),C=(D.chainFirst,D.duplicate,D.extend,D.filter,D.filterMap,D.filterMapWithIndex,D.filterWithIndex,D.foldMap,D.foldMapWithIndex,D.map,D.mapWithIndex,D.partition,D.partitionMap,D.partitionMapWithIndex,D.partitionWithIndex,D.reduce,D.reduceRight,D.reduceRightWithIndex,D.reduceWithIndex,D.compact);D.separate},function(e,t,n){"use strict";n.d(t,"j",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return _}),n.d(t,"a",function(){return v});function r(e,t){return e<t?-1:t<e?1:0}var i=n(34),a=n(7);function o(e,t){return e===t}var c={equals:o,compare:r},u={equals:o,compare:r};function s(n){return function(e,t){return-1===n.compare(e,t)}}function f(n){return function(e,t){return 1===n.compare(e,t)}}function d(n){return function(e,t){return-1!==n.compare(e,t)}}function l(n){return function(e,t){return 1===n.compare(e,t)?t:e}}function p(n){return function(e,t){return-1===n.compare(e,t)?t:e}}function g(n){function r(e,t){return e===t?0:n(e,t)}return{equals:function(e,t){return 0===r(e,t)},compare:r}}function _(){return{concat:function(n,r){return g(function(e,t){return i.b.concat(n.compare(e,t),r.compare(e,t))})}}}var h={URI:"Ord",contramap:function(n,r){return g(function(e,t){return n.compare(r(e),r(t))})}},v=Object(a.b)(h).contramap;h.contramap(u,function(e){return e.valueOf()})},function(e,t,n){"use strict";var r=n(7);n.d(t,"e",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return f}),n.d(t,"f",function(){return p});function i(e){return{_tag:"Left",left:e}}function a(e){return{_tag:"Right",right:e}}function o(e,t){try{return a(e())}catch(e){return i(t(e))}}function c(t,n){return function(e){return u(e)?t(e.left):n(e.right)}}function u(e){switch(e._tag){case"Left":return!0;case"Right":return!1}}function s(e){return!u(e)}function f(t){return function(e){return u(e)?t(e.left):e.right}}var d={URI:"Either",map:function(e,t){return u(e)?e:a(t(e.right))},of:a,ap:function(e,t){return u(e)?e:u(t)?t:a(e.right(t.right))},chain:function(e,t){return u(e)?e:t(e.right)},reduce:function(e,t,n){return u(e)?t:n(t,e.right)},foldMap:function(n){return function(e,t){return u(e)?n.empty:t(e.right)}},reduceRight:function(e,t,n){return u(e)?t:n(e.right,t)},traverse:function(n){return function(e,t){return u(e)?n.of(i(e.left)):n.map(t(e.right),a)}},sequence:function(t){return function(e){return u(e)?t.of(i(e.left)):t.map(e.right,a)}},bimap:function(e,t,n){return u(e)?i(t(e.left)):a(n(e.right))},mapLeft:function(e,t){return u(e)?i(t(e.left)):e},alt:function(e,t){return u(e)?t():e},extend:function(e,t){return u(e)?e:a(t(e))},chainRec:function(e,t){return function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}(t(e),function(e){return u(e)?a(i(e.left)):u(e.right)?i(t(e.right.left)):a(a(e.right.right))})},throwError:i},l=Object(r.b)(d),p=(l.alt,l.ap,l.apFirst,l.apSecond,l.bimap,l.chain,l.chainFirst,l.duplicate,l.extend,l.flatten,l.foldMap,l.map);l.mapLeft,l.reduce,l.reduceRight,l.fromOption,l.fromPredicate,l.filterOrElse},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return w});var i=n(26);function r(e,t,n,r,i,a,o,c,u,s){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return c(o(a(i(r(n(t(e)))))));case 9:return u(c(o(a(i(r(n(t(e))))))));case 10:return s(u(c(o(a(i(r(n(t(e)))))))))}}var a=function(e){return"function"==typeof e.map},o=function(e){return"function"==typeof e.contramap},c=function(e){return"function"==typeof e.mapWithIndex},u=function(e){return"function"==typeof e.ap},s=function(e){return"function"==typeof e.chain},f=function(e){return"function"==typeof e.bimap},d=function(e){return"function"==typeof e.extend},l=function(e){return"function"==typeof e.reduce},p=function(e){return"function"==typeof e.reduceWithIndex},g=function(e){return"function"==typeof e.alt},_=function(e){return"function"==typeof e.compact},h=function(e){return"function"==typeof e.filter},v=function(e){return"function"==typeof e.filterWithIndex},m=function(e){return"function"==typeof e.promap},b=function(e){return"function"==typeof e.compose},y=function(e){return"function"==typeof e.throwError};function w(r){var e={};if(a(r)){e.map=function(t){return function(e){return r.map(e,t)}}}if(o(r)){e.contramap=function(t){return function(e){return r.contramap(e,t)}}}if(c(r)){e.mapWithIndex=function(t){return function(e){return r.mapWithIndex(e,t)}}}if(u(r)){e.ap=function(t){return function(e){return r.ap(e,t)}},e.apFirst=function(t){return function(e){return r.ap(r.map(e,function(e){return function(){return e}}),t)}},e.apSecond=function(t){return function(e){return r.ap(r.map(e,function(){return function(e){return e}}),t)}}}if(s(r)){e.chain=function(t){return function(e){return r.chain(e,t)}},e.chainFirst=function(t){return function(e){return r.chain(e,function(e){return r.map(t(e),function(){return e})})}},e.flatten=function(e){return r.chain(e,i.a)}}if(f(r)){e.bimap=function(t,n){return function(e){return r.bimap(e,t,n)}},e.mapLeft=function(t){return function(e){return r.mapLeft(e,t)}}}if(d(r)){e.extend=function(t){return function(e){return r.extend(e,t)}},e.duplicate=function(e){return r.extend(e,i.a)}}if(l(r)){e.reduce=function(t,n){return function(e){return r.reduce(e,t,n)}},e.foldMap=function(e){var n=r.foldMap(e);return function(t){return function(e){return n(e,t)}}},e.reduceRight=function(t,n){return function(e){return r.reduceRight(e,t,n)}}}if(p(r)){e.reduceWithIndex=function(t,n){return function(e){return r.reduceWithIndex(e,t,n)}},e.foldMapWithIndex=function(e){var n=r.foldMapWithIndex(e);return function(t){return function(e){return n(e,t)}}},e.reduceRightWithIndex=function(t,n){return function(e){return r.reduceRightWithIndex(e,t,n)}}}if(g(r)){e.alt=function(t){return function(e){return r.alt(e,t)}}}if(_(r)&&(e.compact=r.compact,e.separate=r.separate),h(r)){e.filter=function(t){return function(e){return r.filter(e,t)}},e.filterMap=function(t){return function(e){return r.filterMap(e,t)}},e.partition=function(t){return function(e){return r.partition(e,t)}},e.partitionMap=function(t){return function(e){return r.partitionMap(e,t)}}}if(v(r)){e.filterWithIndex=function(t){return function(e){return r.filterWithIndex(e,t)}},e.filterMapWithIndex=function(t){return function(e){return r.filterMapWithIndex(e,t)}},e.partitionWithIndex=function(t){return function(e){return r.partitionWithIndex(e,t)}},e.partitionMapWithIndex=function(t){return function(e){return r.partitionMapWithIndex(e,t)}}}if(m(r)){e.promap=function(t,n){return function(e){return r.promap(e,t,n)}}}if(b(r)){e.compose=function(t){return function(e){return r.compose(e,t)}}}if(y(r)){e.fromOption=function(t){return function(e){return"None"===e._tag?r.throwError(t()):r.of(e.value)}},e.fromEither=function(e){return"Left"===e._tag?r.throwError(e.left):r.of(e.right)},e.fromPredicate=function(t,n){return function(e){return t(e)?r.of(e):r.throwError(n(e))}},e.filterOrElse=function(t,n){return function(e){return r.chain(e,function(e){return t(e)?r.of(e):r.throwError(n(e))})}}}return e}},function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"g",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"h",function(){return u}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return l});var v=n(2),m=n(0),b=n(16),y=n(5),w=n(4),o=n(6),r=n(34);function c(e,t){return Object(w.c)(e.map(t))}function i(e,t,g,_){var n,r,h=function(e,t){if(0===e.length)return Object(w.c)(t.map(function(e){return Object(m.j)({1:e[1],2:g(m.i,Object(m.j)(e[2]))})}));if(0===t.length)return Object(w.c)(e.map(function(e){return Object(m.j)({1:e[1],2:g(Object(m.j)(e[2]),m.i)})}));if(0<e.length&&0<t.length&&Object(y.f)(_)(e[0][1],t[0][1])){var n=v.c(e),r=n[0],i=n.slice(1),a=r[1],o=r[2];return Object(b.a)({1:a,2:g(Object(m.j)(o),m.i)},h(i,t))}if(0<e.length&&0<t.length&&Object(y.e)(_)(e[0][1],t[0][1])){var c=v.c(t),u=c[0],s=c.slice(1),f=u[1],d=u[2];return Object(b.a)({1:f,2:g(m.i,Object(m.j)(d))},h(e,s))}if(0<e.length&&0<t.length){var l=v.c(e),p=(r=l[0],i=l.slice(1),v.c(t));u=p[0],s=p.slice(1),a=r[1],o=r[2],d=u[2];return Object(b.a)({1:a,2:g(Object(m.j)(o),Object(m.j)(d))},h(i,s))}throw new Error("Non exhaustive match in mapOption2")},i=Object(y.a)(function(e){return e[1]})(_),a=(n=h(Object(w.s)(i)(f(e).map(function(e){return{1:e[0],2:e[1]}})),Object(w.s)(i)(f(t).map(function(e){return{1:e[0],2:e[1]}}))),0===(r=c(n,function(e){return Object(m.g)(e[2])?Object(m.j)({1:e[1],2:e[2].value}):m.i})).length?m.i:Object(m.j)(r));return Object(m.h)(function(e){var t=new Map;return e.map(function(e){return[e[1],e[2]]}).forEach(function(e){return t.set(e[0],e[1])}),t})(a)}function a(e,t,r,n){var i=Object(y.a)(function(e){return e[0]})(n),a=Object(w.s)(i)(f(t)).reduceRight(function(e,t){if(Object(o.c)(e)){var n=r(t[1],e.left);return Object(m.g)(n)?Object(o.e)(n.value):Object(o.g)(t[0])}return e},Object(o.e)(e));return Object(m.a)(a)}function u(e,t){var n=Object(m.h)(function(e){return Object(b.a)(e,t)})(e);return Object(m.d)(function(){return t})(n)}function s(n){return Object(y.b)(function(e,t){return Object(r.a)(n.compare(e,t))})}function f(e){var n=[];return e.forEach(function(e,t){return n.push([t,e])}),n}function d(e,t){var n=new Map;return f(e).map(t).forEach(function(e){return n.set(e[0],e[1])}),n}function l(e,t){var n=new Map;return f(e).filter(t).forEach(function(e){return n.set(e[0],e[1])}),n}},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u});var r=n(2),i=function(e){return r.a({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{}},s(e))},a=function(e){return r.a({id:e.id||null,name:e.name,time:(f(e.time)?e.time:new Date).toISOString(),properties:e.properties||{}},s(e))},o=function(e,t){return r.a({id:e.id,time:new Date(e.time),name:t.name,properties:t.properties},s(t))},c=function(e){return void 0!==e.request_id},u=function(e){return void 0!==e.properties},s=function(e){return r.a({},e.session_id?{session_id:e.session_id}:{},e.view_id?{view_id:e.view_id}:{})},f=function(e){return isFinite(e)&&e instanceof Date}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(144),a=n(52);function c(e){return{_tag:"Left",left:e}}function u(e){return{_tag:"Right",right:e}}function o(e,t){try{return u(e())}catch(e){return c(t(e))}}function s(n){return{concat:function(e,t){return f(e)?e:f(t)?t:u(n.concat(e.right,t.right))}}}function f(e){switch(e._tag){case"Left":return!0;case"Right":return!1}}function d(e){return!f(e)}t.URI="Either",t.left=c,t.right=u,t.fromNullable=function(t){return function(e){return null==e?c(t):u(e)}},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.tryCatch=o,t.fold=function(t,n){return function(e){return f(e)?t(e.left):n(e.right)}},t.getShow=function(t,n){return{show:function(e){return f(e)?"left("+t.show(e.left)+")":"right("+n.show(e.right)+")"}}},t.getEq=function(n,r){return{equals:function(e,t){return e===t||(f(e)?f(t)&&n.equals(e.left,t.left):d(t)&&r.equals(e.right,t.right))}}},t.getSemigroup=function(n){return{concat:function(e,t){return f(t)?e:f(e)?t:u(n.concat(e.right,t.right))}}},t.getApplySemigroup=s,t.getApplyMonoid=function(e){return r(r({},s(e)),{empty:u(e.empty)})},t.isLeft=f,t.isRight=d,t.swap=function(e){return f(e)?u(e.left):c(e.right)},t.orElse=function(t){return function(e){return f(e)?t(e.left):e}},t.getOrElse=function(t){return function(e){return f(e)?t(e.left):e.right}},t.elem=function(n){return function(e,t){return!f(t)&&n.equals(e,t.right)}},t.exists=function(t){return function(e){return!f(e)&&t(e.right)}},t.parseJSON=function(e,t){return o(function(){return JSON.parse(e)},t)},t.stringifyJSON=function(e,t){return o(function(){return JSON.stringify(e)},t)};var l=void 0;function p(n,r){return{concat:function(e,t){return f(e)?f(t)?c(n.concat(e.left,t.left)):e:f(t)?t:u(r.concat(e.right,t.right))}}}t.getWitherable=function(r){function i(e){return f(e)?e:"None"===e.right._tag?c(r.empty):u(e.right.value)}function a(e){return f(e)?{left:e,right:e}:f(e.right)?{left:u(e.right.left),right:o}:{left:o,right:u(e.right.right)}}var o=c(r.empty);return{URI:t.URI,_E:l,map:t.either.map,compact:i,separate:a,filter:function(e,t){return f(e)||t(e.right)?e:c(r.empty)},filterMap:function(e,t){if(f(e))return e;var n=t(e.right);return"None"===n._tag?c(r.empty):u(n.value)},partition:function(e,t){return f(e)?{left:e,right:e}:t(e.right)?{left:o,right:u(e.right)}:{left:u(e.right),right:o}},partitionMap:function(e,t){if(f(e))return{left:e,right:e};var n=t(e.right);return f(n)?{left:u(n.left),right:o}:{left:o,right:u(n.right)}},traverse:t.either.traverse,sequence:t.either.sequence,reduce:t.either.reduce,foldMap:t.either.foldMap,reduceRight:t.either.reduceRight,wither:function(n){var r=t.either.traverse(n);return function(e,t){return n.map(r(e,t),i)}},wilt:function(n){var r=t.either.traverse(n);return function(e,t){return n.map(r(e,t),a)}}}},t.getValidation=function(r){return{URI:t.URI,_E:l,map:t.either.map,of:t.either.of,ap:function(e,t){return f(e)?f(t)?c(r.concat(e.left,t.left)):e:f(t)?t:u(e.right(t.right))},chain:t.either.chain,alt:function(e,t){if(d(e))return e;var n=t();return f(n)?c(r.concat(e.left,n.left)):n}}},t.getValidationSemigroup=p,t.getValidationMonoid=function(e,t){return{concat:p(e,t).concat,empty:u(t.empty)}},t.either={URI:t.URI,map:function(e,t){return f(e)?e:u(t(e.right))},of:u,ap:function(e,t){return f(e)?e:f(t)?t:u(e.right(t.right))},chain:function(e,t){return f(e)?e:t(e.right)},reduce:function(e,t,n){return f(e)?t:n(t,e.right)},foldMap:function(n){return function(e,t){return f(e)?n.empty:t(e.right)}},reduceRight:function(e,t,n){return f(e)?t:n(e.right,t)},traverse:function(n){return function(e,t){return f(e)?n.of(c(e.left)):n.map(t(e.right),u)}},sequence:function(t){return function(e){return f(e)?t.of(c(e.left)):t.map(e.right,u)}},bimap:function(e,t,n){return f(e)?c(t(e.left)):u(n(e.right))},mapLeft:function(e,t){return f(e)?c(t(e.left)):e},alt:function(e,t){return f(e)?t():e},extend:function(e,t){return f(e)?e:u(t(e))},chainRec:function(e,t){return i.tailRec(t(e),function(e){return f(e)?u(c(e.left)):f(e.right)?c(t(e.right.left)):u(u(e.right.right))})},throwError:c};var g=a.pipeable(t.either),_=g.alt,h=g.ap,v=g.apFirst,m=g.apSecond,b=g.bimap,y=g.chain,w=g.chainFirst,k=g.duplicate,O=g.extend,j=g.flatten,E=g.foldMap,x=g.map,P=g.mapLeft,T=g.reduce,S=g.reduceRight,I=g.fromOption,q=g.fromPredicate,M=g.filterOrElse;t.alt=_,t.ap=h,t.apFirst=v,t.apSecond=m,t.bimap=b,t.chain=y,t.chainFirst=w,t.duplicate=k,t.extend=O,t.flatten=j,t.foldMap=E,t.map=x,t.mapLeft=P,t.reduce=T,t.reduceRight=S,t.fromOption=I,t.fromPredicate=q,t.filterOrElse=M},function(e,t,n){"use strict";var r=n(39).Promise,i=n(86).polyfill;t.Promise=r,t.polyfill=i},function(e,t,n){"use strict";var r,i=n(2),a=n(10),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=(a.either.map,a.either.chain),u=(s.prototype.pipe=function(n,e){var r=this;return void 0===e&&(e="pipe("+this.name+", "+n.name+")"),new s(e,n.is,function(e,t){return c(r.validate(e,t),function(e){return n.validate(e,t)})},this.encode===p&&n.encode===p?p:function(e){return r.encode(n.encode(e))})},s.prototype.asDecoder=function(){return this},s.prototype.asEncoder=function(){return this},s.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},s);function s(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}function f(e,t,n){return g([{value:e,context:t,message:n}])}function d(t){return function(e){return e._tag===t}}var l,p=function(e){return e},g=a.left,_=a.right;d("UnknownType"),d("AnyType"),d("InterfaceType"),d("PartialType");function h(){var n=l.call(this,"null",function(e){return null===e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="NullType",n}var v;new(o(h,l=u),h);function m(){var n=v.call(this,"undefined",function(e){return void 0===e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="UndefinedType",n}var b,y=new(o(m,v=u),m);function w(){var e=b.call(this,"void",y.is,y.validate,p)||this;return e._tag="VoidType",e}var k;new(o(w,b=u),w);function O(){var e=k.call(this,"unknown",function(e){return!0},_,p)||this;return e._tag="UnknownType",e}var j;new(o(O,k=u),O);function E(){var n=j.call(this,"string",function(e){return"string"==typeof e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="StringType",n}var x;new(o(E,j=u),E);function P(){var n=x.call(this,"number",function(e){return"number"==typeof e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="NumberType",n}var T,S=new(o(P,x=u),P);function I(){var n=T.call(this,"boolean",function(e){return"boolean"==typeof e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="BooleanType",n}var q;new(o(I,T=u),I);function M(){var n=q.call(this,"UnknownArray",Array.isArray,function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="AnyArrayType",n}var A;new(o(M,q=u),M);function D(){var n=A.call(this,"UnknownRecord",function(e){return null!==e&&"object"==typeof e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="AnyDictionaryType",n}var R,C=new(o(D,A=u),D);function N(){var n=R.call(this,"Function",function(e){return"function"==typeof e},function(e,t){return n.is(e)?_(e):f(e,t)},p)||this;return n._tag="FunctionType",n}new(o(N,R=u),N);var L,W=(o(z,L=u),z);function z(e,t,n,r,i,a){var o=L.call(this,e,t,n,r)||this;return o.type=i,o.predicate=a,o._tag="RefinementType",o}var F;ke(S,function(e){return Number.isInteger(e)},"Int"),o(U,F=u);function U(e,t,n,r,i){var a=F.call(this,e,t,n,r)||this;return a.value=i,a._tag="LiteralType",a}var B;o(K,B=u);function K(e,t,n,r,i){var a=B.call(this,e,t,n,r)||this;return a.keys=i,a._tag="KeyofType",a}var G;Object.prototype.hasOwnProperty,o(J,G=u),Object.defineProperty(J.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function J(e,t,n,r,i){var a=G.call(this,e,t,n,r)||this;return a.runDefinition=i,a._tag="RecursiveType",a}var H;o(V,H=u);function V(e,t,n,r,i){var a=H.call(this,e,t,n,r)||this;return a.type=i,a._tag="ArrayType",a}var Q;o($,Q=u);function $(e,t,n,r,i){var a=Q.call(this,e,t,n,r)||this;return a.props=i,a._tag="InterfaceType",a}var Y;o(X,Y=u);function X(e,t,n,r,i){var a=Y.call(this,e,t,n,r)||this;return a.props=i,a._tag="PartialType",a}var Z;o(ee,Z=u);function ee(e,t,n,r,i,a){var o=Z.call(this,e,t,n,r)||this;return o.domain=i,o.codomain=a,o._tag="DictionaryType",o}var te,ne=(o(re,te=u),re);function re(e,t,n,r,i){var a=te.call(this,e,t,n,r)||this;return a.types=i,a._tag="UnionType",a}var ie;o(ae,ie=u);function ae(e,t,n,r,i){var a=ie.call(this,e,t,n,r)||this;return a.types=i,a._tag="IntersectionType",a}var oe;o(ce,oe=u);function ce(e,t,n,r,i){var a=oe.call(this,e,t,n,r)||this;return a.types=i,a._tag="TupleType",a}var ue;o(se,ue=u);function se(e,t,n,r,i){var a=ue.call(this,e,t,n,r)||this;return a.type=i,a._tag="ReadonlyType",a}var fe;o(de,fe=u);function de(e,t,n,r,i){var a=fe.call(this,e,t,n,r)||this;return a.type=i,a._tag="ReadonlyArrayType",a}var le;o(pe,le=ne);function pe(e,t,n,r,i,a){var o=le.call(this,e,t,n,r,i)||this;return o.tag=a,o}var ge;o(_e,ge=u);function _e(e,t,n,r,i){var a=ge.call(this,e,t,n,r)||this;return a.type=i,a._tag="ExactType",a}var he;function ve(){var e=he.call(this,"never",function(e){return!1},function(e,t){return f(e,t)},function(){throw new Error("cannot encode never")})||this;return e._tag="NeverType",e}var me;new(o(ve,he=u),ve);function be(){var e=me.call(this,"any",function(e){return!0},_,p)||this;return e._tag="AnyType",e}var ye;new(o(be,me=u),be);function we(){var e=ye.call(this,"object",C.is,C.validate,p)||this;return e._tag="ObjectType",e}new(o(we,ye=u),we);function ke(n,r,e){var t;return void 0===e&&(e="("+n.name+" | "+((t=r).displayName||t.name||"<function"+t.length+">")+")"),new W(e,function(e){return n.is(e)&&r(e)},function(e,t){return c(n.validate(e,t),function(e){return r(e)?_(e):f(e,t)})},n.encode,n,r)}var Oe;ke(S,Number.isInteger,"Integer"),o(je,Oe=u);function je(e,t,n,r,i){var a=Oe.call(this,e,t,n,r)||this;return a.props=i,a._tag="StrictType",a}var Ee=n(6),xe=n(1),Pe=n(4),Te=n(14),Se=n(8);n.d(t,"b",function(){return qe}),n.d(t,"a",function(){return Me});var Ie=Object(Te.c)(function(e,r){if(e.kind!==r.kind)return!1;if("null"===e.kind&&"null"===r.kind)return!0;if("string"===e.kind&&"string"===r.kind)return e.value===r.value;if("number"===e.kind&&"number"===r.kind)return e.value===r.value;if("array"===e.kind&&"array"===r.kind)return Object(Pe.j)(Ie).equals(e.value,r.value);if("object"===e.kind&&"object"===r.kind)return Object(Se.d)(e.value).every(function(e,t){var n=Object(Se.d)(r.value);return e[0]===n[t][0]&&Ie.equals(e[1],n[t][1])});throw new Error("Non exhaustive mach in SimpleJsonEq")});function qe(e){switch(e.kind){case"null":return Ae.encode(e);case"string":return De.encode(e);case"number":return Re.encode(e);case"array":return Ce.encode(e);case"object":return Ne.encode(e)}}function Me(e){var t=Ae.decode(e);if(Object(Ee.d)(t))return t;var n=Re.decode(e);if(Object(Ee.d)(n))return n;var r=De.decode(e);if(Object(Ee.d)(r))return r;var i=Ce.decode(e);if(Object(Ee.d)(i))return i;var a=Ne.decode(e);return Object(Ee.d)(a)?a:f("Decode error",[])}var Ae=new u("simpleNullCodec",function(e){return"null"===e.kind&&null===e.value},function(e,t){return null===e?_(Object(xe.j)()):f(e,t)},function(e){return e.value}),De=new u("simpleStringCodec",function(e){return"string"===e.kind&&"string"==typeof e.value},function(e,t){return"string"==typeof e?_(Object(xe.m)(e)):f(e,t)},function(e){return e.value}),Re=new u("simpleNumberCodec",function(e){return"number"===e.kind&&"number"==typeof e.value},function(e,t){return"number"==typeof e?_(Object(xe.k)(e)):f(e,t)},function(e){return e.value}),Ce=new u("simpleArrayCodec",function(e){return"array"===e.kind&&Array.isArray(e.value)},function(e,t){if(Array.isArray(e)){var n=e.map(Me),r=n.every(Ee.d)?Object(Ee.g)(n.map(function(e){return e.right})):f(e,t);return Object(Ee.f)(xe.i)(r)}return f(e,t)},function(e){return e.value.map(qe)}),Ne=new u("simpleObjectCodec",function(e){return"object"===e.kind},function(t,e){if(t&&t.constructor===Object){var n=Object.keys(t).map(function(e){return{1:e,2:t[e]}}).map(function(t){return Object(Ee.f)(function(e){return{1:t[1],2:e}})(Me(t[2]))});return Object(Ee.f)(function(e){var t=e.map(function(e){return[e[1],e[2]]}),n=new Map;return t.forEach(function(e){return n.set(e[0],e[1])}),Object(xe.l)(n)})(n.every(Ee.d)?Object(Ee.g)(n.map(function(e){return e.right})):f(t,e))}return f(t,e)},function(e){return Object(Se.d)(e.value).reduce(function(e,t){var n;return i.a({},e,((n={})[t[0]]=qe(t[1]),n))},{})});new u("simpleJsonCodec",function(e){return Ae.is(e)||Re.is(e)||De.is(e)||Ce.is(e)||Ne.is(e)},Me,qe)},function(e,t,n){"use strict";var c=n(23),u=n(46),s=n(36),f=n(47),d=n(48);(e.exports=function(e,t){var n,r,i,a,o;return arguments.length<2||"string"!=typeof e?(a=t,t=e,e=null):a=arguments[2],c(e)?(n=d.call(e,"c"),r=d.call(e,"e"),i=d.call(e,"w")):(n=i=!0,r=!1),o={value:t,configurable:n,enumerable:r,writable:i},a?s(f(a),o):o}).gs=function(e,t,n){var r,i,a,o;return"string"!=typeof e?(a=n,n=t,t=e,e=null):a=arguments[3],c(t)?u(t)?c(n)?u(n)||(a=n,n=void 0):n=void 0:(a=t,t=n=void 0):t=void 0,i=c(e)?(r=d.call(e,"c"),d.call(e,"e")):!(r=!0),o={get:t,set:n,configurable:r,enumerable:i},a?s(f(a),o):o}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u});var r=n(7);function i(n){return{equals:function(e,t){return e===t||n(e,t)}}}var a={equals:function(e,t){return e===t}},o=a,c=a;function u(r){return i(function(e,t){for(var n in r)if(!r[n].equals(e[n],t[n]))return!1;return!0})}var s={URI:"Eq",contramap:function(n,r){return i(function(e,t){return n.equals(r(e),r(t))})}};Object(r.b)(s).contramap,s.contramap(c,function(e){return e.valueOf()})},function(e,t,n){"use strict";var r=n(22);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";var r=n(4);n(5),n(26);var i=n(0),a=n(7);n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u});var o=r.d;r.r;function c(e){return r.n(e)?Object(i.j)(e):i.i}r.l;r.q;var u=r.j;r.e;var s=r.p;function f(e,t){return e.concat(t)}var d={URI:"NonEmptyArray",map:r.a.map,mapWithIndex:r.a.mapWithIndex,of:s,ap:r.a.ap,chain:r.a.chain,extend:r.a.extend,extract:function(e){return e[0]},reduce:r.a.reduce,foldMap:r.a.foldMap,reduceRight:r.a.reduceRight,traverse:r.a.traverse,sequence:r.a.sequence,reduceWithIndex:r.a.reduceWithIndex,foldMapWithIndex:r.a.foldMapWithIndex,reduceRightWithIndex:r.a.reduceRightWithIndex,traverseWithIndex:r.a.traverseWithIndex,alt:function(e,t){return f(e,t())}},l=Object(a.b)(d);l.ap,l.apFirst,l.apSecond,l.chain,l.chainFirst,l.duplicate,l.extend,l.flatten,l.foldMap,l.foldMapWithIndex,l.map,l.mapWithIndex,l.reduce,l.reduceRight,l.reduceRightWithIndex,l.reduceWithIndex},function(e,i,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var r=t(52);function a(e){return{_tag:"Some",value:e}}function o(e){return"Some"===e._tag}function c(e){return"None"===e._tag}function u(e){return null==e?i.none:a(e)}function s(e){return"Right"===e._tag?i.none:a(e.left)}function f(e){return"Left"===e._tag?i.none:a(e.right)}function d(n){return{equals:function(e,t){return e===t||(c(e)?c(t):!c(t)&&n.equals(e.value,t.value))}}}function l(n){return{concat:function(e,t){return o(e)&&o(t)?a(n.concat(e.value,t.value)):i.none}}}i.URI="Option",i.none={_tag:"None"},i.some=a,i.isSome=o,i.isNone=c,i.fold=function(t,n){return function(e){return c(e)?t():n(e.value)}},i.fromNullable=u,i.toNullable=function(e){return c(e)?null:e.value},i.toUndefined=function(e){return c(e)?void 0:e.value},i.getOrElse=function(t){return function(e){return c(e)?t():e.value}},i.elem=function(n){return function(e,t){return!c(t)&&n.equals(e,t.value)}},i.exists=function(t){return function(e){return!c(e)&&t(e.value)}},i.fromPredicate=function(t){return function(e){return t(e)?a(e):i.none}},i.tryCatch=function(e){try{return a(e())}catch(e){return i.none}},i.getLeft=s,i.getRight=f,i.getRefinement=function(t){return function(e){return o(t(e))}},i.mapNullable=function(t){return function(e){return c(e)?i.none:u(t(e.value))}},i.getShow=function(t){return{show:function(e){return c(e)?"none":"some("+t.show(e.value)+")"}}},i.getEq=d,i.getOrd=function(n){return{equals:d(n).equals,compare:function(e,t){return e===t?0:o(e)?o(t)?n.compare(e.value,t.value):1:-1}}},i.getApplySemigroup=l,i.getApplyMonoid=function(e){return n(n({},l(e)),{empty:a(e.empty)})},i.getFirstMonoid=function(){return{concat:function(e,t){return c(e)?t:e},empty:i.none}},i.getLastMonoid=function(){return{concat:function(e,t){return c(t)?e:t},empty:i.none}},i.getMonoid=function(n){return{concat:function(e,t){return c(e)?t:c(t)?e:a(n.concat(e.value,t.value))},empty:i.none}};function p(e){return e}var g={left:i.none,right:i.none};i.option={URI:i.URI,map:function(e,t){return c(e)?i.none:a(t(e.value))},of:a,ap:function(e,t){return c(e)||c(t)?i.none:a(e.value(t.value))},chain:function(e,t){return c(e)?i.none:t(e.value)},reduce:function(e,t,n){return c(e)?t:n(t,e.value)},foldMap:function(n){return function(e,t){return c(e)?n.empty:t(e.value)}},reduceRight:function(e,t,n){return c(e)?t:n(e.value,t)},traverse:function(n){return function(e,t){return c(e)?n.of(i.none):n.map(t(e.value),a)}},sequence:function(t){return function(e){return c(e)?t.of(i.none):t.map(e.value,a)}},zero:function(){return i.none},alt:function(e,t){return c(e)?t():e},extend:function(e,t){return c(e)?i.none:a(t(e))},compact:function(e){return i.option.chain(e,p)},separate:function(e){var t=i.option.map(e,function(e){return{left:s(e),right:f(e)}});return c(t)?g:t.value},filter:function(e,t){return!c(e)&&t(e.value)?e:i.none},filterMap:function(e,t){return c(e)?i.none:t(e.value)},partition:function(e,t){return{left:i.option.filter(e,function(e){return!t(e)}),right:i.option.filter(e,t)}},partitionMap:function(e,t){return i.option.separate(i.option.map(e,t))},wither:function(n){return function(e,t){return c(e)?n.of(i.none):t(e.value)}},wilt:function(r){return function(e,t){var n=i.option.map(e,function(e){return r.map(t(e),function(e){return{left:s(e),right:f(e)}})});return c(n)?r.of({left:i.none,right:i.none}):n.value}},throwError:function(){return i.none}};var _=r.pipeable(i.option),h=_.alt,v=_.ap,m=_.apFirst,b=_.apSecond,y=_.chain,w=_.chainFirst,k=_.duplicate,O=_.extend,j=_.filter,E=_.filterMap,x=_.flatten,P=_.foldMap,T=_.map,S=_.partition,I=_.partitionMap,q=_.reduce,M=_.reduceRight,A=_.compact,D=_.separate,R=_.fromEither;i.alt=h,i.ap=v,i.apFirst=m,i.apSecond=b,i.chain=y,i.chainFirst=w,i.duplicate=k,i.extend=O,i.filter=j,i.filterMap=E,i.flatten=x,i.foldMap=P,i.map=T,i.partition=S,i.partitionMap=I,i.reduce=q,i.reduceRight=M,i.compact=A,i.separate=D,i.fromEither=R},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u});var r=n(2),i=n(3),a=(n(17),function(e,t){return e in t}),o=function(t){return Object.keys(t).map(function(e){return Object(i.n)(parseInt(e,10),t[e])}).filter(function(e){var t=r.c(e,2);t[0];return!0===t[1].result.result}).map(function(e){return e[0]})},c=function(e){return e.reduce(function(e,t){var n;return r.a({},e,((n={})[t]=!0,n))},{})},u=function(e,t,n){return e.filter(function(e){return Object(i.g)(e,["properties","client","type"])===t&&Object(i.g)(e,["properties","client","domain"])===n})}},function(e,t,n){"use strict";e.exports=n(112)()?n(30).Symbol:n(115)},function(e,t,n){"use strict";function r(e){return"function"==typeof e}var i=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=function(e){return r(e)||"object"==typeof e&&null!==e},t.isFunction=r,t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.now=i},function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,n){"use strict";var r=n(91)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";e.exports=function(e){return null!=e}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(i.prototype.waits=function(){return this.wait_prev},i.prototype.blocks=function(){return this.block_next},i.prototype.execute=function(e){var t=this;this.started=!0,this.task(function(){t.complete=!0,e()})},i);function i(e,t){void 0===t&&(t={}),this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.description=t.description||"",this.started=!1,this.complete=!1,this.task=e}},function(e,n,r){"use strict";(function(i){r.d(n,"a",function(){return e});var e=(t.getAliasesFromIdentifyArg=function(e){if("string"!=typeof e&&"object"!=typeof e||null===e||""===e)throw new Error("Identify must be passed a non-empty string or list of aliases, value passed was '"+e+"'");return"string"==typeof e?[{id:e,tag:"default"}]:e},t.prototype.setIdentity=function(e,t,n){void 0===n&&(n=86400),this.identities[e]={value:t,expiry:Date.now()+Math.floor(1e3*n)},this._internals.state.setPermutiveData("identities",this.identities)},t.prototype.getIdentity=function(e){return{defined:e in this.identities,value:e in this.identities?this.identities[e].value:void 0}},t.prototype.getIdentities=function(r){var i=this;return void 0===r&&(r=!1),Object.keys(this.identities).reduce(function(e,t){var n=i.getIdentity(t).value;return void 0!==n&&(r&&!i.getProvider(t).usedForThirdPartyData()||(e[t]=n)),e},{})},t.prototype.hasExpired=function(e){return!(e in this.identities)||Date.now()>=this.identities[e].expiry},t.prototype.registerProvider=function(e){this.providers[e.getTag()]=e},t.prototype.getProvider=function(e){return e in this.providers?this.providers[e]:(this.network.error("Identity provider "+e+" is not registered.",this._internals.state.userId),null)},t.prototype.retrieveIdentity=function(e){var n=this,r=this.getProvider(e);return null===r?i.resolve(void 0):r.getId().then(function(e){var t=void 0===e?"sdk_third_party_identity_missing_count":"sdk_third_party_identity_present_count";return n._internals.metrics.track({name:t,value:1,labels:{identity_tag:r.getTag()}}),n.setIdentity(r.getTag(),e,r.getTtlInSeconds()),e})},t.prototype.retrieveAllIdentities=function(){var r=this,t=this._internals.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),e=Object.keys(this.providers).map(function(t){var e=r.getIdentity(t),n=!e.defined||r.hasExpired(t)?r.retrieveIdentity(t):i.resolve(e.value);return n.then(function(e){return e&&r.addAlias(e,t),n})});return i.all(e).then(function(e){return r._internals.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",t),e})},t.prototype.addAlias=function(e,t){this.currentAliases[t]=e},t.prototype.removeAliasByTag=function(e){delete this.currentAliases[e]},t.prototype.storeAliases=function(e){this._internals.state.setPermutiveData("aliases",e)},t.prototype.convertAliases=function(n){var r=this,i={default:0,appnexus:1};return Object.keys(n).map(function(e){return{id:n[e],tag:e,priority:(t=e,r._internals.identities.getIdentity(t).defined?t in i?i[t]+1:1:0)};var t})},t);function t(e,t){this._internals=e,this.network=t,this.identities=this._internals.state.getPermutiveData("identities")||{},this.currentAliases=this._internals.state.getPermutiveData("aliases")||{},this.providers={}}}).call(this,r(11).Promise)},function(e,t,n){"use strict";function r(e){return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function c(n){return Object(g.b)(function(e,t){if("bottom"===e.kind&&"bottom"===t.kind)return 0;if("bottom"===e.kind)return-1;if("bottom"===t.kind)return 1;if("top"===e.kind&&"top"===t.kind)return g.j.compare(e.error,t.error);if("top"===e.kind)return 1;if("top"===t.kind)return-1;if("inner"===e.kind&&"inner"===t.kind)return n.compare(e.a,t.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")})}var v=n(2),m=n(1),g=n(5),s={URI:"ExtendedAlgebra",map:function(e,t){switch(e.kind){case"bottom":return Object(m.a)();case"inner":return Object(m.e)(t(e.a));case"top":return Object(m.o)(e.error)}}},_=n(0),f=n(16),h=n(8),d=n(14),r=n(7);function i(e){return Object(_.h)(b)(function(e){switch(e.state.kind){case"top":return Object(_.j)(Object(m.m)(e.state.error));case"bottom":return _.i;case"inner":return function(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return a(e.group);case"tuple":return 0<e.tuple.length}}(e.payload)?Object(_.j)(Object(m.i)(Object(h.h)(Object(_.h)(function(e){return Object(m.m)(e.map(function(e){return 1===e[2]?t(e[1]):t(e[1])+JSON.stringify(e[2])}).join(""));function t(e){switch(e){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}}})(e.commands),function(e){switch(e.kind){case"tuple":return e.tuple.map(function(e){switch(e.kind){case"bottom":return Object(m.j)();case"top":return Object(m.m)(e.error);case"inner":return Object(m.k)(e.a)}});case"stringGroup":return function(t){var e=[o,u,function(e){return Object(r.a)(e,p,m.l,_.j)}];return Object(h.f)(e,function(e){return e(t)})}(e.group);case"numberGroup":return function(t){var e=[o,l,function(e){return Object(r.a)(e,p,function(e){return Object(h.e)(e,function(e){var t=v.c(e,2),n=t[0],r=t[1];return[JSON.stringify(n),r]})},m.l,_.j)}];return Object(h.f)(e,function(e){return e(t)})}(e.group)}}(e.payload)))):_.i}(e.state.a)}}(e))}function a(e){switch(e.kind){case"unbounded":return 0<e.group.size;case"windowed":return 0<e.group.size||Object(_.g)(e.key);case"countLimit":case"uniqueLimit":return 0<e.group.size||Object(_.g)(e.limit)}}function o(e){switch(e.kind){case"unbounded":return _.i;case"windowed":return Object(_.j)(Object(m.m)("w"));case"countLimit":return Object(_.j)(Object(m.m)(1===e.n?"x":"x"+e.n));case"uniqueLimit":return Object(_.j)(Object(m.m)(1===e.n?"u":"u"+e.n))}}function u(e){switch(e.kind){case"unbounded":return _.i;case"windowed":return Object(_.j)(Object(m.m)(Object(_.g)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return Object(_.j)(Object(m.m)(Object(_.g)(e.limit)?e.limit.value:""))}}function l(e){switch(e.kind){case"unbounded":return _.i;case"windowed":return Object(_.g)(e.key)?Object(_.j)(Object(m.k)(e.key.value)):Object(_.j)(Object(m.j)());case"countLimit":case"uniqueLimit":return Object(_.g)(e.limit)?Object(_.j)(Object(m.k)(e.limit.value)):Object(_.j)(Object(m.j)())}}function p(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function b(e){switch(e.kind){case"array":return 0===e.value.length?Object(m.j)():1===e.value.length?b(e.value[0]):Object(m.i)(e.value.map(b));case"object":return Object(m.l)(Object(h.e)(Object(h.a)(e.value,function(e){var t=v.c(e,2);t[0];return null!==t[1].value}),function(e){return[e[0],b(e[1])]}));default:return e}}var y=n(4);function w(e){var t=function(e){switch(e.kind){case"array":return Object(y.b)(t)(e.value);default:return[e]}};switch(e.kind){case"null":return Object(m.d)(Object(m.a)());default:return Object(m.d)(function(e){if(0===e.length)return Object(m.a)();var t=function(e){if(4!==e.length)return _.i;var t=v.c(e,4),n=t[0],r=t[1],i=t[2],a=t[3];if("string"!==n.kind||"string"!==r.kind||"object"!==a.kind)return _.i;var o=Object(_.b)(function(e){return k(e[1].value)&&O(e[2].value)})({1:n,2:r});return Object(_.h)(function(e){return{prim:e[1].value,grp:e[2].value,cutoff:i,m:a.value}})(o)}(e);if(Object(_.g)(t)){var n=t.value,r=n.prim,i=n.grp;return"string"==typeof(o=j(n.cutoff,f=n.m,E(i)))?Object(m.o)(o):Object(m.e)(Object(m.f)(x(r),o))}var a=function(e){if(3!==e.length)return _.i;var t=v.c(e,3),n=t[0],r=t[1],i=t[2];if("string"!==n.kind||"object"!==i.kind)return _.i;var a=Object(_.b)(function(e){return O(e.value)})(n);return Object(_.h)(function(e){return{grp:e.value,cutoff:r,m:i.value}})(a)}(e);if(Object(_.g)(a)){var o,c=a.value;i=c.grp;return"string"==typeof(o=j(c.cutoff,f=c.m,E(i)))?Object(m.o)(o):Object(m.e)(Object(m.f)(_.i,o))}var u=function(e){if(2!==e.length)return _.i;var t=v.c(e,2),n=t[0],r=t[1];if("string"!==n.kind||"object"!==r.kind)return _.i;var i=Object(_.b)(function(e){return k(e.value)})(n);return Object(_.h)(function(e){return{prim:e.value,m:r.value}})(i)}(e);if(Object(_.g)(u)){var s=u.value,f=(r=s.prim,s.m);return Object(m.e)(Object(m.f)(x(r),Object(m.n)(Object(m.q)(f))))}var d=function(e){if(1!==e.length)return _.i;var t=v.c(e,1)[0];return"object"===t.kind?Object(_.j)({m:t.value}):_.i}(e);if(Object(_.g)(d)){f=d.value.m;return Object(m.e)(Object(m.f)(_.i,Object(m.n)(Object(m.q)(f))))}var l=function(e){if(e.length<1)return _.i;var t=v.c(e),n=t[0],r=t.slice(1);if("string"!==n.kind)return _.i;var i=Object(_.b)(function(e){return k(e.value)})(n);return Object(_.h)(function(e){return{prim:e.value,rest:r}})(i)}(e);if(Object(_.g)(l)){var p=l.value,g=(r=p.prim,p.rest);return Object(m.e)(Object(m.f)(x(r),P(g)))}return Object(m.e)(Object(m.f)(_.i,P(e)))}(t(e)))}}function k(e){var t=e.split("");switch(!0){case 0===t.length:return!1;default:var n=v.c(t),r=n[0],i=n.slice(1);return-1!=="pmvn".indexOf(r)&&i.every(function(e){return-1!=="pmvn0123456789".indexOf(e)})}}function O(e){var t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:var n=v.c(t),r=n[0],i=n.slice(1);return-1!=="ux".indexOf(r)&&-1===i.map(function(e){return!isNaN(parseInt(e))}).indexOf(!1)}}function j(e,t,n){switch(e.kind){case"string":return Object(m.n)(n({1:Object(_.j)(e.value),2:t}));case"number":case"null":return Object(m.g)(n({1:"null"===e.kind?_.i:Object(_.j)(e.value),2:Object(h.a)(Object(h.e)(t,function(e){var t=v.c(e,2),n=t[0],r=t[1];return[Number(n),r]}),function(e){return!isNaN(e[0])})}));default:return"{bad cutoff}"}}function E(e){function t(t){return function(e){return Object(m.r)(e[2],e[1],t)}}function n(t){return function(e){return Object(m.c)(e[2],e[1],t)}}var r=e.split("");switch(!0){case"w"===r[0]&&void 0===r[1]:return function(e){return Object(m.s)(e[2],e[1])};case"u"===r[0]&&void 0===r[1]:return t(1);case"u"===r[0]&&void 0!==r[1]:return t(parseInt(r.slice(1).join("")));case"x"===r[0]&&void 0===r[1]:return n(1);case"x"===r[0]&&void 0!==r[1]:return n(parseInt(r.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function x(e){return Object(_.h)(m.h)(Object(f.b)(function t(e,n){var r=n(e);return Object(_.d)(function(){return[]})(Object(_.h)(function(e){return[e[1]].concat(t(e[2],n))})(r))}(e,function(e){var t=e.split("");if(0===t.length)return _.i;var n=v.c(t),r=n[0],i=n.slice(1),a=function(e){switch(e){case"p":return Object(_.j)("add");case"m":return Object(_.j)("mul");case"v":return Object(_.j)("max");case"n":return Object(_.j)("min");default:return _.i}}(r);return Object(_.h)(function(e){var t=Object(y.t)(function(e){return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t})(i),n=t.init,r=t.rest;return{1:{1:e,2:0===n.length?1:parseInt(n.join(""))},2:r.join("")}})(a)})))}function P(e){return Object(m.p)(e.map(T))}function T(e){switch(e.kind){case"number":return Object(m.e)(e.value);case"string":return Object(m.o)(e.value);case"null":return Object(m.a)();case"object":return Object(m.o)("{object}");case"array":return Object(m.o)("{array}")}}var S=Object(m.b)({strategy:function(t,n,r){return function(e){if(Object(_.f)(r))return n;if("delta"===t&&Object(_.f)(n))return _.i;if(Object(_.f)(n))return r;if(Object(_.g)(n)&&Object(_.g)(r))return e(n.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")}},operation:function(e,t,n,r,i,a){var o=Object(y.k)(c(a));if("append"===e&&"add"===t)return Object(y.x)(n,r,N(i.plus));if("append"===e&&"mul"===t)return Object(y.x)(n,r,N(i.times));if("append"===e&&"max"===t)return Object(g.g)(o)(n,r);if("join"===e&&"add"===t)return Object(y.x)(n,r,N(Object(g.g)(a)));if("join"===e&&"mul"===t)return Object(y.x)(n,r,N(Object(g.g)(a)));if("join"===e&&"max"===t)return Object(g.g)(o)(n,r);if("min"===t)return S.operation(e,"max",n,r,i,Object(h.b)(a));if("delta"===e&&"max"===t)return Object(g.e)(o)(n,r)?n:r.map(m.a);if("delta"===e)return Object(y.x)(n,r,function(e,t){return Object(g.e)(c(a))(e,t)?e:Object(m.a)()});throw new Error("Non exhaustive match in combineCommand.operation")}}),I={plus:function(e,t){return e+t},times:function(e,t){return e*t}};function q(e,t,n,r){if("unbounded"===e.kind&&"unbounded"===t.kind){var i=e.group,a=t.group;return Object(_.d)(m.a)(Object(_.h)(function(e){return Object(m.e)(Object(m.q)(e))})(Object(h.g)(i,a,n,r)))}if("windowed"===e.kind&&"windowed"===t.kind){var o=e.key,c=(i=e.group,t.key),u=(a=t.group,Object(g.g)(Object(_.e)(r))(o,c));return Object(_.d)(m.a)(Object(_.h)(function(e){return Object(m.e)(Object(m.s)(e,u))})(Object(h.g)(i,a,n,r)))}if("countLimit"===e.kind&&"countLimit"===t.kind){var s=e.n,f=t.n;if(s!==f)return Object(m.o)("Non matching counts");o=e.limit,i=e.group,c=t.limit,a=t.group;var d=Object(g.g)(Object(_.e)(r))(o,c);return Object(_.d)(m.a)(Object(_.h)(function(e){return Object(m.e)(Object(m.c)(e,d,s))})(Object(h.g)(i,a,n,r)))}if("uniqueLimit"!==e.kind||"uniqueLimit"!==t.kind)return Object(m.o)("Non matching group types");var l=e.n;f=t.n;if(l!==f)return Object(m.o)("Non matching counts");o=e.limit,i=e.group,c=t.limit,a=t.group;var p=Object(g.g)(Object(_.e)(r))(o,c);return Object(_.d)(m.a)(Object(_.h)(function(e){return Object(m.e)(Object(m.r)(e,p,l))})(Object(h.g)(i,a,n,r)))}function M(l,e,t,n,p,g){function _(e,t){return{1:Object(y.u)(e)(t).concat(v.e(Array(Math.max(0,e-t.length))).map(m.a)),2:Object(y.g)(e)(t)}}var h=function(e,t,n){if(0===e.length)return S.operation(l,"max",t,n,p,g);if(0===t.length)return n;if(0===n.length)return t;if(0<e.length){var r=v.c(e),i=r[0],a=r.slice(1),o=_(i[2],t),c=o[1],u=o[2],s=_(i[2],n),f=s[1],d=s[2];return S.operation(l,i[1],c,f,p,g).concat(h(a,u,d))}throw new Error("Non exhaustive match in recurse")};return Object(y.q)(Object(y.h)(function(e){return"bottom"===e.kind})(Object(y.q)(h(e,t,n))))}function A(e,t,n){return Object(_.d)(m.j)(function r(a,o){var c=function(n){return function(e,t){return S.strategy(a,e,t)(r(a,n))}};var u=function(e,t,n){if("stringGroup"===t.kind&&"stringGroup"===n.kind){var r=q(t.group,n.group,c(e),g.j);return s.map(r,function(e){return Object(m.n)(R(e,g.j))})}if("numberGroup"===t.kind&&"numberGroup"===n.kind){var r=q(t.group,n.group,c(e),g.i);return s.map(r,function(e){return Object(m.g)(R(e,g.i))})}if("tuple"!==t.kind||"tuple"!==n.kind)throw new Error("Non matching payload. Got "+JSON.stringify(t)+" and "+JSON.stringify(n)+". Command was "+a);var i=Object(_.g)(e)?e.value:[];return Object(m.e)(Object(m.p)(M(a,i,t.tuple,n.tuple,I,g.i)))};var n=function(t,e){var n=Object(_.c)(Object(f.c)(Object(d.d)({1:d.b,2:d.a})));if(n.equals(t.commands,e.commands)){var r=Object(_.f)(t.commands)?o:t.commands,i=u(r,t.payload,e.payload);return s.map(i,function(e){return Object(m.f)(t.commands,e)})}throw new Error("Non matching primitive strings. Got "+JSON.stringify(t)+" and "+JSON.stringify(e))};return function(e,t){return i(Object(m.d)(C(n,w(e).state,w(t).state)))}}(e,_.i)(t,n))}function D(e,t,i){var n=Object(_.h)(function(r){return Object(h.a)(e,function(e){var t=v.c(e,2),n=t[0];t[1];return Object(g.c)(i)(n,r)})})(t);return Object(_.d)(function(){return e})(n)}function R(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return Object(_.f)(e.key)?e:Object(m.s)(D(e.group,e.key,t),e.key);case"countLimit":var n=e.limit,r=e.n,i=e.group,a=function(e,t){return t<=1?_.i:Object(_.j)(t-1)},o=Object(h.c)(r,i,a,t),c=Object(g.g)(Object(_.e)(t))(n,o);return Object(m.c)(D(i,c,t),c,r);case"uniqueLimit":n=e.limit;var u=e.n;i=e.group,a=function(e,t){switch(e.kind){case"object":var n=v.e(Object(h.d)(e.value).map(function(e){return e[0]}),t),r=Object(y.v)(d.b)(n);return r.length>=u?_.i:Object(_.j)(r);default:return _.i}},o=Object(h.c)([],i,a,t),c=Object(g.g)(Object(_.e)(t))(n,o);return Object(m.r)(D(i,c,t),c,u)}}function C(e,t,n){if("inner"===t.kind&&"inner"===n.kind)return e(t.a,n.a);if("bottom"===t.kind)return n;if("bottom"===n.kind)return t;if("top"===t.kind&&"top"===n.kind)return Object(m.o)(Object(g.g)(g.j)(t.error,n.error));if("top"===t.kind)return t;if("top"===n.kind)return n;throw new Error("Non exhaustive match in extend")}function N(n){return function(e,t){return C(function(e,t){return Object(m.e)(n(e,t))},e,t)}}function L(e,t){return A("join",e,t)}function W(e,t){return A("delta",e,t)}n.d(t,"b",function(){return L}),n.d(t,"a",function(){return W})},function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var r=n(2),i=n(3),a=(o.prototype.track=function(e){},o.prototype.trackTimeSinceInit=function(e,t){},o.prototype.startTimer=function(e,t){return""},o.prototype.stopTimer=function(e,t){},o);function o(){}var c=(u.prototype.track=function(e){this.pendingMetrics.push(e)},u.prototype.trackTimeSinceInit=function(e,t){var n=performance.now();this.track({name:e,value:(n-this.sdkInitTimestamp)/1e3,labels:t})},u.prototype.startTimer=function(e,t){var n=performance.now(),r=this.generateRandomKey(e);return this.pendingTimers[r]={startTime:n,labels:t},r},u.prototype.stopTimer=function(e,t){var n=this.pendingTimers[t];if(n){var r=performance.now();this.track({name:e,value:(r-n.startTime)/1e3,labels:n.labels}),delete this.pendingTimers[t]}},u.prototype.processPending=function(){0<this.pendingMetrics.length&&(this._internals.api.metrics({context:{environment:"web",events_count:this._internals.state.eventsCache.all().length,segments_count:this._internals.queryManager.userSegments.length},items:this.pendingMetrics}),this.pendingMetrics=[])},u.prototype.generateRandomKey=function(e){return e+"-"+r.e(Array(24)).map(function(){return Math.random().toString(36)[2]}).join("")},u);function u(e,t,n){var r=this;this.sdkInitTimestamp=e,this._internals=t,this.permutive=n,this.sendFrequencyInSeconds=5,this.pendingMetrics=[],this.pendingTimers={},this.permutive.ready(function(){window.setInterval(r.processPending.bind(r),1e3*r.sendFrequencyInSeconds),Object(i.m)(function(){r.processPending.bind(r)})}),this.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}})}},function(e,t,n){"use strict";e.exports=n(44)()?Object.setPrototypeOf:n(45)},function(e,t,n){"use strict";e.exports=n(113)()?globalThis:n(114)},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call(function(){return arguments}());e.exports=function(e){return r.call(e)===i}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=r.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||r.call(e)===i)||!1}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var s=n(2),r=function(){},i=(a.prototype.register=function(e){this.replacementMap=s.a({},this.replacementMap,e.replacementMap)},a.prototype.enrich=function(e){for(var t=[{},!0],n=0;n<Object.keys(e[0]).length;n++){var r=Object.keys(e[0])[n],i=e[0][r];switch(!0){case"string"==typeof i&&"$"===i[0]:var a=s.c(this.isPropertyReplaceable(i),2),o=a[0],c=a[1];t[0][r]=o?c:i,t[1]=!!o&&t[1];break;case null!==i&&"object"==typeof i&&i.constructor===Object:var u=this.enrich([i,t[1]]);t[0][r]=u[0],t[1]=t[1]&&u[1];break;default:t[0][r]=i}}return t},a.prototype.isPropertyReplaceable=function(e){var t=this.replacementMap[e];return[this.replacementMap.hasOwnProperty(e)&&t!==e,t]},a);function a(){this.replacementMap={}}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r={concat:function(e,t){return 0!==e?e:t}};function i(e){switch(e){case-1:return 1;case 1:return-1;default:return 0}}},function(e,t,n){"use strict";var r=n(23),i={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!r(e)&&hasOwnProperty.call(i,typeof e)}},function(e,t,n){"use strict";e.exports=n(104)()?Object.assign:n(105)},function(e,t,n){"use strict";var r,i=n(42),a=n(36),o=n(21),c=n(15),u=n(13),s=n(124),f=n(19),d=Object.defineProperty,l=Object.defineProperties;e.exports=r=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");l(this,{__list__:u("w",c(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(o(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete r.prototype.constructor,l(r.prototype,a({_next:u(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:u(function(){return"[object "+(this[f.toStringTag]||"Object")+"]"})},s({_onAdd:u(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(e,t){n<=e&&(this.__redo__[t]=++e)},this),this.__redo__.push(n)):d(this,"__redo__",u("c",[n])))}),_onDelete:u(function(n){var e;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(n))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,t){n<e&&(this.__redo__[t]=--e)},this)))}),_onClear:u(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),d(r.prototype,f.iterator,u(function(){return this}))},function(e,i,b){"use strict";(function(s){b.d(i,"a",function(){return n});var f=b(2),d=b(3),e=b(75),u=b.n(e),l=b(6),t=b(76),p=b.n(t),o=b(4),c=b(14),a=b(12),g=b(1),_=b(27),h=b(7),v=b(18),m=b(0),n=(r.prototype.updateExternal=function(e){var r=this,t=Object(d.i)(e,function(e,t){var n=r.queryMetadata[e][0];return t[n]?Object(m.a)(Object(a.a)(t[n])):m.i}),n=Object(d.i)(this.extStateMap,function(e,t){return Object(m.a)(Object(a.a)(t))}),i=Object(d.i)(f.a({},n,t),function(e,t){return Object(m.j)(Object(a.b)(Object(_.b)(t,n[e]||Object(g.j)())))});this._internals.state.setPermutiveData("external_query_states",i),this.extStateMap=i},r.prototype.bootstrap=function(e){var t=this;return this.migrateIfRequired(e).then(function(e){return t.postMessage({type:"bootstrap",payload:[t.queryMetadata,t.extStateMap,{segments:{"1p":t.userSegmentsMap},sessionId:t._internals.sessionManager.getSessionId(),viewId:t._internals.state.getViewId(),lookalikeModels:{}},e]})})},r.prototype.updateEnvironment=function(e){return this.postMessage({type:"updateEnvironment",payload:[this.extStateMap,e]})},r.prototype.process=function(e){return this.postMessage({type:"process",payload:[this.extStateMap,e]})},r.prototype.postMessage=function(t){var n=this;return this.stateMap.promise=this.stateMap.promise.then(function(e){return n.worker.postMessage(f.a({},t,{stateMap:e}))}).then(function(e){return n.onStateChange(e)}).catch(function(e){return n.network.error("Error during query execution. Got "+e,n._internals.state.userId),n.stateMap.value})},r.prototype.onStateChange=function(e){var a=this;this.stateMap.value=e;var t=Object(v.c)(this.stateMap.value),n=Object(o.f)(c.a)(t,this.userSegments),r=Object(o.f)(c.a)(this.userSegments,t),i=f.e(n.map(function(e){return Object(d.n)(!0,e)}),r.map(function(e){return Object(d.n)(!1,e)})).map(function(e){var t=f.c(e,2),n=t[0],r=t[1];return[n,r,a.stateMap.value[r].id]});return this.userSegments=t,this.userSegmentsMap=Object(v.d)(t),this._internals.log("Writing new segment and query state cache",this.stateMap.value),this._internals.setExternalData(this.CACHED_SEGMENTS_STORAGE_KEY,JSON.stringify(this.userSegments)),this._internals.state.setPermutiveData("internal_query_states",this.stateMap.value),i.forEach(function(e){var t=f.c(e,3),n=t[0],r=t[1],i=t[2];a.trackTransition(n,i,r),a._internals.messages.emit("permutive:query:changed",{queryCode:r,result:{result:n}})}),Object(h.a)(0<i.length,function(e){return e?a._internals.messages.emit("permutive:segments:updated"):{}},function(e){return a.stateMap.value})},r.prototype.migrateIfRequired=function(t){var n=this;return this._internals.state.getPermutiveData("query_states")?this.worker.postMessage({type:"migrate",payload:Object(d.c)(this._internals.state.getPermutiveData("query_states"),function(e){return Object(v.b)(e,n.queryMetadata)}),stateMap:{}}).then(function(e){return n.migrate(t,e)}):s.resolve(t)},r.prototype.migrate=function(c,e){var u=this;this._internals.log("Beginning migration. Migrated query state is",e);var t=Object(d.i)(e,function(e,t){var n;return t?Object(m.j)(((n={})[u.queryMetadata[e][0]]=t,n)):m.i});this._internals.log("Adding checksums to migrated query state, result is",t);var n,r=Object(l.a)(function(e){return u.network.error("Failed to migrate internal state. Got "+e,u._internals.state.userId),Object(g.j)()},function(e){return e})(Object(a.a)(t));return n=r,u.worker.postMessage({type:"bootstrap",payload:[u.queryMetadata,{},{segments:{"1p":u.userSegmentsMap},sessionId:u._internals.sessionManager.getSessionId(),viewId:u._internals.state.getViewId(),lookalikeModels:{}},c],stateMap:{}}).then(function(e){u._internals.log("Recreated state via events cache. Got",e),u.stateMap.value=Object(d.i)(e,function(e,t){return Object(m.j)(f.a({},t,{state:null}))}),u.stateMap.promise=s.resolve(u.stateMap.value);var t=Object(h.a)(Object(d.i)(e,function(e,t){var n;return t.state?Object(m.j)(((n={})[t.checksum]=t.state,n)):m.i}),a.a,Object(l.a)(g.j,function(e){return e})),o=Object(h.a)(Object(l.h)(function(){return Object(_.b)(n,t)},function(e){return"Failed to join migrated state and state recreated via the events cache. Got "+e}),function(e){return Object(l.a)(function(e){return Object(h.a)(u.network.error(e,u._internals.state.userId),g.j)},function(e){return e})(e)},a.b);return u._internals.log("Sending full picture of legacy state to state/legacy/ ",o),u._internals.api.state(o,0,!1,!1,!0).then(function(e){u._internals.log("Purging events cache. Current cache is ",c),u._internals.state.eventsCache.reset();var t=Object(v.a)(c,"web",window.location.hostname);t.forEach(function(e){return u._internals.state.eventsCache.add(e)}),u._internals.log("Purged cache. New cache is ",c);var n=u._internals.getNamespacedStorageKey(u.permutive.config.permutiveDataKey),r=JSON.parse(localStorage.getItem(n)),i=r.query_states;f.d(r,["query_states"]),u._internals.state.setPermutiveData("query_states",null);var a=o?Object(l.h)(function(){return u.updateExternal(o)},function(e){return e}):Object(l.g)(null);return Object(l.c)(a)?Object(h.a)(a.left,function(e){return u.network.error("\n                    Failed to store migrated state.\n                    Old state was "+JSON.stringify(i)+".\n                    New state was "+JSON.stringify(o)+".\n                    Error was "+e+"\n                  ",u._internals.state.userId)},function(e){return u._internals.log("Migration failed. Check network tab")},function(e){return t}):Object(h.a)(u._internals.log("Migration completed successfully"),function(e){return[]})})}).catch(function(e){u._internals.log("Migration failed. Check network tab"),u.network.error("Exception during migration process. Got "+e,u._internals.state.userId),u._internals.state.eventsCache.reset();var t=Object(v.a)(c,"web",window.location.hostname);return t.forEach(function(e){return u._internals.state.eventsCache.add(e)}),u._internals.state.setPermutiveData("query_states",null),t})},r.prototype.trackTransition=function(e,t,n){var r=f.a({segment_id:t,segment_number:n},{});this.permutive.track(e?"SegmentEntry":"SegmentExit",r)},r.prototype.reset=function(){this._internals.removeExternalData(this.CACHED_SEGMENTS_STORAGE_KEY),this._internals.state.setPermutiveData("internal_query_states",{}),this._internals.state.setPermutiveData("external_query_states",{}),this.userSegments=[],this.userSegmentsMap={},this.stateMap.value={},this.extStateMap={}},r.prototype.setAsReady=function(){this._internals.messages.emit("permutive:queries:initialised")},r.prototype.getStateSizeInBytes=function(){return 2*JSON.stringify(this.stateMap.value).length},r);function r(e,t,n){var r=this;this._internals=e,this.permutive=t,this.network=n,this.CACHED_SEGMENTS_STORAGE_KEY="_psegs",this.queryMetadata={7628:["0c8b70cdb7",["s"],"82466959-86d6-44b8-a6c5-3d9b08192012"],7688:["d105830206",["s"],"3055b2e8-929b-4003-b6a6-1324d0e7151d"],7702:["a93747fe62",["s"],"1e8565a1-3b5f-4963-b171-471961275a8d"],7703:["683acfc476",["s"],"9c1b87d0-43de-4cdd-8874-03566277ca8b"],7704:["0173e8259d",["s"],"eb01a648-05ab-4f8b-a69e-1f9ba1f59c8d"],7705:["77013c268a",["s"],"60a9db28-4b15-4358-9e5c-2acc939583a1"],7707:["551404b01f",["s"],"0c5d3d2a-8656-44d1-b887-075e63f0c92f"],7708:["6973413f3e",["s"],"7e3e4bd6-b690-4d4d-b7c7-f416c83e3fc6"],7723:["0186536ee7",["s"],"fc5455f3-3d19-4e31-8b1e-e4c7f36bf0d5"],7771:["e1cec5518e",["s"],"27f13b95-68b7-4b6a-8e43-7703c9fb4aea"],7788:["5e6a33818a",["s"],"611debeb-aa4f-47a3-ad6f-94b93024b328"],7798:["e4c00e840c",["s"],"41135b3e-f8d8-4d50-a7f3-6fb1f8c8ca03"],7799:["9ddc4bdb58",["s"],"f9c7546a-9529-4307-accf-98a9839f745e"],7800:["eb761b159a",["s"],"ac3cb814-a56d-4e3e-9bc1-addcd4b5dbb1"],7801:["c2b4d8bc90",["s"],"2510b5e0-1f17-4a25-9654-d747220a4fc0"],7802:["325ee71c22",["s"],"ef7396dd-63a9-4e82-97f7-654ce497d717"],7804:["e8d7dda91f",["s"],"725ab22b-a9ff-4394-ac90-75f83bceb3c0"],7805:["4826d489a3",["s"],"b9121c5b-226b-4fac-be8b-c613845fa947"],7806:["779b2c3c05",["s"],"0268155a-a9b1-4560-a1f5-6f3e5db6b395"],7807:["8a2eb6a497",["s"],"928edd61-90db-44fd-b756-096534cea15e"],7858:["9ac5a9c73c",["s"],"3948e9e1-6e65-4c9a-924f-bbb1abdc4781"],7892:["300f228df1",["s"],"83e8f21c-13bb-4dd8-9e3c-fa12ebc37369"],7917:["2dafeebfb3",["s"],"924f529b-9ce9-474f-a8a3-badddc412135"],7918:["42934527b8",["s"],"7ee004fd-781e-4620-acd4-e49c586df0bd"],7919:["60e7cd0fd7",["s"],"0b1294bb-e0fb-4ce5-b043-f9d9def6aeb7"],7928:["0cf012d49c",["s"],"e205bd94-dae6-44c5-952f-c4eae5eeb120"],7929:["396667ad97",["s"],"4a529d7a-3295-4a7e-92c9-316c2fd3f4c1"],7930:["3ae73945d4",["s"],"e0e9988c-af36-4927-a790-546390ace582"],7931:["42582c6f4f",["s"],"53d85a1d-574d-4fba-8cb5-22b828b77e73"],8093:["bd18284dad",["s"],"19a77405-b246-4879-9926-7f95701e14ce"],8094:["8b10247b25",["s"],"ed207f38-4afd-4a6d-a9d7-99f4cb2b825f"],8096:["73c1f76835",["s"],"a48b117a-f71c-45a2-b19e-8ba6aff20c29"],8097:["4ad080566e",["s"],"aa34ba4c-63f9-438b-ac45-35831d2d228b"],8098:["4cb66518ae",["s"],"cbc2aac1-22dc-4d1e-a0e2-b8a31dc4d14d"],8132:["7251b98634",["s"],"9d6ff2da-367b-4b05-b3fc-40e73db36747"],8270:["1d397d258b",["s"],"e023a8da-ee63-4301-a593-f1d149568db5"],8271:["3a6cb42520",["s"],"7103e532-52db-42bc-8a91-51f4c2e9b669"],8286:["5221edabf9",["s"],"73cc4868-af08-49fc-9fdd-c028dae1ce89"],8287:["e73b6d4430",["s"],"50b60e1c-23bd-46b5-ac94-ad82be6100c6"],8403:["fd3be2d415",["s"],"e0e94a17-1fc7-4000-9c00-326c8d7d8ebf"],8422:["3be018bbc0",["s"],"b081aa55-de99-4dca-a1af-ae7fcc1be438"],8423:["8bcc702780",["s"],"3b6fc854-0c96-4589-921c-0fbb562ee9f3"],8424:["b98a34e19c",["s"],"00005886-4708-47ec-9f78-8d96d46d0ea4"],8425:["8c1499c96c",["s"],"39280665-4a61-4e58-be7f-ff9f3324f8c3"],8426:["9045f75fbb",["s"],"3c5834b4-473b-4a32-bb34-35be87ed7a0f"],8427:["ff52e0498b",["s"],"ba0f8539-f1e4-4d3d-a51c-d386cce9c3ee"],8428:["a9f9acdd35",["s"],"ad06715d-e5af-4c28-935d-b9e7f1243664"],8429:["a23e13d381",["s"],"423efcb3-44c8-44ee-897e-250c64696673"],8430:["d1f4d7440c",["s"],"4293c64b-96a1-4f72-a664-a2364b97a93d"],8431:["bc0b39715b",["s"],"62fe8b48-9d89-4c4f-8bad-88f4d2851cbe"],8432:["c3ac7326d5",["s"],"2bb5f964-ff26-456e-b685-c4d66014ceda"],8433:["1f279ef9a0",["s"],"69384078-371f-46a3-b66d-3b45146cc712"],8435:["7049060347",["s"],"56f93d39-fb5a-4364-967f-383217cb89d3"],8436:["a9c25e7feb",["s"],"e3035f89-b588-44d4-8db0-72b6cfe3fa8a"],8437:["972bf11d2e",["s"],"1bb38f37-af4c-4ddf-bc98-d68019b6df7e"],8438:["80b1b3cef3",["s"],"05cce170-bac4-4c5d-b009-c33f93d2044c"],8441:["d152e0c991",["s"],"31b62070-5229-4c70-bf61-6e0f90f2aa86"],8442:["4ba4627def",["s"],"da5fbbcb-46d1-479d-af12-5319cc080af4"],8443:["6921ed0416",["s"],"3a02ee14-d712-4d26-868e-6525611d5dd7"],8444:["10b23340b0",["s"],"99da2bf3-f556-49f4-99e7-6461eea41ac7"],8445:["f7316cab70",["s"],"5b2cba7b-9b6a-40ff-9980-990ecab9f2ec"],8446:["de98d9e5fe",["s"],"2572a952-8f54-45c5-a186-6f8d6802d3e5"],8447:["bef0482073",["s"],"633f7dc4-e519-4af4-a41a-80e4aa85a0f1"],8456:["f720f517ee",["s"],"72502cb6-2d1b-4077-81bb-cca850ff9cd5"],8457:["4e1aa0ca11",["s"],"80d54bcc-1296-42ac-b50a-7c436770eed8"],8475:["e7681888e1",["s"],"0264cd6f-12ce-4b9e-a16a-171bea39cc46"],8476:["84dd661a0f",["s"],"a4075ef4-671e-41ea-b8a6-04d4b6170112"],8477:["4f8ee89419",["s"],"d663352e-18a9-449f-915f-3b90f8e22a50"],8478:["7c7e667dba",["s"],"d5c72277-d548-4e57-af8c-9ee77ce2c052"],8570:["5c10e327d3",["s"],"c013d715-aaae-4833-a912-d42cf2bb1cf9"],8572:["44f0612594",["s"],"75f03c6a-0277-480d-befe-95a29874d0c1"],8573:["cb8068697c",["s"],"3f2c257c-b2e2-4bab-bbe6-97b4e9244581"],8574:["2401fa9885",["s"],"49a4ea7e-ada5-43d6-8817-9591db347246"],8575:["ea49e02ec7",["s"],"fe75be72-164d-4aee-a6c2-7f07341f418f"],8576:["77afe4299e",["s"],"883d0f13-8245-4d10-8c35-3422e9d4fb08"],8577:["5ecfccdd92",["s"],"d7cc81a2-cd5d-46b0-96b3-8ada1f7cb196"],8578:["f1e0186983",["s"],"c449c12e-0c5e-49fe-8c97-31a8c5c0f6c8"],8579:["b5ff8ef391",["s"],"cf448945-f639-4c31-903f-6d7af2035482"],8580:["9807ff5289",["s"],"bf3edf1d-95c4-498d-a1e9-93a2841e5745"],8581:["1deb16a4c5",["s"],"7ebb79e8-e280-473f-b7c7-c1ab7f6f77d5"],8582:["2eb229c124",["s"],"34f8a837-6f72-4fdc-b8c6-64c5add3e752"],8583:["abe7d0dc2b",["s"],"65a1dea2-a6cd-4e32-bac8-568bdac8f56a"],8584:["1518bf6598",["s"],"b78d48e1-ede8-45ba-ba0a-1d63dc77429c"],8585:["d147c679f5",["s"],"431629cf-ed21-4317-b2b8-ed26b0f19933"],8653:["92188fa9db",["s"],"71d9a212-01ad-495c-b9fb-3af9c0e2d73f"],8690:["b8f1f777e6",["s"],"faeeca97-ee1e-47be-9112-5e4d3c7efa41"],8691:["27eb7402bb",["s"],"710bae7c-02e3-45d7-b023-dc4c4d35da3d"],8692:["8bffdb949a",["s"],"98681a77-7dd6-4ddf-8a5e-3268c5d4d65f"],8693:["9bc982bc39",["s"],"cacab13f-dce4-4f71-a699-4d30bbf8e688"],8694:["e5aefea467",["s"],"994ed9f7-3af0-42c1-b569-213900a042ba"],8695:["1342585559",["s"],"0edc70c5-c6bc-49dd-8a34-6706a2e289fc"],8696:["121e895815",["s"],"f2792172-4d4e-44da-91eb-d44b5caaa134"],8698:["b544fbac75",["s"],"e4a07b93-cf68-4b99-9f62-a070cc6553f7"],8816:["112c1fc7a4",["s"],"11a19fdb-7fb9-44f3-9755-2b9ba9fa0782"],8817:["22fa17f0b9",["s"],"b9a819f3-8272-470f-b3b9-67a990b04f89"],8818:["357246408e",["s"],"b435c067-02ec-4b60-b658-1995895f04f5"],8831:["41c214e404",["s"],"c1e52b56-d1a8-4bd5-a3b6-bea5fa296785"],8873:["a8f726ba50",["s"],"035b0250-b2f9-4ae1-9ead-8643be7a3b03"],9490:["92a8826c16",["s"],"752fc35d-36c7-4678-bc42-9fb96af713c1"],9666:["b46262e3e8",["s"],"722c9154-0276-460b-bdc1-cd8d3b1af907"],9813:["413b0c1859",["s"],"f6262bd3-f7d7-4998-bd56-5a53bc9ad43e"],9814:["43ea88347d",["s"],"819340c2-8457-4957-b30a-c2890675fa84"],9816:["c3e0930286",["s"],"e028c900-6a74-4099-ba30-c496a0a7bac8"],9817:["bdd5ca8252",["s"],"08162a12-9bd6-4158-919c-4a54c904f6e2"],9818:["73afe2f154",["s"],"f6c4d1a6-ae70-42bd-a7d9-26d2698ec064"],9820:["e64b9b686f",["s"],"0fa0f371-7474-4ec9-a320-6a755f5bdadd"],9926:["dbfd4af443",["s"],"02c5e8c3-9162-4e97-bfa3-590a4e2c13b9"],9927:["a722ad9fb5",["s"],"56d8c2a5-e03c-4614-8e2d-db11ee90b747"],9928:["b2f781958f",["s"],"33598c8d-dd82-4774-ba73-da0c98d81d84"],9930:["4e6da886c1",["s"],"d6c28f4c-8376-49d4-8d76-0b6c6d896fdc"],9931:["ae24d7e535",["s"],"d62ad782-0264-4910-8876-4c07f4eeaee2"],9941:["bcf6fe91f5",["s"],"fbed684b-f1cb-4b62-a370-2830e7cd232e"],10104:["caf348d652",["s"],"c822188a-93fd-411f-a9e5-f2d7e9d2de37"],10227:["185e8a4770",["s"],"da6daef4-5ef9-4bc0-a7d0-987b2c279b3d"],10283:["e96055048b",["s"],"296a53c4-5c8e-4f7e-a2f0-007b5f8a4e94"],10284:["517fd3c284",["s"],"f741149d-8da2-413f-9ad4-352ba3fea634"],10285:["7cce117dfd",["s"],"a8f9c578-6bd8-454b-b2fc-b04f8df0c7e0"],10286:["6a63376b00",["s"],"381ab963-9947-4b72-b243-f082ceaab201"],10287:["27adf78335",["s"],"0f0ba166-896c-4b44-92dd-0c7e0fae9178"],10390:["a379cae582",["s"],"a5b99180-61f8-40d2-bc8e-b3fa848744dd"],10391:["6ee0ee3bce",["s"],"52ae22c1-13d7-4079-8a95-021e43318766"],10422:["282d0f4887",["s"],"ea2d4e12-a661-4f3a-a2a3-5515dd036769"],10423:["c17a4e728a",["s"],"6cf8c75a-2cf5-42ad-a224-c388a9b74056"],10563:["7ae10fd6b7",["s"],"cfcdf596-5169-4cf6-b2d6-01bcd28d71d9"],10612:["5dedc36fb8",["s"],"64a45c71-d57f-4510-86de-a1aade4b0544"],10754:["a28e8a89b6",["s"],"69434c1b-1a2c-443e-8e84-b1d5fb261688"],11228:["e31e3c64b4",["s"],"09cc6cf1-b4ce-4e67-b8f8-d4199d434ecd"],11229:["bf052599d1",["s"],"46f667ad-341c-431e-9552-ca6f95a831a5"],11972:["4fee440c4d",["s"],"e0c23840-d5c4-4dda-99e3-321f948c8617"],12477:["42e0322910",["s"],"4bbc8a30-c611-46af-b61d-4499c75534b7"],12739:["651c1e000d",["s"],"01253ae7-4062-4ae0-8c33-80a53bab1a13"],12740:["b9f3a65df6",["s"],"fd268e0f-c3d6-4ed1-855d-ae18628a7508"],12741:["a9ea4a813d",["s"],"1d297194-6529-48d7-915b-f97cc02a98e7"],12742:["fb4a29a816",["s"],"b54d3a22-cd5a-4011-a96b-c8eda9f9e94f"],12743:["3e2bc6ac18",["s"],"7a0d6f9f-d7ae-47b0-afc4-0ec9fdd26258"],12750:["3583375319",["s"],"91a646cb-4734-4778-ba8a-91fd428d8aeb"],12819:["61722d4b49",["s"],"0053fb9f-b1aa-4469-a42a-ad7468613582"],12820:["32c7e500a7",["s"],"d5fa77ce-1204-411c-aedd-1e22b465b554"],12966:["2c015e90db",["s"],"cc8c5f3b-758e-498f-ae3b-626d75c6dbf3"],12988:["c04c9c1b05",["s"],"ddd1d442-48c0-40d7-b5e3-36e682a2e62b"],13043:["91824323e1",["s"],"dbbf050c-9228-4df8-9110-ac58cb04919b"],13044:["7ec031f6c3",["s"],"f5703493-9fce-4830-8b4b-3e8eb2670ce0"],13045:["29c6001747",["s"],"2ac62ebc-6f4e-465e-8dd2-9a113a6714e1"],13046:["a304861b66",["s"],"932fe599-3759-4d79-9e9c-c4f3723440d8"],13047:["3f855b639d",["s"],"cdcec9af-2152-4d16-807a-139c402addba"],13107:["62855bfa1b",["s"],"9ee55b6b-4dc6-4f4e-8f89-4fb618de432f"],13127:["eeb34ad291",["s"],"7b96d13f-189f-4b20-83c4-6e6a17226d25"],13226:["24ce511ce8",["s"],"a861d85a-2f12-4d0e-bade-f80597953119"],13227:["2e6861b70f",["s"],"12048737-1671-4646-bf1d-b54ba88e93b8"],13231:["78b4c5893a",["s"],"907c0b93-c69a-4121-90ef-1a5a8032a211"],13238:["782f75dd83",["s"],"0f7a5c91-d567-4786-8d42-26135473f4c4"],13714:["32e8f577a4",["s"],"6c3878e4-b9bb-42f2-8e90-40d781374dae"],16498:["f174a8a142",["s"],"4acb9db0-02fc-4c2c-8100-0186c1996aec"],16825:["785749a62c",["s"],"c1fff7d6-2afc-4aa3-ac35-77893deabb20"],16870:["9767eabfeb",["s"],"aa3075c0-4c4e-4ec3-9505-ea2832021b17"],20675:["f2ae67f95f",["s"],"d8b10bd6-b7e2-44fa-b4aa-338eac45e4ec"],23511:["1756430f43",["s"],"91b8078e-910e-42f5-98a5-fcaf716838c8"],23563:["7d1fcbaf02",["s"],"cebb66cd-a15a-4708-b383-ff9f45377d80"],23564:["5778663caf",["s"],"d1763698-68cc-4b36-bc66-0a7d69ea23a9"],23565:["57331c1044",["s"],"360f8b4f-f0d9-47b7-b375-4bb2f42c8fc0"],23566:["af5978270b",["s"],"92a52404-241f-43c2-8960-dbb37dad477e"],23568:["538dab28e6",["s"],"b451ff0a-0dbf-4625-b4be-e707ed4c5f32"],23569:["ffaa5b68ff",["s"],"6d600790-0300-41c6-940c-86feefc95ccc"],23570:["980ce592ca",["s"],"0712b673-ae09-487d-b382-b0d0079b471c"],25347:["03595f4828",["s"],"ef6db6fc-f1a4-4fc7-8815-301c5f975555"],25348:["9faa9ede36",["s"],"d92078bd-20e3-40b3-9527-0e88d5a6cbfd"],25349:["f8b5dabdac",["s"],"e8b76143-6614-4fca-9c33-d04374359703"],25350:["6e481f957d",["s"],"9f0b872c-36b8-4b1b-a999-91b28b07c4e4"],27742:["bfd0754e69",["s"],"3ba65e01-a214-4db1-a0b2-2f3b5e91251d"],27743:["ae2efe2dd6",["s"],"f11e109d-8888-4116-b445-833b5bbf1c20"],27744:["da1310f3b3",["s"],"ad9fc9b8-e49f-4228-8ebf-1b0a7685d19b"],28228:["32e3d19651",["s"],"2fc5913c-6b74-43d5-98d7-57c468e3dd7f"],31936:["6afdb9c9a4",["s"],"d35a54fc-da42-406c-9254-24d4612ec344"]},this.extStateMap={},this.userSegments=[],this.userSegmentsMap={};var i=this._internals.getExternalData(this.CACHED_SEGMENTS_STORAGE_KEY);this.userSegments=Object(h.a)(Object(l.h)(function(){return JSON.parse(i).filter(function(e){return Object(v.b)(e,r.queryMetadata)})},function(e){return[]}),Object(l.b)(function(e){return e})),this.userSegmentsMap=this.userSegments.reduce(function(e,t){var n;return f.a({},e,((n={})[t]=!0,n))},{});var a=this._internals.state.getPermutiveData("internal_query_states")||{},o=this._internals.state.getPermutiveData("external_query_states")||{},c=Object(d.c)(a,function(e){return Object(v.b)(e,r.queryMetadata)});this.extStateMap=Object(d.c)(o,function(e){return Object(v.b)(e,r.queryMetadata)&&c[e]&&c[e].checksum===r.queryMetadata[e][0]}),this._internals.state.setPermutiveData("external_query_states",this.extStateMap),this.stateMap={value:c,promise:s.resolve(c)},this.worker=new p.a(new u.a)}}).call(this,b(11).Promise)},function(e,t,n){"use strict";var f=n(40).config,i=(n(40).configure,n(20).objectOrFunction),s=n(20).isFunction,r=(n(20).now,n(79).cast),a=n(80).all,o=n(81).race,c=n(82).resolve,u=n(83).reject,d=n(84).asap;function l(e){if(!s(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(e,t){function n(e){k(t,e)}try{e(function(e){y(t,e)},n)}catch(e){n(e)}}(e,this)}function p(e,t,n,r){var i,a,o,c,u=s(n);if(u)try{i=n(r),o=!0}catch(e){c=!0,a=e}else i=r,o=!0;b(t,i)||(u&&o?y(t,i):c?k(t,a):e===h?y(t,i):e===v&&k(t,i))}f.async=d;var g=void 0,_=0,h=1,v=2;function m(e,t){for(var n=e._subscribers,r=e._detail,i=0;i<n.length;i+=3)p(t,n[i],n[i+t],r);e._subscribers=null}function b(t,n){var r,e=null;try{if(t===n)throw new TypeError("A promises callback cannot return that same promise.");if(i(n)&&(e=n.then,s(e)))return e.call(n,function(e){if(r)return!0;r=!0,(n!==e?y:w)(t,e)},function(e){if(r)return!0;r=!0,k(t,e)}),1}catch(e){return r?1:(k(t,e),1)}}function y(e,t){e!==t&&b(e,t)||w(e,t)}function w(e,t){e._state===g&&(e._state=_,e._detail=t,f.async(O,e))}function k(e,t){e._state===g&&(e._state=_,e._detail=t,f.async(j,e))}function O(e){m(e,e._state=h)}function j(e){m(e,e._state=v)}l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var n,r,i,a,o,c=this,u=new this.constructor(function(){});if(this._state){var s=arguments;f.async(function(){p(c._state,u,s[c._state-1],c._detail)})}else n=u,r=e,i=t,a=this._subscribers,o=a.length,a[o]=n,a[o+h]=r,a[o+v]=i;return u},catch:function(e){return this.then(null,e)}},l.all=a,l.cast=r,l.race=o,l.resolve=c,l.reject=u,t.Promise=l},function(e,t,n){"use strict";var r={instrument:!1};t.config=r,t.configure=function(e,t){if(2!==arguments.length)return r[e];r[e]=t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(15);e.exports=function(){return r(this).length=0,this}},function(e,t,n){"use strict";var r=n(96),i=Math.max;e.exports=function(e){return i(0,r(e))}},function(e,t,n){"use strict";var r=Object.create,i=Object.getPrototypeOf,a={};e.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&i(e((arguments[0]||r)(null),a))===a}},function(e,t,n){"use strict";var i,r,a,o,c=n(100),u=n(15),s=Object.prototype.isPrototypeOf,f=Object.defineProperty,d={configurable:!0,enumerable:!1,writable:!0,value:void 0};i=function(e,t){if(u(e),null===t||c(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=(r=function(){var e,t=Object.create(null),n={},r=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(r){try{(e=r.set).call(t,n)}catch(e){}if(Object.getPrototypeOf(t)===n)return{set:e,level:2}}return t.__proto__=n,Object.getPrototypeOf(t)===n?{level:2}:((t={}).__proto__=n,Object.getPrototypeOf(t)===n&&{level:1})}())?(a=2===r.level?r.set?(o=r.set,function(e,t){return o.call(i(e,t),t),e}):function(e,t){return i(e,t).__proto__=t,e}:function e(t,n){var r;return i(t,n),(r=s.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===n&&(n=e.nullPolyfill),t.__proto__=n,r&&f(e.nullPolyfill,"__proto__",d),t},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:r.level})):null,n(101)},function(e,t,n){"use strict";var r=n(102),i=/^\s*class[\s{/}]/,a=Function.prototype.toString;e.exports=function(e){return!!r(e)&&!i.test(a.call(e))}},function(e,t,n){"use strict";var r=n(22),i=Array.prototype.forEach,a=Object.create;e.exports=function(e){var t=a(null);return i.call(arguments,function(e){r(e)&&function(e,t){var n;for(n in e)t[n]=e[n]}(Object(e),t)}),t}},function(e,t,n){"use strict";e.exports=n(109)()?String.prototype.contains:n(110)},function(e,t,n){"use strict";var r=n(116);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,n){"use strict";var r=n(120);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,n){"use strict";function i(e,t){return e.replace("%v",r(t))}var a=n(23),o=n(35),c=n(126),r=n(127);e.exports=function(e,t,n){if(!o(n))throw new TypeError(i(t,e));if(!a(e)){if("default"in n)return n.default;if(n.isOptional)return null}var r=c(n.errorMessage);throw a(r)||(r=t),new TypeError(i(r,e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(143);t.pipe=function(e,t,n,r,i,a,o,c,u,s){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return c(o(a(i(r(n(t(e)))))));case 9:return u(c(o(a(i(r(n(t(e))))))));case 10:return s(u(c(o(a(i(r(n(t(e)))))))))}};t.pipeable=function(r){var e={};if("function"==typeof r.map){e.map=function(t){return function(e){return r.map(e,t)}}}if("function"==typeof r.contramap){e.contramap=function(t){return function(e){return r.contramap(e,t)}}}if("function"==typeof r.mapWithIndex){e.mapWithIndex=function(t){return function(e){return r.mapWithIndex(e,t)}}}if("function"==typeof r.ap){e.ap=function(t){return function(e){return r.ap(e,t)}},e.apFirst=function(t){return function(e){return r.ap(r.map(e,function(e){return function(){return e}}),t)}},e.apSecond=function(t){return function(e){return r.ap(r.map(e,function(){return function(e){return e}}),t)}}}if("function"==typeof r.chain){e.chain=function(t){return function(e){return r.chain(e,t)}},e.chainFirst=function(t){return function(e){return r.chain(e,function(e){return r.map(t(e),function(){return e})})}},e.flatten=function(e){return r.chain(e,i.identity)}}if("function"==typeof r.bimap){e.bimap=function(t,n){return function(e){return r.bimap(e,t,n)}},e.mapLeft=function(t){return function(e){return r.mapLeft(e,t)}}}if("function"==typeof r.extend){e.extend=function(t){return function(e){return r.extend(e,t)}},e.duplicate=function(e){return r.extend(e,i.identity)}}if("function"==typeof r.reduce){e.reduce=function(t,n){return function(e){return r.reduce(e,t,n)}},e.foldMap=function(e){var n=r.foldMap(e);return function(t){return function(e){return n(e,t)}}},e.reduceRight=function(t,n){return function(e){return r.reduceRight(e,t,n)}}}if("function"==typeof r.reduceWithIndex){e.reduceWithIndex=function(t,n){return function(e){return r.reduceWithIndex(e,t,n)}},e.foldMapWithIndex=function(e){var n=r.foldMapWithIndex(e);return function(t){return function(e){return n(e,t)}}},e.reduceRightWithIndex=function(t,n){return function(e){return r.reduceRightWithIndex(e,t,n)}}}if("function"==typeof r.alt){e.alt=function(t){return function(e){return r.alt(e,t)}}}if("function"==typeof r.compact&&(e.compact=r.compact,e.separate=r.separate),"function"==typeof r.filter){e.filter=function(t){return function(e){return r.filter(e,t)}},e.filterMap=function(t){return function(e){return r.filterMap(e,t)}},e.partition=function(t){return function(e){return r.partition(e,t)}},e.partitionMap=function(t){return function(e){return r.partitionMap(e,t)}}}if("function"==typeof r.filterWithIndex){e.filterWithIndex=function(t){return function(e){return r.filterWithIndex(e,t)}},e.filterMapWithIndex=function(t){return function(e){return r.filterMapWithIndex(e,t)}},e.partitionWithIndex=function(t){return function(e){return r.partitionWithIndex(e,t)}},e.partitionMapWithIndex=function(t){return function(e){return r.partitionMapWithIndex(e,t)}}}if("function"==typeof r.promap){e.promap=function(t,n){return function(e){return r.promap(e,t,n)}}}if("function"==typeof r.compose){e.compose=function(t){return function(e){return r.compose(e,t)}}}if("function"==typeof r.throwError){e.fromOption=function(t){return function(e){return"None"===e._tag?r.throwError(t()):r.of(e.value)}},e.fromEither=function(e){return"Left"===e._tag?r.throwError(e.left):r.of(e.right)},e.fromPredicate=function(t,n){return function(e){return t(e)?r.of(e):r.throwError(n(e))}},e.filterOrElse=function(t,n){return function(e){return r.chain(e,function(e){return t(e)?r.of(e):r.throwError(n(e))})}}}return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return r}),n.d(t,"DDPAddon",function(){return i});var r=function(e,t,n){},i=(a.prototype.initiateIdSync=function(){var e="https://cm.g.doubleclick.net/pixel?google_nid=permutive_dmp&google_cm&type=ddp&k="+this._internals.config.apiKey+"&u="+this._internals.state.userId;(new Image).src=e,this._internals.state.setPermutiveData("addon:ddp",(new Date).getTime())},a);function a(e){this.permutive=e.permutive,this._internals=e._internals;var t=this._internals.state.getPermutiveData("addon:ddp");(isNaN(t)||(new Date).getTime()>t+864e5)&&this.initiateIdSync()}},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return r}),n.d(t,"DFPAddon",function(){return i});var f=n(2),d=n(3),l="_pdfps",p={},r=function(s,n){s.q.push({functionName:"addon",arguments:["dfp",{}]}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){s.ready(n.makeSafe(function(){var t=0;googletag.pubads&&googletag.pubads().getSlots&&0<googletag.pubads().getSlots().length&&googletag.pubads().getSlots().forEach(function(e){e.getResponseInformation()&&t++});var e=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";n.metrics.track({name:e,value:1,labels:{target:"dfp"}})}),"realtime");var e,t=(e=n.getExternalData(l))?JSON.parse(e):[];googletag.cmd.push(function(){googletag.pubads().setTargeting("permutive",t.map(String))});function c(e){for(var t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId(),targeting_keys:[]},n={},r=e.getTargetingKeys(),i=0;i<r.length;i++){for(var a=r[i],o=[],c=e.getTargeting(a),u=0;u<c.length;u++)o.push(c[u].toString());0<o.length&&(n[a]=1,t.targeting_keys.push({key:a,value:o}))}var s=googletag.pubads().getTargetingKeys();for(i=0;i<s.length;i++){o=[];if(void 0===n[a=s[i]]){for(c=googletag.pubads().getTargeting(s[i]),u=0;u<c.length;u++)o.push(c[u].toString());0<o.length&&t.targeting_keys.push({key:a,value:o})}}return t}function u(t){try{var n=!1;window.addEventListener("blur",function(){if(n){var e=p[t];e&&s.track("SlotClicked",e)}}),document.getElementById(t).addEventListener("mouseover",function(){n=!0}),document.getElementById(t).addEventListener("mouseout",function(){n=!1})}catch(e){}}googletag.pubads&&googletag.pubads().getSlots&&googletag.pubads().getSlots().forEach(function(e){var t=e.getResponseInformation();if(t){var n=e.getSlotElementId(),r={advertiser_id:Object(d.l)(t.advertiserId),campaign_id:Object(d.l)(t.campaignId),line_item_id:Object(d.l)(t.lineItemId),creative_id:Object(d.l)(t.creativeId),is_empty:!1,service_name:"publisher_ads",slot:c(e)};p[n]=r,s.track("SlotRendered",r,{isAnalyticsOnly:!0}),u(n)}}),googletag.cmd.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(e){var t=e,n=t.slot.getSlotElementId(),r={advertiser_id:Object(d.l)(t.advertiserId),campaign_id:Object(d.l)(t.campaignId),line_item_id:Object(d.l)(t.lineItemId),creative_id:Object(d.l)(t.creativeId),is_empty:t.isEmpty,service_name:t.serviceName,slot:c(e.slot)};if(t.size){var i=f.c(t.size),a=i[0],o=i[1];i.slice(2);"number"==typeof a&&"number"==typeof o&&(r.width=a,r.height=o)}p[n]=r,s.track("SlotRendered",r,{isAnalyticsOnly:!0}),u(n)})}),window.addEventListener("message",function(e){try{var t=JSON.parse(e.data);if(t.permutive_type&&"google_ad_click"===t.permutive_type){var n=t.data.ad_unit_path,r=Object(d.l)(t.data.creative_id),i=void 0;Object.keys(p).forEach(function(e){void 0!==p[e].slot&&p[e].slot.ad_unit_path===n&&p[e].creative_id===r&&(i=p[e])}),i=i||{line_item_id:Object(d.l)(t.data.line_item_id),advertiser_id:Object(d.l)(t.data.advertiser_id),campaign_id:Object(d.l)(t.data.order_id),creative_id:Object(d.l)(r),is_empty:!1},s.track("SlotClicked",i)}}catch(e){}},!1)})},i=(a.prototype.updateIfNecessary=function(e){var t=this.filterSegments(e);this._internals.arraysEqual(t,this.liveSegments)||this.updateSegments(t)},a.prototype.updateSegments=function(e){var t=this.processActivations(this._internals.thirdParty.getActivationMetadata()),n=e.concat(t);1500<encodeURIComponent(JSON.stringify(n)).length&&(n=e,this.trackedTargetingLimitMetric||(this._internals.metrics.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),this.trackedTargetingLimitMetric=!0)),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push(function(){return googletag.pubads().setTargeting("permutive",n.map(String).concat(["rts"]))});var r=JSON.stringify(n.map(String));this._internals.setExternalData(l,r),"boolean"==typeof{auto_init:!0,networks:[{name:"Default",network_code:"7938"}],track_slot_clicked:!0,track_slot_rendered:!0,track_slot_viewable:!1}.sync_segments_cookie&&{auto_init:!0,networks:[{name:"Default",network_code:"7938"}],track_slot_clicked:!0,track_slot_rendered:!0,track_slot_viewable:!1}.sync_segments_cookie&&this._internals.api.segmentSync(l,r),this.liveSegments=e},a.prototype.filterSegments=function(e){var t=this;return e.filter(function(e){return e in t.eligibleSegments}).map(function(e){return t.eligibleSegments[e]})},a.prototype.processActivations=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)&&n in this.eligibleSegments)for(var r=0;r<e[n].length;r++)t.push(e[n][r]);return t},a);function a(e){var t=this;this.trackedTargetingLimitMetric=!1,this._internals=e._internals;var n=this._internals.getExternalData(l);this.liveSegments=n?JSON.parse(n):[],this.eligibleSegments={};for(var r=this._internals.state.reactionManager.getSpecializedReactions("target_dfp"),i=0;i<r.dfp.length;i++){var a=r.dfp[i];this.eligibleSegments[a]=a}for(var o in r.dfp_legacy)if(r.dfp_legacy.hasOwnProperty(o)){var c=r.dfp_legacy[o];this.eligibleSegments[o]=c}var u=this._internals.queryManager.userSegments;this.updateSegments(this.filterSegments(u)),this._internals.messages.emit("permutive:dfp:ready"),this._internals.messages.on("permutive:segments:updated",this._internals.makeSafe(function(){var e=t._internals.queryManager.userSegments;t.updateIfNecessary(e)})),this._internals.messages.on("permutive:reset",this._internals.makeSafe(function(){t._internals.removeExternalData(l),t._internals.deleteCookie(l),t.liveSegments=[]}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return r}),n.d(t,"OverlaysAddon",function(){return i});var r=function(e,t){e.q.unshift({functionName:"addon",arguments:["overlays",{}]})},i=(a.prototype.buildOverlayCss=function(e,t){return'<style type="text/css">.${overlay_class}{position:fixed;top:0;bottom:0;left:0;right:0;width:100%;height:100%;background:rgba(0,0,0,0.${opacity_percentage});transition:opacity ${opacity_transition_ms}ms;visibility:hidden;opacity:0;z-index:1000000;}.${modal_class}{position:fixed;padding:10px;background:#fff;border-radius:5px;z-index:1000001}.${modal_class} .content{overflow:auto;z-index:1000002;}.${modal_class} .close{position:absolute;top:20px;right:30px;transition:all 200ms;font-size:30px;font-weight:bold;text-decoration:none;color:#333;z-index:1000003}.${modal_class} .close:hover{color:orange;}</style>'.replace(/\${overlay_class}/g,"permutive-overlay-"+t).replace(/\${modal_class}/g,"permutive-modal-"+t).replace("${opacity_percentage}",e.opacity_percentage.toString()).replace("${opacity_transition_ms}",e.opacity_transition_ms.toString())},a.prototype.buildOverlayBody=function(e,t){var n,r="";return void 0!==e.html?r=e.html:void 0!==(n=e).image_url&&void 0!==n.image_link&&(r='<a href="'+e.image_link+'"><img src="'+e.image_url+'"/></a>'),'<div id="${overlay_class}" class="${overlay_class}"><div id="${modal_class}" class="${modal_class}"><a class="close" href="javascript:;">&times;</a><div class="content">${content}</div></div></div>'.replace(/\${overlay_class}/g,"permutive-overlay-"+t).replace(/\${modal_class}/g,"permutive-modal-"+t).replace("${content}",r).replace(/<img /g,"<img onload='window.permutive.addons.overlays.loadedImage(\"permutive-overlay-"+t+"\")' ")},a.prototype.showOverlay=function(e){function t(){var e=r.getElementsByTagName("div")[0],t=e.getBoundingClientRect().height,n=e.getBoundingClientRect().width;e.style.left=window.innerWidth/2-n/2+"px",e.style.top=window.innerHeight/2-t/2+"px",r.style.visibility="visible",r.style.opacity="1"}var n=this,r=document.getElementById(""+e),i=r.getElementsByTagName("img");if(0<i.length){var a=0,o=function(){a<10&&(!(e in n.loadedImageCounts)||n.loadedImageCounts[e]<i.length)?(a+=1,setTimeout(o,500)):t()};o()}else t()},a.prototype.loadedImage=function(e){e in this.loadedImageCounts?this.loadedImageCounts[e]=this.loadedImageCounts[e]+1:this.loadedImageCounts[e]=1},a);function a(e){var p=this,g=this;this.permutive=e.permutive,this._internals=e._internals,this.reactions=this._internals.state.reactionManager.getReactions("show_overlay"),this.loadedImageCounts={};for(var t=function(e){var t=_.reactions[e],n=t.config,r=_.buildOverlayCss(n,e);document.head.insertAdjacentHTML("beforeend",r);var i=_.buildOverlayBody(n,e);document.body.insertAdjacentHTML("beforeend",i);function a(){c.style.visibility="hidden",c.style.opacity="0"}var o="permutive-overlay-"+e,c=document.getElementById(o),u=c.getElementsByClassName("close")[0],s=c.getElementsByClassName("content")[0],f=function(e){s.contains(e.target)||(a(),c.removeEventListener("click",f))};u.addEventListener("click",a),c.addEventListener("click",f),[].slice.call(c.getElementsByTagName("a")).slice(1).forEach(function(e){e.addEventListener("click",function(e){t.trackConversion({useBeacon:!0})})});var d=c.getElementsByTagName("form")[0];d&&d.addEventListener("submit",function(e){e.preventDefault(),e.currentTarget,t.trackConversion({success:function(){d.submit()}})});function l(e,t){g.showOverlay(e),t.trackImpression()}t.reactEveryTime()?_.permutive.segment(t.segmentCode,_._internals.makeSafe(function(e){e?l(o,t):p.permutive.trigger(t.segmentCode,"result",function(e){e.result&&l(o,t)})})):t.reactOnEntry()?_.permutive.trigger(t.segmentCode,"result",_._internals.makeSafe(function(e){e.result&&l(o,t)})):t.reactOnExit()&&_.permutive.trigger(t.segmentCode,"result",_._internals.makeSafe(function(e){e.result||l(o,t)}))},_=this,n=0;n<this.reactions.length;n++)t(n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return r}),n.d(t,"RubiconAddon",function(){return i});var r=function(e,t){e.q.push({functionName:"addon",arguments:["rubicon",{}]});var n=t.getExternalData("_prps"),r=n?JSON.parse(n):[];"undefined"!=typeof googletag?googletag.cmd.push(function(){"undefined"!=typeof rubicontag&&rubicontag.setFPI&&rubicontag.setFPI("permutive",r.join(","))}):"undefined"!=typeof rubicontag&&rubicontag.setFPI&&rubicontag.cmd.push(function(){rubicontag.setFPI("permutive",r.join(","))})},i=(a.prototype.exportSegments=function(){var t=this,e=this._internals.queryManager.userSegments,n=[];e.forEach(function(e){e in t.segments&&n.push(e.toString())}),0<n.length&&(this._internals.setExternalData("_prps",JSON.stringify(n)),"undefined"!=typeof googletag?googletag.cmd.push(function(){"undefined"!=typeof rubicontag&&rubicontag.setFPI&&rubicontag.setFPI("permutive",n.join(","))}):"undefined"!=typeof rubicontag&&rubicontag.setFPI&&rubicontag.cmd.push(function(){return rubicontag.setFPI("permutive",n.join(","))}))},a);function a(e){var t=this,n=this;this.permutive=e.permutive,this._internals=e._internals,this.reactions=this._internals.state.reactionManager.getReactions("target_rubicon"),this.segments={};for(var r=0;r<this.reactions.length;r++){var i=this.reactions[r].segmentCode;this.segments[i]=!0}this.exportSegments(),this._internals.messages.on("permutive:segments:updated",this._internals.makeSafe(function(){n.exportSegments()})),this._internals.messages.on("permutive:reset",this._internals.makeSafe(function(){t._internals.removeExternalData("_prps")}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"load",function(){return load}),__webpack_require__.d(__webpack_exports__,"ScriptRunnerAddon",function(){return ScriptRunnerAddon});var load=function(e,t){e.q.unshift({functionName:"addon",arguments:["scriptrunner",{}]})},ScriptRunnerAddon=function(){function ScriptRunnerAddon(options){var _this=this;this.permutive=options.permutive,this._internals=options._internals,this.network=options.network,this.reactions=this._internals.state.reactionManager.getReactions("run_script");for(var _loop_1=function(i){var reaction=this_1.reactions[i],run_1=function(reaction){var script=reaction.config.script.replace(/impression\(\)/g,"reaction.trackImpression();").replace(/conversion\(\)/g,"reaction.trackConversion();");try{eval(script)}catch(e){e.message="Error running custom script: "+e.message,_this.network.error(e,_this._internals.state.userId)}};reaction.reactEveryTime()?this_1.permutive.segment(reaction.segmentCode,function(e){e?run_1(reaction):_this.permutive.trigger(reaction.segmentCode,"result",function(e){e.result&&run_1(reaction)})}):reaction.reactOnEntry()?this_1.permutive.trigger(reaction.segmentCode,"result",function(e){e.result&&run_1(reaction)}):reaction.reactOnExit()&&this_1.permutive.trigger(reaction.segmentCode,"result",function(e){e.result||run_1(reaction)})},this_1=this,i=0;i<this.reactions.length;i++)_loop_1(i)}return ScriptRunnerAddon}()},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return r}),n.d(t,"PixelAddon",function(){return a});var i=n(2),r=function(e,t){e.q.push({functionName:"addon",arguments:["tracking_pixel",{}]})},a=(o.prototype.extractPixelType=function(e){return-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0]},o.prototype.firePixelsIfNecessary=function(r){var o=this,e=Object.keys(i.a({},this.eligibleSegmentsForEntries,this.eligibleSegmentsForExits)),c={},u=this.eligibleSegmentsForEntries,s=this.eligibleSegmentsForExits;e.forEach(function(e){c[e]=c[e]||[];for(var t=0;t<r.length;t++){var n=r[t];(u[e]&&u[e][n]||s[e]&&s[e][n])&&c[e].push(r[t])}}),e.forEach(function(e){for(var t=c[e]||[],n=Array.isArray(o.latestStateByDomain[e])?o.latestStateByDomain[e]:[],r=0;r<t.length;r++){var i=t[r];-1===n.indexOf(i)&&(a=u[e]&&u[e][i])&&a.reactOnEntry()&&o.firePixel(a)}for(r=0;r<n.length;r++){var a;i=n[r],-1===t.indexOf(i)&&(a=s[e]&&s[e][i])&&a.reactOnExit()&&o.firePixel(a)}}),this.latestStateByDomain=c,this._internals.state.setPermutiveData("addon:tracking_pixel",this.latestStateByDomain)},o.prototype.firePixel=function(e){(new Image).src=e.config.pixel_url,e.trackImpression()},o);function o(e){var t=this,n=this;this.permutive=e.permutive,this._internals=e._internals,this.latestStateByDomain=this._internals.state.getPermutiveData("addon:tracking_pixel")||{},this.reactions=this._internals.state.reactionManager.getReactions("tracking_pixel");var r=0===Object.keys(this.latestStateByDomain).length;this.eligibleSegmentsForEntries={},this.eligibleSegmentsForExits={};for(var i=0;i<this.reactions.length;i++){var a=this.reactions[i],o=a.segmentCode,c=a.config.pixel_url,u=this.extractPixelType(c);a.reactOnEntry()?(u in this.eligibleSegmentsForEntries||(this.eligibleSegmentsForEntries[u]={}),this.eligibleSegmentsForEntries[u][o]=a):a.reactOnExit()&&(u in this.eligibleSegmentsForExits||(this.eligibleSegmentsForExits[u]={}),this.eligibleSegmentsForExits[u][o]=a)}var s=this._internals.queryManager.userSegments;r&&this._internals.makeSafe(function(){return t.firePixelsIfNecessary(s)}),this._internals.messages.on("permutive:segments:updated",this._internals.makeSafe(function(){var e=t._internals.queryManager.userSegments;n.firePixelsIfNecessary(e)})),this._internals.messages.on("permutive:reset",this._internals.makeSafe(function(){n.latestStateByDomain={},t._internals.state.setPermutiveData("addon:tracking_pixel",{})}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return o}),n.d(t,"WebAddon",function(){return u});var c=n(2),r=n(3),i=["mousemove","click","scroll"],a=["email","tel","submit","reset","button","file","password","radio","checkbox"],o=function(e,t){e.q.push({functionName:"addon",arguments:["web",{auto_init:!0}]})},u=(s.prototype.sendPageviewEvent=function(){var e=this,t=c.a({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},{},this.alchemyProperties(this.permutive.context.isArticle),this.page?this.page:{}),n={success:function(){e.initialised||e._internals.metrics.trackTimeSinceInit("sdk_first_event_tracked_task_duration_seconds",{})}};this.permutive.track("Pageview",t,n)},s.prototype.sendLinkClickEvent=function(e,t){if(window.location.href&&e.href){var n=0===e.href.indexOf("data:")?"NOT_URL":e.href;this.permutive.track("LinkClick",{dest_url:n},{useBeacon:t})}},s.prototype.sendFormSubmissionEvent=function(e){var t=e.currentTarget,n={form:c.a({method:t.method||"GET",properties:this.serializeForm(t)},"string"==typeof t.id?{id:t.id}:{},t.name&&"string"==typeof t.name?{name:t.name}:{},t.action&&"string"==typeof t.action?{action:t.action}:{},{})};this.permutive.track("FormSubmission",n)},s.prototype.sendEngagementEvent=function(e){var t=this.updateState(e),n=t.engaged_time,r=t.total_engaged_time,i=t.completion,a=t.total_completion,o=c.a({engaged_time:n,total_engaged_time:r},this.page,{completion:i,total_completion:a},{});this.permutive.track("PageviewEngagement",o)},s.prototype.sendAggregateEvent=function(e,t,n){void 0===n&&(n=!0);var r=c.a({total_engaged_time:e},{total_completion:t});this.permutive.track("PageviewEngagementAggregate",r,{useBeacon:n}),this.hasAggregateFired=!0},s.prototype.reset=function(e){this._internals.state.viewId=this._internals.randomUuid(),this.page=e.page||null,this.totalCompletion=0,this.totalEngagedTime=0,this.sendPageviewEvent(),this.trackPageviewEngagement&&(clearInterval(this.timerHandle),this.timerHandle=this.registerEngagementInterval(this.eventInterval))},s.prototype.serializeForm=function(e){return[].slice.call(e.getElementsByTagName("input"),0).filter(function(e){return!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==a.indexOf(e.type.toLowerCase()))}).map(function(e){return{name:e.name||e.id,value:e.value}}).filter(function(e){return e.value.length<120})},s.prototype.alchemyProperties=function(e){return e?c.a({},{auto_init:!0}.add_alchemy_taxonomy?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{},{auto_init:!0}.add_alchemy_entities?{entity_names:"$alchemy_entity_names"}:{}):{}},s.prototype.findParent=function(e,t){if(e.tagName.toLowerCase()===t)return e;for(var n=e.parentElement;null!==n;){if(n.tagName.toLowerCase()===t)return n;n=n.parentElement}return null},s.prototype.registerEngagementInterval=function(e){var t=this;return setInterval(function(){t.dirtyState&&t.sendEngagementEvent(e)},1e3*e)},s.prototype.attachListeners=function(){var r=this;this.trackFormSubmission&&[].slice.call(document.getElementsByTagName("form"),0).forEach(function(e){e.addEventListener("submit",r._internals.makeSafe(r.sendFormSubmissionEvent.bind(r)))}),this.trackLinkClick&&document.body.addEventListener("click",function(e){var t=r.findParent(e.target,"a");if(t){var n=!("_blank"===t.target||e.metaKey||e.ctrlKey||e.shiftKey||2===e.which||3===e.which);r.sendLinkClickEvent(t,n)}})},s.prototype.updateState=function(e){var t=Math.max(this.totalCompletion,this.getCurrentCompletion()),n=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:n,total_completion:this.totalCompletion}},s.prototype.getCurrentCompletion=function(){var e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:e<=t?1:t/e},s.prototype.setAggregateTimeout=function(e){var t=this;return window.setTimeout(function(){return t.sendAggregateEvent(t.totalEngagedTime,t.totalCompletion,!1)},e)},s.prototype.resetTimeout=function(){clearTimeout(this.aggregateTimeoutHandle),this.aggregateTimeoutHandle=this.setAggregateTimeout(this.aggregateTimeoutDuration)},s);function s(e){var t=this;this.dirtyState=!1,this.initialised=!1,this.totalCompletion=0,this.totalEngagedTime=0,this.trackPageviewEngagement="boolean"!=typeof{auto_init:!0}.track_pageview_engagement||{auto_init:!0}.track_pageview_engagement,this.trackPageviewEngagementAggregate="boolean"==typeof{auto_init:!0}.track_aggregate_pageview_engagement&&{auto_init:!0}.track_aggregate_pageview_engagement,this.trackFormSubmission="boolean"!=typeof{auto_init:!0}.track_form_submission||{auto_init:!0}.track_form_submission,this.trackLinkClick="boolean"!=typeof{auto_init:!0}.track_link_click||{auto_init:!0}.track_link_click,this.aggregateTimeoutDuration=3e5,this.hasAggregateFired=!1,this.permutive=e.permutive,this._internals=e._internals,this.eventInterval=e.eventInterval||5,this.page=e.page||{},this.sendPageviewEvent(),(e.dirtyEvents||i).map(function(e){window.addEventListener(e,function(){t.dirtyState=!0,t.trackPageviewEngagementAggregate&&t.resetTimeout()})}),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners,!1),this.trackPageviewEngagement&&(this.timerHandle=this.registerEngagementInterval(this.eventInterval)),this.trackPageviewEngagementAggregate&&(this.setAggregateTimeout(this.aggregateTimeoutDuration),Object(r.m)(function(){return t.hasAggregateFired?null:t.sendAggregateEvent(t.totalEngagedTime,t.totalCompletion)})),this.initialised=!0}},function(e,n,r){"use strict";(function(f){r.d(n,"a",function(){return e});var e=(t.prototype.getEndpointUrl=function(e,t){return this.config.apiProtocol+"://"+this.config.apiHost+"/"+(t||this.config.apiVersion)+e},t.prototype.req=function(t,e){var n=-1===t.url.indexOf("?")?"?":"&",r=t.url+n+"k="+this.config.apiKey,i=t.method||"GET",a=t.data?JSON.stringify(t.data):"",o=t.contentType?t.contentType:"application/json";if(e&&navigator.sendBeacon){if(navigator.sendBeacon(r,a))return t.success&&t.success(a),f.resolve();var c="Failed to queue beacon";return t.error&&t.error(c),f.reject(c)}return this.ajax({type:i,url:r,contentType:o,dataType:t.dataType?t.dataType:"json",data:a,timeout:this.config.timeout,xhrFields:t.xhrFields}).then(function(e){return t.success&&t.success(e),e},function(e){throw t.error&&t.error(e),new Error(e)})},t.prototype.ajax=function(u){var s=this;return new f(function(e,t){var n,r,i={},a=u.dataType?u.dataType:"json",o=new XMLHttpRequest;if(u.contentType&&(n="Content-Type",r=u.contentType,i[n.toLowerCase()]=[n,r]),"binary"===u.dataType&&(o.responseType="arraybuffer"),o.onload=function(){404===this.status?t("Resource not found"):e("json"===a?this.responseText?JSON.parse(this.responseText):null:"text"===a?this.responseText:this.response)},o.onerror=function(){s.error("Failed AJAX request"),t(new TypeError("Network request failed"))},o.ontimeout=function(){s.error("AJAX request timed out"),t(new TypeError("Network request timed out"))},o.open(u.type?u.type:"GET",u.url,!0),u.timeout&&(o.timeout=u.timeout),u.xhrFields)for(var c in u.xhrFields)o[c]=u.xhrFields[c];Object.keys(i).forEach(function(e){var t=i[e];o.setRequestHeader(t[0],t[1])}),o.send(u.data?u.data:null)})},t.prototype.error=function(e,t){if(this.config.sendClientErrors){if(3<this.clientErrorsSent)return;this.clientErrorsSent+=1;var n={user_id:t||"",domain:window.location.hostname?window.location.hostname:"",url:window.location.href?window.location.href:"",referrer:document.referrer?document.referrer:"",user_agent:navigator.userAgent?navigator.userAgent:"",error_message:"",stack_trace:"",additional_details:""};e instanceof Error?(void 0!==e.message&&(n.error_message=e.message.toString()),void 0!==e.stack&&(n.stack_trace=e.stack.toString())):n.additional_details=e.toString(),this.req({url:this.getEndpointUrl("/internal/errors"),method:"POST",data:n,contentType:"text/plain",dataType:"text"},!1)}else window.console&&(window.console.error?window.console.error("[Permutive]",e):window.console.log&&window.console.log("[Permutive]",e))},t);function t(e){this.config=e,this.clientErrorsSent=0}}).call(this,r(11).Promise)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(2),r=(i.prototype.makeSafe=function(n){var r=this;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return n.apply(void 0,a.e(e))}catch(e){r.network.error(e,r.state.userId)}}},i.prototype.utcNow=function(){var e=new Date;return new Date(e.toUTCString())},i.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.config.loggingEnabled&&window.console&&window.console.log&&(e.splice(0,0,"[Permutive]"),console.log.apply(console,e))},i.prototype.applyQueue=function(){var t=this,i=["identify","trigger","addon","track"];a.e(this.permutive.q).sort(function(e,t){var n=i.indexOf(e.functionName),r=i.indexOf(t.functionName);return-1===n?-1===r?0:1:-1===r?-1:n-r}).forEach(function(e){e.functionName in t.permutive?t.permutive[e.functionName].apply(t.permutive,e.arguments):t.network.error('Function "permutive.'+e.functionName+'" does not exist.',t.state.userId)})},i.prototype.setAsReady=function(){this.isReady=!0,this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{sdk_version:"v10.0.0-RC.51"}),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}})),this.messages.emit("permutive:ready")},i.prototype.setAsRealtime=function(){this.isRealtime=!0,this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{})},i.prototype.addBlocker=function(t){var n=this;this.blockers.push(t),this.log("<blockers> added blocker "+t),this.messages.on(t,function(){if(n.listenForBlockers){var e=n.blockers.indexOf(t);0<=e&&(n.blockers.splice(e,1),n.log("<blockers> removed blocker "+t)),0===n.blockers.length&&(n.listenForBlockers=!1,n.messages.emit("permutive:blockers:empty"),n.log("<blockers> complete"))}})},i.prototype.getNamespacedStorageKey=function(e){return""+this.permutive.config.stateNamespace+e},i.prototype.setCookie=function(e,t,n){if(void 0===n&&(n=!1),!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain))return!1;var r=this.getNamespacedStorageKey(e);document.cookie=[encodeURIComponent(r),"=",encodeURIComponent(t),"; expires=",this.config.cookieExpiry,"; domain=",this.config.cookieDomain,"; path=/",n?"; samesite=none; secure":""].join("")},i.prototype.getCookie=function(e,t){void 0===t&&(t=!1);var n=t?e:this.getNamespacedStorageKey(e),r=new RegExp(encodeURIComponent(n)+"=([^;]+)").exec(document.cookie);return null!==r?decodeURIComponent(r[1]):null},i.prototype.deleteCookie=function(e){if(!e||!this.config.cookieDomain)return!1;var t=this.getNamespacedStorageKey(e);return document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; domain="+this.config.cookieDomain+"; path=/",!0},i.prototype.getExternalData=function(e){var t=this.getNamespacedStorageKey(e);return localStorage.getItem(t)},i.prototype.setExternalData=function(e,t){var n=this.getNamespacedStorageKey(e);this.makeSafe(function(){localStorage.setItem(n,t)})()},i.prototype.removeExternalData=function(e){var t=this.getNamespacedStorageKey(e);localStorage.removeItem(t)},i.prototype.randomUuid=function(){var n=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(n+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"===e?t:3&t|8).toString(16)})},i.prototype.arraysEqual=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},i);function i(e,t,n){this.config=e,this.permutive=t,this.network=n,this.isReady=!1,this.isRealtime=!1,this.listenForBlockers=!0}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(3),i=(a.prototype.addPromise=function(e,t,n,r){var i=this;e in this.promises||(this.promises[e]={}),this.promises[e][t]=r,window.setTimeout(function(){i.resolvePromise(e,t)},n)},a.prototype.createPromise=function(e,t,n){this.addPromise(e,t,n,Object(r.a)())},a.prototype.getPromise=function(e,t){return Object(r.g)(this.promises,[e,t])},a.prototype.resolvePromise=function(e,t){var n=this.getPromise(e,t);return void 0!==n?(n.resolve(),n):void 0},a.prototype.getPromisesByCategory=function(e){var t=Object(r.g)(this.promises,[e])||{};return Object.keys(t).map(function(e){return t[e]})},a);function a(){this.promises={}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(i.prototype.getSessionId=function(){return this.session_id},i.prototype.newSession=function(e){return{session_id:this._internals.randomUuid(),last_updated:e}},i.prototype.initialize=function(){var e=new Date,t=this._internals.getCookie(this.options.session_data_key),n=this.decodeSessionData(t);if(null===n)n=this.newSession(e);else{var r=this.options.timeout_seconds;new Date(n.last_updated.getTime()+1e3*r)<e?n=this.newSession(e):n.last_updated=e}this.persistSessionData(n),this.session_id=n.session_id},i.prototype.decodeSessionData=function(e){var t=null;try{t=JSON.parse(e)}catch(e){return null}return null!==t&&"object"==typeof t&&t.hasOwnProperty("session_id")&&t.hasOwnProperty("last_updated")&&(t.last_updated=new Date(t.last_updated),!isNaN(t.last_updated.getTime()))?t:null},i.prototype.persistSessionData=function(e){e.last_updated=e.last_updated.toISOString(),this._internals.setCookie(this.options.session_data_key,JSON.stringify(e))},i);function i(e,t){this._internals=e,(t=t||{}).timeout_seconds=t.timeout_seconds||1800,t.session_data_key=t.session_data_key||"permutive-session",this.options=t,this.session_id=null,this.initialize()}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i={success:function(e){},error:function(e,t){}},r=(a.prototype.identify=function(e,t){var n=this;void 0===t&&(t=i),e.forEach(function(e){return n._internals.identities.addAlias(e.id,e.tag)});var r=this._internals.identities.currentAliases;return this.network.req({url:this.network.getEndpointUrl("/identify"),method:"POST",data:{user_id:this._internals.state.userId,aliases:this._internals.identities.convertAliases(r)},success:t.success,error:t.error,contentType:"text/plain",xhrFields:{withCredentials:!0}},!1)},a.prototype.graphql=function(e,t){return void 0===t&&(t=i),this.network.req({url:this._internals.config.apiProtocol+"://"+this._internals.config.apiHost+"/graphql",method:"POST",success:t.success,error:t.error,data:{query:e},contentType:"text/plain",xhrFields:{withCredentials:!0}},!1)},a.prototype.metrics=function(e,t){return void 0===t&&(t=i),this.network.req({url:this.network.getEndpointUrl("/internal/metrics"),method:"POST",data:e,contentType:"text/plain",dataType:"text",success:t.success,error:t.error},!1)},a.prototype.track=function(e,t,n){return this.network.req({url:this.network.getEndpointUrl((Array.isArray(e)?"/batch":"")+"/events")+"?enrich="+!!t.includeResponseBody,method:"POST",data:e,success:t.success,error:t.error,contentType:"text/plain"},n)},a.prototype.tpdUsage=function(e,t){return void 0===t&&(t=i),this.network.req({url:this.network.getEndpointUrl("/tpd/usage"),method:"POST",data:e,success:t.success,error:t.error,contentType:"text/plain"},!1)},a.prototype.reset=function(){return this.network.req({url:this.network.getEndpointUrl("/reset"),method:"POST",xhrFields:{withCredentials:!0},contentType:"text/plain"},!1)},a.prototype.segmentSync=function(e,t){return this.network.ajax({url:"https://"+this._internals.config.segmentSyncApiHost+"/sync/"+e,type:"POST",data:"value="+encodeURIComponent(t),contentType:"application/x-www-form-urlencoded",xhrFields:{withCredentials:!0}})},a.prototype.state=function(e,t,n,r,i){return void 0===i&&(i=!1),this.network.req({url:this.network.getEndpointUrl(i?"/state/legacy":"/state","v1.0")+"?fetch_unseen="+r,method:"POST",data:{group_id:this._internals.state.userId,event_source_id:this._internals.state.eventSourceId,state:JSON.stringify(e),last_seen_offset:t},contentType:"text/plain"},n)},a.prototype.models=function(e){var t="binary"===e?"bin":"json";return this.network.ajax({url:"https://"+this._internals.config.cdnBaseUrl+"/models/"+this._internals.config.projectId+"-models."+t,dataType:e})},a);function a(e,t){this._internals=e,this.network=t}},function(e,n,r){"use strict";(function(u){r.d(n,"a",function(){return e});var s=r(2),f=r(3),d=r(66),a={permutive:"1",eyeota:"2",nielsen:"3",skimlinks:"4",comscore:"5",eyeota_bombora:"6",eyeota_aimmatic:"7",eyeota_alc:"8",eyeota_amberdata:"9",eyeota_caci:"10",eyeota_corelogic:"11",eyeota_dlg:"12",eyeota_dataxpand:"13",eyeota_dunbradstreet:"14",eyeota_experian:"15",eyeota_gbgtransactis:"16",eyeota_gfk:"17",eyeota_rdaresearch:"18",eyeota_kantarmedia:"19",eyeota_mastercard:"20",eyeota_meritdirect:"21",eyeota_netsprint:"22",eyeota_nri:"23",eyeota_onaudience:"24",eyeota_pacificdatapartners:"25",eyeota_plungedigital:"26",eyeota_roymorgan:"27",eyeota_schober:"28",eyeota_sharethis:"30",eyeota_skimlinks:"31",eyeota_specialists:"32",eyeota_statsocial:"33",eyeota_stirista:"34",eyeota_yougov:"36"},e=(t.prototype.segments=function(){var r=this;if(this.segmentsPromise)return this.segmentsPromise;var e=this._internals.sessionManager.getSessionId();if(this.lastCheckedSession===e)return u.resolve(this.userSegments);var n=Object(f.a)();this.lastCheckedSession=e;var i=this._internals.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{}),t=s.a({},this._internals.identities.getIdentities(!0),this._internals.identities.currentAliases);if(0<Object.keys(t).length){var a=new d.a(this._internals.state.userId||this._internals.randomUuid(),this._internals.identities.convertAliases(t));this._internals.graphql.register(a).then(function(e){var t=r.graphQLTPDResponseToSegmentMap(e);r.updateCache(t),n.resolve(t)}).catch(function(e){r.network.error("Third Party Data segments retrieval failed with reason: "+e,r._internals.state.userId),n.resolve({})})}else n.resolve({});var o=this._internals.promises.getPromisesByCategory("tpd"),c=u.all(o.map(function(e){return e.promise})).then(function(e){return n.promise}).then(function(e){return r.userSegments});return c.then(function(t){r._internals.state.setPermutiveData("third-party-data-session-id",e),r._internals.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",i);var n=r._internals.state.getPermutiveData("third-party-data");n&&Object(f.k)(n,t)||(r._internals.state.setPermutiveData("third-party-data",r.userSegments),Object.keys(t).forEach(function(e){n&&Object(f.k)(n[e],t[e])||r.fireSegments(e,Object.keys(t[e]))}))}),this.segmentsPromise=c,this.segmentsPromise},t.prototype.addSegments=function(e,t){var n;this.updateCache(((n={})[e]=this.listToSegmentMap(t),n))},t.prototype.getActivationMetadata=function(){function e(n){if(t.hasOwnProperty(n)){var r=[],e=s.a({},t[n]);Object.keys(e).forEach(function(t){e[t].forEach(function(e){r.push([n,a[t],e].join("-"))})}),i[n]=r}}var t=this.tpdUsage(this._internals.queryManager.stateMap.value),i={};for(var n in t)e(n);return i},t.prototype.updateCache=function(e){this.userSegments=Object(f.j)(this.userSegments,e)},t.prototype.fireSegments=function(e,t){this.permutive.track("ThirdPartySegments",{data_provider:e,segments:t},{isAnalyticsOnly:!0})},t.prototype.reportUsage=function(){var e=this.tpdUsage(this._internals.queryManager.stateMap.value),t=Object(f.f)(JSON.stringify(e));if(this._internals.state.getPermutiveData("third-party-data-usage")!==t&&0<Object.keys(e).length){this._internals.state.setPermutiveData("third-party-data-usage",t);var n={user_id:this._internals.state.userId,time:new Date,tpd_segments:e};this._internals.api.tpdUsage(n)}},t.prototype.graphQLTPDResponseToSegmentMap=function(e){var r=this;return e.identity.tpd.reduce(function(e,t){var n;return s.a({},e,((n={})[t.name]=r.listToSegmentMap(t.segments),n))},{})},t.prototype.listToSegmentMap=function(e){return e.reduce(function(e,t){return e[t]=!0,e},{})},t.prototype.isValidState=function(e){return e&&void 0===e.expiry_time},t.prototype.tpdUsage=function(e){for(var t={},n=Object.keys(e),r=n.length,i=0;i<r;i++){var a=n[i],o=e[a],c=o.activations;s.d(o,["activations"]),0<Object.keys(c).length&&(t[a]=c)}return t},t);function t(e,t,n){var r=this;this._internals=e,this.permutive=t,this.network=n,this._internals.log("Enabling tpd reporting"),this._internals.messages.on("permutive:segments:updated",function(){r.reportUsage()});var i=this._internals.state.getPermutiveData("third-party-data");this.userSegments=this.isValidState(i)?i:{},this.lastCheckedSession=this._internals.state.getPermutiveData("third-party-data-session-id")||""}}).call(this,r(11).Promise)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=this;this.userId=e,this.aliases=t,this.resource="userTPD",this.query=function(){var e=n.aliases.map(function(e){return'{id: "'+e.id+'", tag: "'+e.tag+'", priority: '+e.priority+"}"}).join(",");return'\n      userTPD: user(user_id: "'+n.userId+'") {\n        identity(aliases: ['+e+"]) {\n          tpd {\n            name\n            segments\n          }\n        }\n      }\n    "}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(i.prototype.newEvent=function(t,n){var r=this;this.events.push([t,n]),this.listeners.forEach(function(e){r.handle(t,n,e)})},i.prototype.addListener=function(e){var t=this;this.listeners.push(e);var n={replay:function(){return t.replay(e),n},remove:function(){return t.remove(e),n}};return n},i.prototype.handle=function(e,t,n){var r="string"==typeof n.name&&e.name===n.name,i=n.name.test&&n.name.test(e.name),a=r||i;if(a)try{n.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&n.once&&this.remove(n)},i.prototype.replay=function(e){for(var t=-1!==this.listeners.indexOf(e),n=0;n<this.events.length&&t;n++)this.handle(this.events[n][0],this.events[n][1],e),t=-1!==this.listeners.indexOf(e)},i.prototype.remove=function(e){var t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)},i);function i(){this.events=[],this.listeners=[]}},function(e,r,i){"use strict";(function(x){i.d(r,"a",function(){return e});var P=i(2),T=i(3),t=i(25),o=i(24),S=i(9),c=i(7),e=(n.prototype.identify=function(e){var r=this;this._internals.log("<call> identify",e);var i=t.a.getAliasesFromIdentifyArg(e),a=Object(T.a)();return this._internals.api?this._internals.state.taskQueue.add(new o.a(function(n){r._internals.log("<task> identify ",i);var e=r._internals.state.userId;r._internals.api.identify(i).then(function(t){return t.user_id===e?Object(c.a)(r._internals.log("<done> identify ",i),function(e){return n()},function(e){return a.resolve()}):Object(c.a)(r._internals.state.reset(),function(e){return r._internals.state.setUserId(t.user_id)},function(e){return r._internals.identities.storeAliases(r._internals.identities.currentAliases)},function(e){return r._internals.stateSync.resetSync().then(function(e){r._internals.log("<done> identify",i),n(),a.resolve()})})})},{wait_prev:!0,block_next:!0})):(this.network.error("The API hasn't been loaded.",this._internals.state.userId),a.reject()),a.promise},n.prototype.on=function(e,t){return this._internals.eventHandler.addListener({name:e,callback:t,once:!1})},n.prototype.once=function(e,t){return this._internals.eventHandler.addListener({name:e,callback:t,once:!0})},n.prototype.track=function(){for(var v=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=P.c([e[0],e[1]||{},e[2]||{}],3),m=n[0],b=n[1],y=n[2];this._internals.log("<call> track",m);var w=Object(T.a)();if(!this._internals.api)return this.network.error("The API hasn't been loaded."),w.reject(),w.promise;var k=!!y.isAnalyticsOnly,O=this._internals.sessionManager.getSessionId(),j=this._internals.state.getViewId(),E={success:y.success||function(e){},error:y.error||function(e,t){}};return this._internals.state.taskQueue.add(new o.a(function(t){function i(t){var n=v._internals.metrics.startTimer("sdk_events_querylanguage_seconds",{});return v._internals.queryManager.process(t).then(function(e){return v._internals.metrics.stopTimer("sdk_events_querylanguage_seconds",n),v._internals.metrics.stopTimer("sdk_events_overall_processing_seconds",c),t})}function r(e){return v._internals.eventHandler.newEvent(Object(S.e)(e.event),e.error),x.resolve(e.event)}v._internals.log("<task> track",m);var e,n,a,o=k?null:v._internals.metrics.startTimer("sdk_events_api_roundtrip_seconds",{}),c=k?null:v._internals.metrics.startTimer("sdk_events_overall_processing_seconds",{}),u=P.c(v._internals.enrichers.enrich([b,!0]),2),s=u[0],f=u[1],d=P.a({},s,{client:v._internals.state.getClient()}),l=(n=f,(e=y).useBeacon?"deferred":e.isAnalyticsOnly?"never":n?"immediate":"onResponse"),p={user_id:v._internals.state.userId,name:m,segments:v._internals.queryManager.userSegments,properties:d,session_id:O,view_id:j},g={name:m,properties:d,session_id:O,view_id:j,time:new Date},_=function(e){v._internals.log("Tracking failed with reason",e);var t={name:p.name,session_id:p.session_id,view_id:p.view_id,properties:p.properties,id:null,time:new Date};return x.resolve({event:t,error:e})},h=function(e){var t=Object(S.d)(e)?Object(S.a)(P.a({},e,{session_id:p.session_id,view_id:p.view_id})):Object(S.b)(e,p);return x.resolve({event:t,error:null})};switch(l){case"immediate":a=Object(T.e)(function(e){var t=P.c(e,2),n=t[0],r=t[1];return x.all([i(n),x.resolve(r)])},function(e){var t=P.c(e,2),n=t[0],r=t[1];return x.all([v._internals.eventsBatch.add(r,E,l),x.resolve(n)])},function(e){var t=P.c(e,2),n=(t[0],t[1]);return x.resolve(n)});break;case"onResponse":a=Object(T.e)(function(e){var t=P.c(e,2),n=(t[0],t[1]);return v._internals.api.track(n,{includeResponseBody:!0},!1)},function(e){return t=e,v._internals.metrics.stopTimer("sdk_events_api_roundtrip_seconds",o),(Object(S.c)(t)?_:h)(t);var t},function(e){return x.all([(n=e,x.resolve(n.error?E.error(n.error.error.message):E.success(n.event))),((t=e).error||v._internals.state.eventsCache.add(t.event),x.resolve(t)),i(e.event),r(e)]);var t,n},function(e){var t=P.c(e,4),n=(t[0],t[1],t[2],t[3]);return x.resolve(n)});break;case"deferred":a=Object(T.e)(function(e){var t=P.c(e,2),n=t[0],r=t[1];return x.all([v._internals.api.track(r,{includeResponseBody:!1},!0),x.resolve(n)])},function(e){var t=P.c(e,2),n=(t[0],t[1]);return r({event:n,error:null})});break;case"never":a=function(e){var t=P.c(e,2),n=t[0],r=t[1];return v._internals.eventsBatch.add(r,E,l),x.resolve(n)}}a([g,p]).then(function(e){return w.resolve(e),v._internals.log("<done> track",e.name),t(),x.resolve(e)}).catch(function(e){v._internals.metrics.stopTimer("sdk_events_api_roundtrip_seconds",o),E.error(e),v.network.error(e,v._internals.state.userId)})})),w.promise},n.prototype.trigger=function(n,e,r){var i=this,a=Object(T.a)();return this._internals.log("<call> trigger",n),this._internals.triggerListeners=this._internals.triggerListeners||[],this._internals.state.taskQueue.add(new o.a(function(e){i._internals.log("<task> trigger",n);var t=i._internals.messages.on("permutive:query:changed",function(e){e.queryCode===n&&(r(e.result),a.resolve(e.result))});i._internals.triggerListeners.push(t),i._internals.log("<done> trigger",n),e()})),a.promise},n.prototype.segment=function(n,r){var i=this,a=Object(T.a)();return this._internals.log("<call> segment",n),this._internals.state.taskQueue.add(new o.a(function(e){i._internals.log("<task> segment",n);var t=i._internals.queryManager.stateMap.value[n];t&&(r(t.result.result),a.resolve()),i._internals.log("<done> segment",n),e()})),a.promise},n.prototype.segments=function(n,r){var i=this;void 0===r&&(r="all");var a=Object(T.a)();return this._internals.log("<call> segments"),this._internals.state.taskQueue.add(new o.a(function(t){function e(e){n(e),a.resolve(e),i._internals.log("<done> segments ("+r+")"),t()}i._internals.log("<task> segments ("+r+")"),"dfp"===r?void 0!==i._internals.addons.dfp&&i._internals.addons.dfp.isReady?e(i._internals.addons.dfp.liveSegments):i._internals.messages.once("permutive:dfp:ready",function(){e(i._internals.addons.dfp.liveSegments)}):e(i._internals.queryManager.userSegments)})),a.promise},n.prototype.reset=function(){var r=this,i=Object(T.a)();return this._internals.state.reset(),x.all([this._internals.api.reset(),this._internals.queryManager.bootstrap([])]).then(function(e){var t=P.c(e,2),n=t[0];t[1],r._internals.state.setUserId(n.id),r._internals.messages.emit("permutive:reset"),i.resolve()}),i.promise},n.prototype.addon=function(e,t){var n=this;if(-1===this.initialisedAddons.indexOf(e)){this.initialisedAddons.push(e);var r=P.a({},t,{_internals:this._internals,permutive:this.permutive,network:this.network});switch(e){case"web":x.resolve().then(i.bind(null,59)).then(function(e){return n._internals.addons.web=new e.WebAddon(r)});break;case"publishers":break;case"overlays":x.resolve().then(i.bind(null,55)).then(function(e){return n._internals.addons.overlays=new e.OverlaysAddon(r)});break;case"scriptrunner":x.resolve().then(i.bind(null,57)).then(function(e){return n._internals.addons.scriptrunner=new e.ScriptRunnerAddon(r)});break;case"dfp":x.resolve().then(i.bind(null,54)).then(function(e){return n._internals.addons.dfp=new e.DFPAddon(r)});break;case"smart":case"nativo":case"freewheel":case"gigya":case"facebook_pixel":case"facebook_pixel_v2":case"eyeota_pixel":case"pubmatic":case"tradedesk":break;case"adwords":case"dbm":x.resolve().then(i.bind(null,53)).then(function(e){return n._internals.addons.ddp=new e.DDPAddon(r)});break;case"rubicon":x.resolve().then(i.bind(null,56)).then(function(e){return n._internals.addons.rubicon=new e.RubiconAddon(r)});break;case"rubicon_ssp":case"aol":case"lotame":break;case"tracking_pixel":x.resolve().then(i.bind(null,58)).then(function(e){return n._internals.addons.tracking_pixel=new e.PixelAddon(r)})}}else"web"===e&&!0!==t.auto_init&&this._internals.addons[e].reset(t)},n.prototype.ready=function(e,t){function n(){e(),r.resolve()}void 0===t&&(t="initialised");var r=Object(T.a)();switch(t){case"initialised":this._internals.isReady?n():this._internals.messages.on("permutive:ready",n);break;case"realtime":this._internals.isRealtime?n():this._internals.messages.once("permutive:ready",n)}return r.promise},n.prototype.isStateResponse=function(e){return null!==e},n);function n(e,t,n){this._internals=e,this.permutive=t,this.network=n,this.initialisedAddons=[]}}).call(this,i(11).Promise)},function(e,i,a){"use strict";(function(e){a.d(i,"a",function(){return t});var n=a(3),t=(r.prototype.register=function(e){var t=Object(n.a)();return this.queries[e.resource]=e.query(),(this.promises[e.resource]=t).promise},r.prototype.run=function(){var r=this;if(0===Object.keys(this.queries).length)return e.resolve();var t=Object(n.a)();return this._internals.api.graphql(this.toQueryString(this.queries),{success:function(n){Object.keys(r.promises).forEach(function(e){var t=n.data[e];t?r.promises[e].resolve(t):r.promises[e].reject()}),t.resolve()},error:function(e){console.error(e),Object.keys(r.promises).forEach(function(e){return r.promises[e].reject()}),t.reject()}}),t.promise},r.prototype.toQueryString=function(t){return"{ "+Object.keys(t).map(function(e){return t[e]}).join(" ")+" }"},r);function r(e){this._internals=e,this.queries={},this.promises={}}}).call(this,a(11).Promise)},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){var n=this;this.userId=e,this.aliases=t,this.resource="userIdentify",this.query=function(){var e=n.aliases.map(function(e){return'{id: "'+e.id+'", tag: "'+e.tag+'", priority: '+e.priority+"}"}).join(",");return'\n      userIdentify: user(user_id: "'+n.userId+'") {\n        identity(aliases: ['+e+"]) {\n          identify {\n            id\n          }\n        }\n      }\n    "}}},function(e,t,n){"use strict";function r(a){var o={},c=[];(a=a||this).on=function(e,t,n){return(o[e]=o[e]||[]).push([t,n]),a},a.off=function(e,t){e||(o={});for(var n=o[e]||c,r=n.length=t?n.length:0;r--;)t==n[r][0]&&n.splice(r,1);return a},a.once=function(e,t){var n=c.slice.call(arguments,2),r=function(){t(n),a.off(e,r)};return a.on(e,r),a},a.emit=function(e){for(var t,n=o[e]||c,r=0<n.length?n.slice(0,n.length):n,i=0;t=r[i++];)t[0].apply(t[1],c.slice.call(arguments,1));return a}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i={default:{apiHost:"api.permutive.com",cdnBaseUrl:"cdn.permutive.com",apiVersion:"v2.0",apiProtocol:"https",loggingEnabled:!1,requestTimeout:5e3,cookieName:"permutive-id",cookieExpiry:((r=new Date).setFullYear(r.getFullYear()+3),r.toUTCString()),permutiveDataKey:"permutive-data",stateNamespace:"",sendClientErrors:!0,storeIP:!1,exposeInternals:!1,metricsSamplingPercentage:50,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"4306aab6-6613-49be-bf56-cbe85e2ec46c.partner.permutive.app"},production:{},development:{apiProtocol:"http",loggingEnabled:!0,sendClientErrors:!1,exposeInternals:!0}};var a=function(t){t.config.cookieDomain="."+function(e){var t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),n=e.match(/[a-z0-9][a-z0-9\-]+\.[a-z\.]{2,24}$/i),r=e.match(/localhost/);if(n&&0<n.length){var i=e.split(".").reverse();return 3<=i.length&&i[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?i[2]+"."+i[1]+"."+i[0]:i[1]+"."+i[0]}if(t&&0<t.length)return t[0];if(r&&0<r.length)return"localhost";throw"No domain can be found for cookies"}(window.location.hostname),Object.keys(i.default).forEach(function(e){t.config[e]=void 0!==t.config[e]?t.config[e]:i[t.config.environment][e]?i[t.config.environment][e]:i.default[e]})}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2),c=n(9),i=n(3),a=(o.prototype.add=function(e,t,n){this.resetTimeout(),this.requests.push([e,t,n])},o.prototype.flush=function(e){var t=this;void 0===e&&(e=!1);var n=r.e(this.requests);e||this.trackMetrics(n),this._internals.stateSync.sync(e),this._internals.api.track(n.map(function(e){return e[0]}),{},e).then(function(e){return t.isBatchResponse(e)?t.handleBatchResponse(e,n):null},this.network.error).catch(this.network.error),this.requests=[]},o.prototype.handleBatchResponse=function(e,a){var o=this;e.map(function(e){return e.body}).forEach(function(e,t){var n=a.map(function(e){return e[0]})[t],r=a[t][1],i=a[t][2];Object(c.c)(e)?o.handleTrackError(e,n,r.error):o.handleTrackResponse(e,n,r.success,i)})},o.prototype.handleTrackResponse=function(e,t,n,r){var i=Object(c.b)(e,t);n(i),"never"!==r&&(this._internals.state.eventsCache.add(i),this._internals.eventHandler.newEvent(Object(c.e)(i),null))},o.prototype.handleTrackError=function(e,t,n){var r={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,id:null,time:(new Date).toISOString()};n(e.error.message),this._internals.eventHandler.newEvent(r,e),console.error(e)},o.prototype.setTimeout=function(e){var t=this;return window.setTimeout(function(){return t.flush()},e)},o.prototype.resetTimeout=function(){clearTimeout(this.timeout),this.timeout=this.setTimeout(this.timeoutDuration)},o.prototype.trackMetrics=function(e){this._internals.metrics.track({name:"sdk_events_batch_size_total",value:e.length,labels:{}}),this._internals.metrics.track({name:"sdk_events_batch_size_bytes",value:2*JSON.stringify(e.map(function(e){return e[0]})).length,labels:{}})},o.prototype.isBatchResponse=function(e){return!!e},o);function o(e,t){var n=this;this._internals=e,this.network=t,this.timeoutDuration=500,this.maxWaitTime=5e3,this.requests=[],setInterval(function(){0<n.requests.length&&n.flush()},this.maxWaitTime),Object(i.m)(function(){0<n.requests.length&&n.flush(!0)})}},function(e,n,r){"use strict";(function(o){r.d(n,"a",function(){return e});var c=r(2),u=r(6),s=r(7),f=r(27),d=r(12),l=r(1),p=r(3),g=r(0),e=(t.prototype.sync=function(e,t,n,r){var i=this;void 0===t&&(t=this._internals.queryManager.stateMap.value),void 0===n&&(n=this.stateOffset),void 0===r&&(r=!this.fetchedUnseenState);var a=Object(p.i)(t,function(t,e){return Object(s.a)(i._internals.queryManager.stateMap.value[t],function(e){var t;return e.state?Object(d.a)(((t={})[e.checksum]=e.state,t)):Object(u.e)(null)},Object(u.a)(l.j,function(e){return e}),function(e){return[e,Object(u.a)(l.j,function(e){return e})(Object(d.a)(i.lastSentStateMap[t]))]},function(e){var t=c.c(e,2),n=t[0],r=t[1];return Object(d.b)(Object(f.a)(n,r))},function(e){return e?Object(g.j)(e):g.i})});return r||0<Object.keys(a).length?this._internals.api.state(a,n,e,r).then(function(e){return i.isStateResponse(e)?i.handleStateResponse(e):{}},function(e){return i.network.error(e),{}}).then(function(e){return i.fetchedUnseenState=!0,i.lastSentStateMap=Object(p.i)(i._internals.queryManager.stateMap.value,i.queryStateToWithChecksum),e}):o.resolve({})},t.prototype.resetSync=function(){var i=this;return o.all([this.sync(!1,{},0,!0),this._internals.thirdParty.segments(),this._internals.models.getModels()]).then(function(e){var t=c.c(e,3),n=(t[0],t[1]),r=t[2];return i._internals.queryManager.bootstrap([]).then(function(e){return i._internals.queryManager.updateEnvironment({segments:Object(p.j)({"1p":i._internals.queryManager.userSegmentsMap},n),lookalikeModels:r})})})},t.prototype.reset=function(){this.lastSentStateMap={}},t.prototype.handleStateResponse=function(e){var t=this,n=Object(u.h)(function(){return JSON.parse(e.state)},function(e){return t.network.error("Failed to parse State API response, got "+e)});return Object(u.d)(n)?Object(s.a)(e.state_offset,function(e){return t.stateOffset=e},function(e){return t._internals.state.setPermutiveData("state_offset",e)},function(e){return t._internals.queryManager.updateExternal(n.right)},function(e){return n.right}):{}},t.prototype.isStateResponse=function(e){return!!e},t.prototype.queryStateToWithChecksum=function(e,t){var n;return t.state?Object(g.j)(((n={})[t.checksum]=t.state,n)):g.i},t);function t(e,t){this._internals=e,this.network=t,this.fetchedUnseenState=!1,this.stateOffset=this._internals.state.getPermutiveData("state_offset")||0,this.lastSentStateMap=Object(p.i)(this._internals.state.getPermutiveData("internal_query_states")||{},this.queryStateToWithChecksum)}}).call(this,r(11).Promise)},function(e,t,n){e.exports=function(){return n(145)('!function(t){var r={};function i(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=r,i.d=function(n,e,t){i.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},i.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(e,"a",e),e},i.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},i.p="https://cdn.permutive.com/",i(i.s=21)}([function(n,i,u){"use strict";(function(n){u.d(i,"a",function(){return e}),u.d(i,"b",function(){return t}),u.d(i,"c",function(){return r});var e=function(){return(e=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}).apply(this,arguments)};function t(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,i,u=t.call(n),o=[];try{for(;(void 0===e||0<e--)&&!(r=u.next()).done;)o.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(t=u.return)&&t.call(u)}finally{if(i)throw i.error}}return o}function r(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(t(arguments[e]));return n}}).call(this,u(5).Promise)},function(n,e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var i=t(19),u=t(9);function c(n){return{_tag:"Left",left:n}}function a(n){return{_tag:"Right",right:n}}function o(n,e){try{return a(n())}catch(n){return c(e(n))}}function f(t){return{concat:function(n,e){return l(n)?n:l(e)?e:a(t.concat(n.right,e.right))}}}function l(n){switch(n._tag){case"Left":return!0;case"Right":return!1}}function s(n){return!l(n)}e.URI="Either",e.left=c,e.right=a,e.fromNullable=function(e){return function(n){return null==n?c(e):a(n)}},e.toError=function(n){return n instanceof Error?n:new Error(String(n))},e.tryCatch=o,e.fold=function(e,t){return function(n){return l(n)?e(n.left):t(n.right)}},e.getShow=function(e,t){return{show:function(n){return l(n)?"left("+e.show(n.left)+")":"right("+t.show(n.right)+")"}}},e.getEq=function(t,r){return{equals:function(n,e){return n===e||(l(n)?l(e)&&t.equals(n.left,e.left):s(e)&&r.equals(n.right,e.right))}}},e.getSemigroup=function(t){return{concat:function(n,e){return l(e)?n:l(n)?e:a(t.concat(n.right,e.right))}}},e.getApplySemigroup=f,e.getApplyMonoid=function(n){return r(r({},f(n)),{empty:a(n.empty)})},e.isLeft=l,e.isRight=s,e.swap=function(n){return l(n)?a(n.left):c(n.right)},e.orElse=function(e){return function(n){return l(n)?e(n.left):n}},e.getOrElse=function(e){return function(n){return l(n)?e(n.left):n.right}},e.elem=function(t){return function(n,e){return!l(e)&&t.equals(n,e.right)}},e.exists=function(e){return function(n){return!l(n)&&e(n.right)}},e.parseJSON=function(n,e){return o(function(){return JSON.parse(n)},e)},e.stringifyJSON=function(n,e){return o(function(){return JSON.stringify(n)},e)};var p=void 0;function g(t,r){return{concat:function(n,e){return l(n)?l(e)?c(t.concat(n.left,e.left)):n:l(e)?e:a(r.concat(n.right,e.right))}}}e.getWitherable=function(r){function i(n){return l(n)?n:"None"===n.right._tag?c(r.empty):a(n.right.value)}function u(n){return l(n)?{left:n,right:n}:l(n.right)?{left:a(n.right.left),right:o}:{left:o,right:a(n.right.right)}}var o=c(r.empty);return{URI:e.URI,_E:p,map:e.either.map,compact:i,separate:u,filter:function(n,e){return l(n)||e(n.right)?n:c(r.empty)},filterMap:function(n,e){if(l(n))return n;var t=e(n.right);return"None"===t._tag?c(r.empty):a(t.value)},partition:function(n,e){return l(n)?{left:n,right:n}:e(n.right)?{left:o,right:a(n.right)}:{left:a(n.right),right:o}},partitionMap:function(n,e){if(l(n))return{left:n,right:n};var t=e(n.right);return l(t)?{left:a(t.left),right:o}:{left:o,right:a(t.right)}},traverse:e.either.traverse,sequence:e.either.sequence,reduce:e.either.reduce,foldMap:e.either.foldMap,reduceRight:e.either.reduceRight,wither:function(t){var r=e.either.traverse(t);return function(n,e){return t.map(r(n,e),i)}},wilt:function(t){var r=e.either.traverse(t);return function(n,e){return t.map(r(n,e),u)}}}},e.getValidation=function(r){return{URI:e.URI,_E:p,map:e.either.map,of:e.either.of,ap:function(n,e){return l(n)?l(e)?c(r.concat(n.left,e.left)):n:l(e)?e:a(n.right(e.right))},chain:e.either.chain,alt:function(n,e){if(s(n))return n;var t=e();return l(t)?c(r.concat(n.left,t.left)):t}}},e.getValidationSemigroup=g,e.getValidationMonoid=function(n,e){return{concat:g(n,e).concat,empty:a(e.empty)}},e.either={URI:e.URI,map:function(n,e){return l(n)?n:a(e(n.right))},of:a,ap:function(n,e){return l(n)?n:l(e)?e:a(n.right(e.right))},chain:function(n,e){return l(n)?n:e(n.right)},reduce:function(n,e,t){return l(n)?e:t(e,n.right)},foldMap:function(t){return function(n,e){return l(n)?t.empty:e(n.right)}},reduceRight:function(n,e,t){return l(n)?e:t(n.right,e)},traverse:function(t){return function(n,e){return l(n)?t.of(c(n.left)):t.map(e(n.right),a)}},sequence:function(e){return function(n){return l(n)?e.of(c(n.left)):e.map(n.right,a)}},bimap:function(n,e,t){return l(n)?c(e(n.left)):a(t(n.right))},mapLeft:function(n,e){return l(n)?c(e(n.left)):n},alt:function(n,e){return l(n)?e():n},extend:function(n,e){return l(n)?n:a(e(n))},chainRec:function(n,e){return i.tailRec(e(n),function(n){return l(n)?a(c(n.left)):l(n.right)?c(e(n.right.left)):a(a(n.right.right))})},throwError:c};var w=u.pipeable(e.either),d=w.alt,m=w.ap,v=w.apFirst,h=w.apSecond,y=w.bimap,q=w.chain,b=w.chainFirst,P=w.duplicate,k=w.extend,_=w.flatten,x=w.foldMap,I=w.map,z=w.mapLeft,M=w.reduce,j=w.reduceRight,E=w.fromOption,S=w.fromPredicate,O=w.filterOrElse;e.alt=d,e.ap=m,e.apFirst=v,e.apSecond=h,e.bimap=y,e.chain=q,e.chainFirst=b,e.duplicate=P,e.extend=k,e.flatten=_,e.foldMap=x,e.map=I,e.mapLeft=z,e.reduce=M,e.reduceRight=j,e.fromOption=E,e.fromPredicate=S,e.filterOrElse=O},function(n,u,a){"use strict";(function(n){a.d(u,"c",function(){return e}),a.d(u,"a",function(){return t}),a.d(u,"d",function(){return r}),a.d(u,"b",function(){return i});var o=a(0),c=a(3);function e(n,e){return function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];n=n||{};for(var r=1;r<arguments.length;r++)if(arguments[r])for(var i in arguments[r])n[i]=arguments[r][i];return n}(n,e)}function t(n,e){var t,r=e.length;for(t=0;"object"==typeof n&&t<r;++t)n=n[e[t]];return n}function r(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n}function i(i,u){return Object.keys(i).reduce(function(n,e){var t,r=u(e,i[e]);return o.a({},n,Object(c.isSome)(r)?((t={})[e]=r.value,t):{})},{})}}).call(this,a(5).Promise)},function(n,i,e){"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}).apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0});var r=e(9);function u(n){return{_tag:"Some",value:n}}function o(n){return"Some"===n._tag}function c(n){return"None"===n._tag}function a(n){return null==n?i.none:u(n)}function f(n){return"Right"===n._tag?i.none:u(n.left)}function l(n){return"Left"===n._tag?i.none:u(n.right)}function s(t){return{equals:function(n,e){return n===e||(c(n)?c(e):!c(e)&&t.equals(n.value,e.value))}}}function p(t){return{concat:function(n,e){return o(n)&&o(e)?u(t.concat(n.value,e.value)):i.none}}}i.URI="Option",i.none={_tag:"None"},i.some=u,i.isSome=o,i.isNone=c,i.fold=function(e,t){return function(n){return c(n)?e():t(n.value)}},i.fromNullable=a,i.toNullable=function(n){return c(n)?null:n.value},i.toUndefined=function(n){return c(n)?void 0:n.value},i.getOrElse=function(e){return function(n){return c(n)?e():n.value}},i.elem=function(t){return function(n,e){return!c(e)&&t.equals(n,e.value)}},i.exists=function(e){return function(n){return!c(n)&&e(n.value)}},i.fromPredicate=function(e){return function(n){return e(n)?u(n):i.none}},i.tryCatch=function(n){try{return u(n())}catch(n){return i.none}},i.getLeft=f,i.getRight=l,i.getRefinement=function(e){return function(n){return o(e(n))}},i.mapNullable=function(e){return function(n){return c(n)?i.none:a(e(n.value))}},i.getShow=function(e){return{show:function(n){return c(n)?"none":"some("+e.show(n.value)+")"}}},i.getEq=s,i.getOrd=function(t){return{equals:s(t).equals,compare:function(n,e){return n===e?0:o(n)?o(e)?t.compare(n.value,e.value):1:-1}}},i.getApplySemigroup=p,i.getApplyMonoid=function(n){return t(t({},p(n)),{empty:u(n.empty)})},i.getFirstMonoid=function(){return{concat:function(n,e){return c(n)?e:n},empty:i.none}},i.getLastMonoid=function(){return{concat:function(n,e){return c(e)?n:e},empty:i.none}},i.getMonoid=function(t){return{concat:function(n,e){return c(n)?e:c(e)?n:u(t.concat(n.value,e.value))},empty:i.none}};function g(n){return n}var w={left:i.none,right:i.none};i.option={URI:i.URI,map:function(n,e){return c(n)?i.none:u(e(n.value))},of:u,ap:function(n,e){return c(n)||c(e)?i.none:u(n.value(e.value))},chain:function(n,e){return c(n)?i.none:e(n.value)},reduce:function(n,e,t){return c(n)?e:t(e,n.value)},foldMap:function(t){return function(n,e){return c(n)?t.empty:e(n.value)}},reduceRight:function(n,e,t){return c(n)?e:t(n.value,e)},traverse:function(t){return function(n,e){return c(n)?t.of(i.none):t.map(e(n.value),u)}},sequence:function(e){return function(n){return c(n)?e.of(i.none):e.map(n.value,u)}},zero:function(){return i.none},alt:function(n,e){return c(n)?e():n},extend:function(n,e){return c(n)?i.none:u(e(n))},compact:function(n){return i.option.chain(n,g)},separate:function(n){var e=i.option.map(n,function(n){return{left:f(n),right:l(n)}});return c(e)?w:e.value},filter:function(n,e){return!c(n)&&e(n.value)?n:i.none},filterMap:function(n,e){return c(n)?i.none:e(n.value)},partition:function(n,e){return{left:i.option.filter(n,function(n){return!e(n)}),right:i.option.filter(n,e)}},partitionMap:function(n,e){return i.option.separate(i.option.map(n,e))},wither:function(t){return function(n,e){return c(n)?t.of(i.none):e(n.value)}},wilt:function(r){return function(n,e){var t=i.option.map(n,function(n){return r.map(e(n),function(n){return{left:f(n),right:l(n)}})});return c(t)?r.of({left:i.none,right:i.none}):t.value}},throwError:function(){return i.none}};var d=r.pipeable(i.option),m=d.alt,v=d.ap,h=d.apFirst,y=d.apSecond,q=d.chain,b=d.chainFirst,P=d.duplicate,k=d.extend,_=d.filter,x=d.filterMap,I=d.flatten,z=d.foldMap,M=d.map,j=d.partition,E=d.partitionMap,S=d.reduce,O=d.reduceRight,A=d.compact,T=d.separate,W=d.fromEither;i.alt=m,i.ap=v,i.apFirst=h,i.apSecond=y,i.chain=q,i.chainFirst=b,i.duplicate=P,i.extend=k,i.filter=_,i.filterMap=x,i.flatten=I,i.foldMap=z,i.map=M,i.partition=j,i.partitionMap=E,i.reduce=S,i.reduceRight=O,i.compact=A,i.separate=T,i.fromEither=W},function(n,e,t){"use strict";function r(n){return"function"==typeof n}var i=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=function(n){return r(n)||"object"==typeof n&&null!==n},e.isFunction=r,e.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)},e.now=i},function(n,e,t){"use strict";var r=t(6).Promise,i=t(18).polyfill;e.Promise=r,e.polyfill=i},function(n,e,t){"use strict";var l=t(7).config,i=(t(7).configure,t(4).objectOrFunction),f=t(4).isFunction,r=(t(4).now,t(11).cast),u=t(12).all,o=t(13).race,c=t(14).resolve,a=t(15).reject,s=t(16).asap;function p(n){if(!f(n))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof p))throw new TypeError("Failed to construct \'Promise\': Please use the \'new\' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(n,e){function t(n){P(e,n)}try{n(function(n){q(e,n)},t)}catch(n){t(n)}}(n,this)}function g(n,e,t,r){var i,u,o,c,a=f(t);if(a)try{i=t(r),o=!0}catch(n){c=!0,u=n}else i=r,o=!0;y(e,i)||(a&&o?q(e,i):c?P(e,u):n===m?q(e,i):n===v&&P(e,i))}l.async=s;var w=void 0,d=0,m=1,v=2;function h(n,e){for(var t=n._subscribers,r=n._detail,i=0;i<t.length;i+=3)g(e,t[i],t[i+e],r);n._subscribers=null}function y(e,t){var r,n=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(i(t)&&(n=t.then,f(n)))return n.call(t,function(n){if(r)return!0;r=!0,(t!==n?q:b)(e,n)},function(n){if(r)return!0;r=!0,P(e,n)}),1}catch(n){return r?1:(P(e,n),1)}}function q(n,e){n!==e&&y(n,e)||b(n,e)}function b(n,e){n._state===w&&(n._state=d,n._detail=e,l.async(k,n))}function P(n,e){n._state===w&&(n._state=d,n._detail=e,l.async(_,n))}function k(n){h(n,n._state=m)}function _(n){h(n,n._state=v)}p.prototype={constructor:p,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(n,e){var t,r,i,u,o,c=this,a=new this.constructor(function(){});if(this._state){var f=arguments;l.async(function(){g(c._state,a,f[c._state-1],c._detail)})}else t=a,r=n,i=e,u=this._subscribers,o=u.length,u[o]=t,u[o+m]=r,u[o+v]=i;return a},catch:function(n){return this.then(null,n)}},p.all=u,p.cast=r,p.race=o,p.resolve=c,p.reject=a,e.Promise=p},function(n,e,t){"use strict";var r={instrument:!1};e.config=r,e.configure=function(n,e){if(2!==arguments.length)return r[n];r[n]=e}},function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(n){"object"==typeof window&&(t=window)}n.exports=t},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t(20);e.pipe=function(n,e,t,r,i,u,o,c,a,f){switch(arguments.length){case 1:return n;case 2:return e(n);case 3:return t(e(n));case 4:return r(t(e(n)));case 5:return i(r(t(e(n))));case 6:return u(i(r(t(e(n)))));case 7:return o(u(i(r(t(e(n))))));case 8:return c(o(u(i(r(t(e(n)))))));case 9:return a(c(o(u(i(r(t(e(n))))))));case 10:return f(a(c(o(u(i(r(t(e(n)))))))))}};e.pipeable=function(r){var n={};if("function"==typeof r.map){n.map=function(e){return function(n){return r.map(n,e)}}}if("function"==typeof r.contramap){n.contramap=function(e){return function(n){return r.contramap(n,e)}}}if("function"==typeof r.mapWithIndex){n.mapWithIndex=function(e){return function(n){return r.mapWithIndex(n,e)}}}if("function"==typeof r.ap){n.ap=function(e){return function(n){return r.ap(n,e)}},n.apFirst=function(e){return function(n){return r.ap(r.map(n,function(n){return function(){return n}}),e)}},n.apSecond=function(e){return function(n){return r.ap(r.map(n,function(){return function(n){return n}}),e)}}}if("function"==typeof r.chain){n.chain=function(e){return function(n){return r.chain(n,e)}},n.chainFirst=function(e){return function(n){return r.chain(n,function(n){return r.map(e(n),function(){return n})})}},n.flatten=function(n){return r.chain(n,i.identity)}}if("function"==typeof r.bimap){n.bimap=function(e,t){return function(n){return r.bimap(n,e,t)}},n.mapLeft=function(e){return function(n){return r.mapLeft(n,e)}}}if("function"==typeof r.extend){n.extend=function(e){return function(n){return r.extend(n,e)}},n.duplicate=function(n){return r.extend(n,i.identity)}}if("function"==typeof r.reduce){n.reduce=function(e,t){return function(n){return r.reduce(n,e,t)}},n.foldMap=function(n){var t=r.foldMap(n);return function(e){return function(n){return t(n,e)}}},n.reduceRight=function(e,t){return function(n){return r.reduceRight(n,e,t)}}}if("function"==typeof r.reduceWithIndex){n.reduceWithIndex=function(e,t){return function(n){return r.reduceWithIndex(n,e,t)}},n.foldMapWithIndex=function(n){var t=r.foldMapWithIndex(n);return function(e){return function(n){return t(n,e)}}},n.reduceRightWithIndex=function(e,t){return function(n){return r.reduceRightWithIndex(n,e,t)}}}if("function"==typeof r.alt){n.alt=function(e){return function(n){return r.alt(n,e)}}}if("function"==typeof r.compact&&(n.compact=r.compact,n.separate=r.separate),"function"==typeof r.filter){n.filter=function(e){return function(n){return r.filter(n,e)}},n.filterMap=function(e){return function(n){return r.filterMap(n,e)}},n.partition=function(e){return function(n){return r.partition(n,e)}},n.partitionMap=function(e){return function(n){return r.partitionMap(n,e)}}}if("function"==typeof r.filterWithIndex){n.filterWithIndex=function(e){return function(n){return r.filterWithIndex(n,e)}},n.filterMapWithIndex=function(e){return function(n){return r.filterMapWithIndex(n,e)}},n.partitionWithIndex=function(e){return function(n){return r.partitionWithIndex(n,e)}},n.partitionMapWithIndex=function(e){return function(n){return r.partitionMapWithIndex(n,e)}}}if("function"==typeof r.promap){n.promap=function(e,t){return function(n){return r.promap(n,e,t)}}}if("function"==typeof r.compose){n.compose=function(e){return function(n){return r.compose(n,e)}}}if("function"==typeof r.throwError){n.fromOption=function(e){return function(n){return"None"===n._tag?r.throwError(e()):r.of(n.value)}},n.fromEither=function(n){return"Left"===n._tag?r.throwError(n.left):r.of(n.right)},n.fromPredicate=function(e,t){return function(n){return e(n)?r.of(n):r.throwError(t(n))}},n.filterOrElse=function(e,t){return function(n){return r.chain(n,function(n){return e(n)?r.of(n):r.throwError(t(n))})}}}return n}},function(n,e,t){"use strict";n.exports=function(i){function o(e,n,t,r){function i(n){"function"!=typeof self.postMessage?e.ports[0].postMessage(n):self.postMessage(n)}t?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",t),i([n,{message:t.message}])):i([n,null,r])}function u(e,n,t,r){var i,u=function(n,e){try{return{res:n(e)}}catch(n){return{err:n}}}(n,r);u.err?o(e,t,u.err):!(i=u.res)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then?o(e,t,null,u.res):u.res.then(function(n){o(e,t,null,n)},function(n){o(e,t,n)})}self.addEventListener("message",function(n){var e=n.data;if(Array.isArray(e)&&2===e.length){var t=e[0],r=e[1];"function"!=typeof i?o(n,t,new Error("Please pass a function into register().")):u(n,i,t,r)}})}},function(n,e,t){"use strict";e.cast=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(n){n(e)})}},function(n,e,t){"use strict";var r=t(4).isArray,f=t(4).isFunction;e.all=function(a){if(!r(a))throw new TypeError("You must pass an array to all.");return new this(function(t,n){var e,r=[],i=a.length;function u(e){return function(n){o(e,n)}}function o(n,e){r[n]=e,0==--i&&t(r)}0===i&&t([]);for(var c=0;c<a.length;c++)(e=a[c])&&f(e.then)?e.then(u(c),n):o(c,e)})}},function(n,e,t){"use strict";var r=t(4).isArray;e.race=function(i){if(!r(i))throw new TypeError("You must pass an array to race.");return new this(function(n,e){for(var t,r=0;r<i.length;r++)(t=i[r])&&"function"==typeof t.then?t.then(n,e):n(t)})}},function(n,e,t){"use strict";e.resolve=function(t){return new this(function(n,e){n(t)})}},function(n,e,t){"use strict";e.reject=function(t){return new this(function(n,e){e(t)})}},function(n,s,e){"use strict";(function(n,e){var t="undefined"!=typeof window?window:{},r=t.MutationObserver||t.WebKitMutationObserver,i=void 0!==n?n:void 0===this?window:this;var u,o,c,a,f=[];function l(){for(var n=0;n<f.length;n++){var e=f[n];(0,e[0])(e[1])}f=[]}u=void 0!==e&&"[object process]"==={}.toString.call(e)?function(){e.nextTick(l)}:r?(o=0,c=new r(l),a=document.createTextNode(""),c.observe(a,{characterData:!0}),function(){a.data=o=++o%2}):function(){i.setTimeout(l,1)},s.asap=function(n,e){1===f.push([n,e])&&u()}}).call(this,e(8),e(17))},function(n,e){var t,r,i=n.exports={};function u(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===u||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:u}catch(n){t=u}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(n){r=o}}();var a,f=[],l=!1,s=-1;function p(){l&&a&&(l=!1,a.length?f=a.concat(f):s=-1,f.length&&g())}function g(){if(!l){var n=c(p);l=!0;for(var e=f.length;e;){for(a=f,f=[];++s<e;)a&&a[s].run();s=-1,e=f.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(n){try{return r.call(null,e)}catch(n){return r.call(this,e)}}}(n)}}function w(n,e){this.fun=n,this.array=e}function d(){}i.nextTick=function(n){var e=new Array(arguments.length-1);if(1<arguments.length)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];f.push(new w(n,e)),1!==f.length||l||c(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=d,i.addListener=d,i.once=d,i.off=d,i.removeListener=d,i.removeAllListeners=d,i.emit=d,i.prependListener=d,i.prependOnceListener=d,i.listeners=function(n){return[]},i.binding=function(n){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(n){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(n,e,u){"use strict";(function(t){var r=u(6).Promise,i=u(4).isFunction;e.polyfill=function(){var n,e;"Promise"in(n=void 0!==t?t:"undefined"!=typeof window&&window.document?window:self)&&"cast"in n.Promise&&"resolve"in n.Promise&&"reject"in n.Promise&&"all"in n.Promise&&"race"in n.Promise&&(new n.Promise(function(n){e=n}),i(e))||(n.Promise=r)}}).call(this,u(8))},function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tailRec=function(n,e){for(var t=e(n);"Left"===t._tag;)t=e(t.left);return t.right}},function(n,e,t){"use strict";function r(n){return n}Object.defineProperty(e,"__esModule",{value:!0}),e.identity=r,e.unsafeCoerce=r,e.not=function(e){return function(n){return!e(n)}},e.constant=function(n){return function(){return n}},e.constTrue=function(){return!0},e.constFalse=function(){return!1},e.constNull=function(){return null},e.constUndefined=function(){},e.constVoid=function(){},e.flip=function(t){return function(n,e){return t(e,n)}},e.flow=function(n,e,t,r,i,u,o,c,a){switch(arguments.length){case 1:return n;case 2:return function(){return e(n.apply(this,arguments))};case 3:return function(){return t(e(n.apply(this,arguments)))};case 4:return function(){return r(t(e(n.apply(this,arguments))))};case 5:return function(){return i(r(t(e(n.apply(this,arguments)))))};case 6:return function(){return u(i(r(t(e(n.apply(this,arguments))))))};case 7:return function(){return o(u(i(r(t(e(n.apply(this,arguments)))))))};case 8:return function(){return c(o(u(i(r(t(e(n.apply(this,arguments))))))))};case 9:return function(){return a(c(o(u(i(r(t(e(n.apply(this,arguments)))))))))}}},e.tuple=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n},e.increment=function(n){return n+1},e.decrement=function(n){return n-1},e.absurd=function(n){throw new Error("Called `absurd` function which should be uncallable")}},function(n,e,t){"use strict";t.r(e);var r,v=t(0),i=t(1),u=(r=function(n,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)},function(n,e){function t(){this.constructor=n}r(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),o=(i.either.map,i.either.chain),c=(a.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe("+this.name+", "+t.name+")"),new a(n,t.is,function(n,e){return o(r.validate(n,e),function(n){return t.validate(n,e)})},this.encode===p&&t.encode===p?p:function(n){return r.encode(t.encode(n))})},a.prototype.asDecoder=function(){return this},a.prototype.asEncoder=function(){return this},a.prototype.decode=function(n){return this.validate(n,[{key:"",type:this,actual:n}])},a);function a(n,e,t,r){this.name=n,this.is=e,this.validate=t,this.encode=r,this.decode=this.decode.bind(this)}function f(n,e,t){return g([{value:n,context:e,message:t}])}function l(e){return function(n){return n._tag===e}}var s,p=function(n){return n},g=i.left,w=i.right;l("UnknownType"),l("AnyType"),l("InterfaceType"),l("PartialType");function d(){var t=s.call(this,"null",function(n){return null===n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="NullType",t}var m;new(u(d,s=c),d);function h(){var t=m.call(this,"undefined",function(n){return void 0===n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="UndefinedType",t}var y,q=new(u(h,m=c),h);function b(){var n=y.call(this,"void",q.is,q.validate,p)||this;return n._tag="VoidType",n}var P;new(u(b,y=c),b);function k(){var n=P.call(this,"unknown",function(n){return!0},w,p)||this;return n._tag="UnknownType",n}var _;new(u(k,P=c),k);function x(){var t=_.call(this,"string",function(n){return"string"==typeof n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="StringType",t}var I;new(u(x,_=c),x);function z(){var t=I.call(this,"number",function(n){return"number"==typeof n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="NumberType",t}var M,j=new(u(z,I=c),z);function E(){var t=M.call(this,"boolean",function(n){return"boolean"==typeof n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="BooleanType",t}var S;new(u(E,M=c),E);function O(){var t=S.call(this,"UnknownArray",Array.isArray,function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="AnyArrayType",t}var A;new(u(O,S=c),O);function T(){var t=A.call(this,"UnknownRecord",function(n){return null!==n&&"object"==typeof n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="AnyDictionaryType",t}var W,N=new(u(T,A=c),T);function R(){var t=W.call(this,"Function",function(n){return"function"==typeof n},function(n,e){return t.is(n)?w(n):f(n,e)},p)||this;return t._tag="FunctionType",t}new(u(R,W=c),R);var L,F=(u(C,L=c),C);function C(n,e,t,r,i,u){var o=L.call(this,n,e,t,r)||this;return o.type=i,o.predicate=u,o._tag="RefinementType",o}var U;kn(j,function(n){return Number.isInteger(n)},"Int"),u(G,U=c);function G(n,e,t,r,i){var u=U.call(this,n,e,t,r)||this;return u.value=i,u._tag="LiteralType",u}var J;u(V,J=c);function V(n,e,t,r,i){var u=J.call(this,n,e,t,r)||this;return u.keys=i,u._tag="KeyofType",u}var D;Object.prototype.hasOwnProperty,u(B,D=c),Object.defineProperty(B.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});function B(n,e,t,r,i){var u=D.call(this,n,e,t,r)||this;return u.runDefinition=i,u._tag="RecursiveType",u}var H;u(Y,H=c);function Y(n,e,t,r,i){var u=H.call(this,n,e,t,r)||this;return u.type=i,u._tag="ArrayType",u}var K;u(Z,K=c);function Z(n,e,t,r,i){var u=K.call(this,n,e,t,r)||this;return u.props=i,u._tag="InterfaceType",u}var Q;u(X,Q=c);function X(n,e,t,r,i){var u=Q.call(this,n,e,t,r)||this;return u.props=i,u._tag="PartialType",u}var $;u(nn,$=c);function nn(n,e,t,r,i,u){var o=$.call(this,n,e,t,r)||this;return o.domain=i,o.codomain=u,o._tag="DictionaryType",o}var en,tn=(u(rn,en=c),rn);function rn(n,e,t,r,i){var u=en.call(this,n,e,t,r)||this;return u.types=i,u._tag="UnionType",u}var un;u(on,un=c);function on(n,e,t,r,i){var u=un.call(this,n,e,t,r)||this;return u.types=i,u._tag="IntersectionType",u}var cn;u(an,cn=c);function an(n,e,t,r,i){var u=cn.call(this,n,e,t,r)||this;return u.types=i,u._tag="TupleType",u}var fn;u(ln,fn=c);function ln(n,e,t,r,i){var u=fn.call(this,n,e,t,r)||this;return u.type=i,u._tag="ReadonlyType",u}var sn;u(pn,sn=c);function pn(n,e,t,r,i){var u=sn.call(this,n,e,t,r)||this;return u.type=i,u._tag="ReadonlyArrayType",u}var gn;u(wn,gn=tn);function wn(n,e,t,r,i,u){var o=gn.call(this,n,e,t,r,i)||this;return o.tag=u,o}var dn;u(mn,dn=c);function mn(n,e,t,r,i){var u=dn.call(this,n,e,t,r)||this;return u.type=i,u._tag="ExactType",u}var vn;function hn(){var n=vn.call(this,"never",function(n){return!1},function(n,e){return f(n,e)},function(){throw new Error("cannot encode never")})||this;return n._tag="NeverType",n}var yn;new(u(hn,vn=c),hn);function qn(){var n=yn.call(this,"any",function(n){return!0},w,p)||this;return n._tag="AnyType",n}var bn;new(u(qn,yn=c),qn);function Pn(){var n=bn.call(this,"object",N.is,N.validate,p)||this;return n._tag="ObjectType",n}new(u(Pn,bn=c),Pn);function kn(t,r,n){var e;return void 0===n&&(n="("+t.name+" | "+((e=r).displayName||e.name||"<function"+e.length+">")+")"),new F(n,function(n){return t.is(n)&&r(n)},function(n,e){return o(t.validate(n,e),function(n){return r(n)?w(n):f(n,e)})},t.encode,t,r)}var _n;kn(j,Number.isInteger,"Integer"),u(xn,_n=c);function xn(n,e,t,r,i){var u=_n.call(this,n,e,t,r)||this;return u.props=i,u._tag="StrictType",u}function In(n){return n}function zn(n,e,t,r,i,u,o,c,a,f){switch(arguments.length){case 1:return n;case 2:return e(n);case 3:return t(e(n));case 4:return r(t(e(n)));case 5:return i(r(t(e(n))));case 6:return u(i(r(t(e(n)))));case 7:return o(u(i(r(t(e(n))))));case 8:return c(o(u(i(r(t(e(n)))))));case 9:return a(c(o(u(i(r(t(e(n))))))));case 10:return f(a(c(o(u(i(r(t(e(n)))))))))}}function Mn(r){var n={};if("function"==typeof r.map){n.map=function(e){return function(n){return r.map(n,e)}}}if("function"==typeof r.contramap){n.contramap=function(e){return function(n){return r.contramap(n,e)}}}if("function"==typeof r.mapWithIndex){n.mapWithIndex=function(e){return function(n){return r.mapWithIndex(n,e)}}}if("function"==typeof r.ap){n.ap=function(e){return function(n){return r.ap(n,e)}},n.apFirst=function(e){return function(n){return r.ap(r.map(n,function(n){return function(){return n}}),e)}},n.apSecond=function(e){return function(n){return r.ap(r.map(n,function(){return function(n){return n}}),e)}}}if("function"==typeof r.chain){n.chain=function(e){return function(n){return r.chain(n,e)}},n.chainFirst=function(e){return function(n){return r.chain(n,function(n){return r.map(e(n),function(){return n})})}},n.flatten=function(n){return r.chain(n,In)}}if("function"==typeof r.bimap){n.bimap=function(e,t){return function(n){return r.bimap(n,e,t)}},n.mapLeft=function(e){return function(n){return r.mapLeft(n,e)}}}if("function"==typeof r.extend){n.extend=function(e){return function(n){return r.extend(n,e)}},n.duplicate=function(n){return r.extend(n,In)}}if("function"==typeof r.reduce){n.reduce=function(e,t){return function(n){return r.reduce(n,e,t)}},n.foldMap=function(n){var t=r.foldMap(n);return function(e){return function(n){return t(n,e)}}},n.reduceRight=function(e,t){return function(n){return r.reduceRight(n,e,t)}}}if("function"==typeof r.reduceWithIndex){n.reduceWithIndex=function(e,t){return function(n){return r.reduceWithIndex(n,e,t)}},n.foldMapWithIndex=function(n){var t=r.foldMapWithIndex(n);return function(e){return function(n){return t(n,e)}}},n.reduceRightWithIndex=function(e,t){return function(n){return r.reduceRightWithIndex(n,e,t)}}}if("function"==typeof r.alt){n.alt=function(e){return function(n){return r.alt(n,e)}}}if("function"==typeof r.compact&&(n.compact=r.compact,n.separate=r.separate),"function"==typeof r.filter){n.filter=function(e){return function(n){return r.filter(n,e)}},n.filterMap=function(e){return function(n){return r.filterMap(n,e)}},n.partition=function(e){return function(n){return r.partition(n,e)}},n.partitionMap=function(e){return function(n){return r.partitionMap(n,e)}}}if("function"==typeof r.filterWithIndex){n.filterWithIndex=function(e){return function(n){return r.filterWithIndex(n,e)}},n.filterMapWithIndex=function(e){return function(n){return r.filterMapWithIndex(n,e)}},n.partitionWithIndex=function(e){return function(n){return r.partitionWithIndex(n,e)}},n.partitionMapWithIndex=function(e){return function(n){return r.partitionMapWithIndex(n,e)}}}if("function"==typeof r.promap){n.promap=function(e,t){return function(n){return r.promap(n,e,t)}}}if("function"==typeof r.compose){n.compose=function(e){return function(n){return r.compose(n,e)}}}if("function"==typeof r.throwError){n.fromOption=function(e){return function(n){return"None"===n._tag?r.throwError(e()):r.of(n.value)}},n.fromEither=function(n){return"Left"===n._tag?r.throwError(n.left):r.of(n.right)},n.fromPredicate=function(e,t){return function(n){return e(n)?r.of(n):r.throwError(t(n))}},n.filterOrElse=function(e,t){return function(n){return r.chain(n,function(n){return e(n)?r.of(n):r.throwError(t(n))})}}}return n}function jn(n){return{_tag:"Left",left:n}}function En(n){return{_tag:"Right",right:n}}function Sn(n,e){try{return En(n())}catch(n){return jn(e(n))}}function On(n){switch(n._tag){case"Left":return!0;case"Right":return!1}}function An(n){return!On(n)}function Tn(e){return function(n){return On(n)?e(n.left):n.right}}var Wn={URI:"Either",map:function(n,e){return On(n)?n:En(e(n.right))},of:En,ap:function(n,e){return On(n)?n:On(e)?e:En(n.right(e.right))},chain:function(n,e){return On(n)?n:e(n.right)},reduce:function(n,e,t){return On(n)?e:t(e,n.right)},foldMap:function(t){return function(n,e){return On(n)?t.empty:e(n.right)}},reduceRight:function(n,e,t){return On(n)?e:t(n.right,e)},traverse:function(t){return function(n,e){return On(n)?t.of(jn(n.left)):t.map(e(n.right),En)}},sequence:function(e){return function(n){return On(n)?e.of(jn(n.left)):e.map(n.right,En)}},bimap:function(n,e,t){return On(n)?jn(e(n.left)):En(t(n.right))},mapLeft:function(n,e){return On(n)?jn(e(n.left)):n},alt:function(n,e){return On(n)?e():n},extend:function(n,e){return On(n)?n:En(e(n))},chainRec:function(n,e){return function(n,e){for(var t=e(n);"Left"===t._tag;)t=e(t.left);return t.right}(e(n),function(n){return On(n)?En(jn(n.left)):On(n.right)?jn(e(n.right.left)):En(En(n.right.right))})},throwError:jn},Nn=Mn(Wn),Rn=(Nn.alt,Nn.ap,Nn.apFirst,Nn.apSecond,Nn.bimap,Nn.chain,Nn.chainFirst,Nn.duplicate,Nn.extend,Nn.flatten),Ln=(Nn.foldMap,Nn.map),Fn=(Nn.mapLeft,Nn.reduce,Nn.reduceRight,Nn.fromOption,Nn.fromPredicate,Nn.filterOrElse,function(){return{kind:"null",value:null}}),Cn=function(n){return{kind:"string",value:n}},Un=function(n){return{kind:"number",value:n}},Gn=function(n){return{kind:"array",value:n}},Jn=function(n){return{kind:"object",value:n}},Vn=function(n){return n},Dn=function(){return{kind:"bottom"}},Bn=function(n){return{kind:"inner",a:n}},Hn=function(n){return{kind:"top",error:n}},Yn=function(n){return{kind:"unbounded",group:n}},Kn=function(n,e){return{kind:"windowed",key:e,group:n}},Zn=function(n,e,t){return{kind:"countLimit",n:t,limit:e,group:n}},Qn=function(n,e,t){return{kind:"uniqueLimit",n:t,limit:e,group:n}},Xn=function(n){return{kind:"numberGroup",group:n}},$n=function(n){return{kind:"stringGroup",group:n}},ne=function(n){return{kind:"tuple",tuple:n}},ee=function(n){return{state:n}},te=function(n,e){return{commands:n,payload:e}},re={_tag:"None"};function ie(n){return{_tag:"Some",value:n}}function ue(n){return"Some"===n._tag}function oe(n){return"None"===n._tag}function ce(e){return function(n){return oe(n)?e():n.value}}function ae(e){return function(n){return e(n)?ie(n):re}}function fe(n){return"Right"===n._tag?re:ie(n.left)}function le(n){return"Left"===n._tag?re:ie(n.right)}function se(t){return{equals:function(n,e){return n===e||(oe(n)?oe(e):!oe(e)&&t.equals(n.value,e.value))}}}function pe(t){return{equals:se(t).equals,compare:function(n,e){return n===e?0:ue(n)?ue(e)?t.compare(n.value,e.value):1:-1}}}function ge(n){return n}var we={left:re,right:re},de={URI:"Option",map:function(n,e){return oe(n)?re:ie(e(n.value))},of:ie,ap:function(n,e){return oe(n)||oe(e)?re:ie(n.value(e.value))},chain:function(n,e){return oe(n)?re:e(n.value)},reduce:function(n,e,t){return oe(n)?e:t(e,n.value)},foldMap:function(t){return function(n,e){return oe(n)?t.empty:e(n.value)}},reduceRight:function(n,e,t){return oe(n)?e:t(n.value,e)},traverse:function(t){return function(n,e){return oe(n)?t.of(re):t.map(e(n.value),ie)}},sequence:function(e){return function(n){return oe(n)?e.of(re):e.map(n.value,ie)}},zero:function(){return re},alt:function(n,e){return oe(n)?e():n},extend:function(n,e){return oe(n)?re:ie(e(n))},compact:function(n){return de.chain(n,ge)},separate:function(n){var e=de.map(n,function(n){return{left:fe(n),right:le(n)}});return oe(e)?we:e.value},filter:function(n,e){return!oe(n)&&e(n.value)?n:re},filterMap:function(n,e){return oe(n)?re:e(n.value)},partition:function(n,e){return{left:de.filter(n,function(n){return!e(n)}),right:de.filter(n,e)}},partitionMap:function(n,e){return de.separate(de.map(n,e))},wither:function(t){return function(n,e){return oe(n)?t.of(re):e(n.value)}},wilt:function(r){return function(n,e){var t=de.map(n,function(n){return r.map(e(n),function(n){return{left:fe(n),right:le(n)}})});return oe(t)?r.of({left:re,right:re}):t.value}},throwError:function(){return re}},me=Mn(de),ve=(me.alt,me.ap,me.apFirst,me.apSecond,me.chain,me.chainFirst,me.duplicate,me.extend,me.filter,me.filterMap,me.flatten,me.foldMap,me.map),he=(me.partition,me.partitionMap,me.reduce,me.reduceRight,me.compact,me.separate,me.fromEither);function ye(n,e){return n<e?-1:e<n?1:0}function qe(n,e){return n===e}var be={equals:qe,compare:ye},Pe={equals:qe,compare:ye};function ke(t){return function(n,e){return-1===t.compare(n,e)}}function _e(t){return function(n,e){return 1===t.compare(n,e)}}function xe(t){return function(n,e){return-1===t.compare(n,e)?e:n}}function Ie(t){function r(n,e){return n===e?0:t(n,e)}return{equals:function(n,e){return 0===r(n,e)},compare:r}}var ze={URI:"Ord",contramap:function(t,r){return Ie(function(n,e){return t.compare(r(n),r(e))})}},Me=Mn(ze).contramap;ze.contramap(Pe,function(n){return n.valueOf()});var je=function(n,e){var t=n.length;if(0===t)return e;var r=e.length;if(0===r)return n;for(var i=Array(t+r),u=0;u<t;u++)i[u]=n[u];for(u=0;u<r;u++)i[u+t]=e[u];return i};function Ee(r){return{equals:function(n,t){return n===t||n.length===t.length&&n.every(function(n,e){return r.equals(n,t[e])})}}}var Se=[];function Oe(n){return 0<n.length}function Ae(n,e){for(var t=n.length,r=Array(t+1),i=0;i<t;i++)r[i]=n[i];return r[t]=e,r}var Te=function(n,e){for(var t=n.length,r=0;r<t&&e(n[r]);r++);return r};function We(n){for(var e=n.length,t=Array(e),r=0;r<e;r++)t[r]=n[r];return t}function Ne(n){return We(n).reverse()}function Re(e){return function(n){return We(n).sort(e.compare)}}function Le(n,e,t){for(var r=[],i=Math.min(n.length,e.length),u=0;u<i;u++)r[u]=t(n[u],e[u]);return r}function Fe(u){return function(n,e){for(var t,r=0,i=e.length;r<i;r++)if(t=e[r],u.equals(t,n))return!0;return!1}}function Ce(n){return n}function Ue(n){return[n]}var Ge={URI:"Array",map:function(n,e){return n.map(function(n){return e(n)})},mapWithIndex:function(n,t){return n.map(function(n,e){return t(e,n)})},compact:function(n){return Ge.filterMap(n,Ce)},separate:function(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var u=i[r];"Left"===u._tag?e.push(u.left):t.push(u.right)}return{left:e,right:t}},filter:function(n,e){return n.filter(e)},filterMap:function(n,t){return Ge.filterMapWithIndex(n,function(n,e){return t(e)})},partition:function(n,t){return Ge.partitionWithIndex(n,function(n,e){return t(e)})},partitionMap:function(n,t){return Ge.partitionMapWithIndex(n,function(n,e){return t(e)})},of:Ue,ap:function(n,e){return function(n){for(var e=0,t=n.length,r=0;r<t;r++)e+=n[r].length;var i=Array(e),u=0;for(r=0;r<t;r++){for(var o=n[r],c=o.length,a=0;a<c;a++)i[a+u]=o[a];u+=c}return i}(Ge.map(n,function(n){return Ge.map(e,n)}))},chain:function(n,e){for(var t=0,r=n.length,i=new Array(r),u=0;u<r;u++){t+=(a=e(n[u])).length,i[u]=a}var o=Array(t),c=0;for(u=0;u<r;u++){for(var a,f=(a=i[u]).length,l=0;l<f;l++)o[l+c]=a[l];c+=f}return o},reduce:function(n,e,r){return Ge.reduceWithIndex(n,e,function(n,e,t){return r(e,t)})},foldMap:function(n){var e=Ge.foldMapWithIndex(n);return function(n,t){return e(n,function(n,e){return t(e)})}},reduceRight:function(n,e,r){return Ge.reduceRightWithIndex(n,e,function(n,e,t){return r(e,t)})},unfold:function(n,e){for(var t=[],r=n;;){var i=e(r);if(!ue(i))break;var u=i.value,o=u[0],c=u[1];t.push(o),r=c}return t},traverse:function(n){var e=Ge.traverseWithIndex(n);return function(n,t){return e(n,function(n,e){return t(e)})}},sequence:function(t){return function(n){return Ge.reduce(n,t.of(Ge.zero()),function(n,e){return t.ap(t.map(n,function(e){return function(n){return Ae(e,n)}}),e)})}},zero:function(){return Se},alt:function(n,e){return je(n,e())},extend:function(n,r){return n.map(function(n,e,t){return r(t.slice(e))})},wither:function(t){var r=Ge.traverse(t);return function(n,e){return t.map(r(n,e),Ge.compact)}},wilt:function(t){var r=Ge.traverse(t);return function(n,e){return t.map(r(n,e),Ge.separate)}},reduceWithIndex:function(n,e,t){for(var r=n.length,i=e,u=0;u<r;u++)i=t(u,i,n[u]);return i},foldMapWithIndex:function(i){return function(n,r){return n.reduce(function(n,e,t){return i.concat(n,r(t,e))},i.empty)}},reduceRightWithIndex:function(n,e,r){return n.reduceRight(function(n,e,t){return r(t,e,n)},e)},traverseWithIndex:function(i){return function(n,r){return Ge.reduceWithIndex(n,i.of(Ge.zero()),function(n,e,t){return i.ap(i.map(e,function(e){return function(n){return Ae(e,n)}}),r(n,t))})}},partitionMapWithIndex:function(n,e){for(var t=[],r=[],i=0;i<n.length;i++){var u=e(i,n[i]);"Left"===u._tag?t.push(u.left):r.push(u.right)}return{left:t,right:r}},partitionWithIndex:function(n,e){for(var t=[],r=[],i=0;i<n.length;i++){var u=n[i];e(i,u)?r.push(u):t.push(u)}return{left:t,right:r}},filterMapWithIndex:function(n,e){for(var t=[],r=0;r<n.length;r++){var i=e(r,n[r]);ue(i)&&t.push(i.value)}return t},filterWithIndex:function(n,t){return n.filter(function(n,e){return t(e,n)})}},Je=Mn(Ge),Ve=(Je.alt,Je.ap,Je.apFirst,Je.apSecond,Je.chain),De=(Je.chainFirst,Je.duplicate,Je.extend,Je.filter,Je.filterMap,Je.filterMapWithIndex,Je.filterWithIndex,Je.foldMap,Je.foldMapWithIndex,Je.map,Je.mapWithIndex,Je.partition,Je.partitionMap,Je.partitionMapWithIndex,Je.partitionWithIndex,Je.reduce,Je.reduceRight,Je.reduceRightWithIndex,Je.reduceWithIndex,Je.compact);Je.separate;function Be(t){return{equals:function(n,e){return n===e||t(n,e)}}}var He={equals:function(n,e){return n===e}},Ye=He,Ke=He;var Ze={URI:"Eq",contramap:function(t,r){return Be(function(n,e){return t.equals(r(n),r(e))})}};Mn(Ze).contramap,Ze.contramap(Ke,function(n){return n.valueOf()});var Qe=function(n,e){for(var t=e.length,r=Array(t+1),i=0;i<t;i++)r[i+1]=e[i];return r[0]=n,r};function Xe(n){return Oe(n)?ie(n):re}var $e=Ee;var nt=Ue;function et(n,e){return n.concat(e)}var tt=Mn({URI:"NonEmptyArray",map:Ge.map,mapWithIndex:Ge.mapWithIndex,of:nt,ap:Ge.ap,chain:Ge.chain,extend:Ge.extend,extract:function(n){return n[0]},reduce:Ge.reduce,foldMap:Ge.foldMap,reduceRight:Ge.reduceRight,traverse:Ge.traverse,sequence:Ge.sequence,reduceWithIndex:Ge.reduceWithIndex,foldMapWithIndex:Ge.foldMapWithIndex,reduceRightWithIndex:Ge.reduceRightWithIndex,traverseWithIndex:Ge.traverseWithIndex,alt:function(n,e){return et(n,e())}});tt.ap,tt.apFirst,tt.apSecond,tt.chain,tt.chainFirst,tt.duplicate,tt.extend,tt.flatten,tt.foldMap,tt.foldMapWithIndex,tt.map,tt.mapWithIndex,tt.reduce,tt.reduceRight,tt.reduceRightWithIndex,tt.reduceWithIndex;function rt(n,e){return De(n.map(e))}function it(n,e,w,d){var t,r,m=function(n,e){if(0===n.length)return De(e.map(function(n){return ie({1:n[1],2:w(re,ie(n[2]))})}));if(0===e.length)return De(n.map(function(n){return ie({1:n[1],2:w(ie(n[2]),re)})}));if(0<n.length&&0<e.length&&ke(d)(n[0][1],e[0][1])){var t=v.b(n),r=t[0],i=t.slice(1),u=r[1],o=r[2];return Qe({1:u,2:w(ie(o),re)},m(i,e))}if(0<n.length&&0<e.length&&_e(d)(n[0][1],e[0][1])){var c=v.b(e),a=c[0],f=c.slice(1),l=a[1],s=a[2];return Qe({1:l,2:w(re,ie(s))},m(n,f))}if(0<n.length&&0<e.length){var p=v.b(n),g=(r=p[0],i=p.slice(1),v.b(e));a=g[0],f=g.slice(1),u=r[1],o=r[2],s=a[2];return Qe({1:u,2:w(ie(o),ie(s))},m(i,f))}throw new Error("Non exhaustive match in mapOption2")},i=Me(function(n){return n[1]})(d),u=(t=m(Re(i)(ct(n).map(function(n){return{1:n[0],2:n[1]}})),Re(i)(ct(e).map(function(n){return{1:n[0],2:n[1]}}))),0===(r=rt(t,function(n){return ue(n[2])?ie({1:n[1],2:n[2].value}):re})).length?re:ie(r));return ve(function(n){var e=new Map;return n.map(function(n){return[n[1],n[2]]}).forEach(function(n){return e.set(n[0],n[1])}),e})(u)}function ut(n,e,r,t){var i=Re(Me(function(n){return n[0]})(t))(ct(e)).reduceRight(function(n,e){if(On(n)){var t=r(e[1],n.left);return ue(t)?jn(t.value):En(e[0])}return n},jn(n));return he(i)}function ot(t){return Ie(function(n,e){return function(n){switch(n){case-1:return 1;case 1:return-1;default:return 0}}(t.compare(n,e))})}function ct(n){var t=[];return n.forEach(function(n,e){return t.push([e,n])}),t}function at(n,e){var t=new Map;return ct(n).map(e).forEach(function(n){return t.set(n[0],n[1])}),t}function ft(n,e){var t=new Map;return ct(n).filter(e).forEach(function(n){return t.set(n[0],n[1])}),t}var lt=Be(function(n,r){if(n.kind!==r.kind)return!1;if("null"===n.kind&&"null"===r.kind)return!0;if("string"===n.kind&&"string"===r.kind)return n.value===r.value;if("number"===n.kind&&"number"===r.kind)return n.value===r.value;if("array"===n.kind&&"array"===r.kind)return Ee(lt).equals(n.value,r.value);if("object"===n.kind&&"object"===r.kind)return ct(n.value).every(function(n,e){var t=ct(r.value);return n[0]===t[e][0]&&lt.equals(n[1],t[e][1])});throw new Error("Non exhaustive mach in SimpleJsonEq")});function st(n){switch(n.kind){case"null":return wt.encode(n);case"string":return dt.encode(n);case"number":return mt.encode(n);case"array":return vt.encode(n);case"object":return ht.encode(n)}}function pt(n){var e=wt.decode(n);if(An(e))return e;var t=mt.decode(n);if(An(t))return t;var r=dt.decode(n);if(An(r))return r;var i=vt.decode(n);if(An(i))return i;var u=ht.decode(n);return An(u)?u:f("Decode error",[])}function gt(t){return Ie(function(n,e){if("bottom"===n.kind&&"bottom"===e.kind)return 0;if("bottom"===n.kind)return-1;if("bottom"===e.kind)return 1;if("top"===n.kind&&"top"===e.kind)return be.compare(n.error,e.error);if("top"===n.kind)return 1;if("top"===e.kind)return-1;if("inner"===n.kind&&"inner"===e.kind)return t.compare(n.a,e.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")})}var wt=new c("simpleNullCodec",function(n){return"null"===n.kind&&null===n.value},function(n,e){return null===n?w(Fn()):f(n,e)},function(n){return n.value}),dt=new c("simpleStringCodec",function(n){return"string"===n.kind&&"string"==typeof n.value},function(n,e){return"string"==typeof n?w(Cn(n)):f(n,e)},function(n){return n.value}),mt=new c("simpleNumberCodec",function(n){return"number"===n.kind&&"number"==typeof n.value},function(n,e){return"number"==typeof n?w(Un(n)):f(n,e)},function(n){return n.value}),vt=new c("simpleArrayCodec",function(n){return"array"===n.kind&&Array.isArray(n.value)},function(n,e){if(Array.isArray(n)){var t=n.map(pt),r=t.every(An)?En(t.map(function(n){return n.right})):f(n,e);return Ln(Gn)(r)}return f(n,e)},function(n){return n.value.map(st)}),ht=new c("simpleObjectCodec",function(n){return"object"===n.kind},function(e,n){if(e&&e.constructor===Object){var t=Object.keys(e).map(function(n){return{1:n,2:e[n]}}).map(function(e){return Ln(function(n){return{1:e[1],2:n}})(pt(e[2]))});return Ln(function(n){var e=n.map(function(n){return[n[1],n[2]]}),t=new Map;return e.forEach(function(n){return t.set(n[0],n[1])}),Jn(t)})(t.every(An)?En(t.map(function(n){return n.right})):f(e,n))}return f(e,n)},function(n){return ct(n.value).reduce(function(n,e){var t;return v.a({},n,((t={})[e[0]]=st(e[1]),t))},{})}),yt=(new c("simpleJsonCodec",function(n){return wt.is(n)||mt.is(n)||dt.is(n)||vt.is(n)||ht.is(n)},pt,st),t(10)),qt=t.n(yt),bt={URI:"ExtendedAlgebra",map:function(n,e){switch(n.kind){case"bottom":return Dn();case"inner":return Bn(e(n.a));case"top":return Hn(n.error)}}};function Pt(n){return ve(Mt)(function(n){switch(n.state.kind){case"top":return ie(Cn(n.state.error));case"bottom":return re;case"inner":return function(n){return function(n){switch(n.kind){case"numberGroup":case"stringGroup":return kt(n.group);case"tuple":return 0<n.tuple.length}}(n.payload)?ie(Gn(function(n,e){return ce(function(){return e})(ve(function(n){return Qe(n,e)})(n))}(ve(function(n){return Cn(n.map(function(n){return 1===n[2]?e(n[1]):e(n[1])+JSON.stringify(n[2])}).join(""));function e(n){switch(n){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}}})(n.commands),function(n){switch(n.kind){case"tuple":return n.tuple.map(function(n){switch(n.kind){case"bottom":return Fn();case"top":return Cn(n.error);case"inner":return Un(n.a)}});case"stringGroup":return function(e){return rt([_t,xt,function(n){return zn(n,zt,Jn,ie)}],function(n){return n(e)})}(n.group);case"numberGroup":return function(e){return rt([_t,It,function(n){return zn(n,zt,function(n){return at(n,function(n){var e=v.b(n,2),t=e[0],r=e[1];return[JSON.stringify(t),r]})},Jn,ie)}],function(n){return n(e)})}(n.group)}}(n.payload)))):re}(n.state.a)}}(n))}function kt(n){switch(n.kind){case"unbounded":return 0<n.group.size;case"windowed":return 0<n.group.size||ue(n.key);case"countLimit":case"uniqueLimit":return 0<n.group.size||ue(n.limit)}}function _t(n){switch(n.kind){case"unbounded":return re;case"windowed":return ie(Cn("w"));case"countLimit":return ie(Cn(1===n.n?"x":"x"+n.n));case"uniqueLimit":return ie(Cn(1===n.n?"u":"u"+n.n))}}function xt(n){switch(n.kind){case"unbounded":return re;case"windowed":return ie(Cn(ue(n.key)?n.key.value:""));case"countLimit":case"uniqueLimit":return ie(Cn(ue(n.limit)?n.limit.value:""))}}function It(n){switch(n.kind){case"unbounded":return re;case"windowed":return ue(n.key)?ie(Un(n.key.value)):ie(Fn());case"countLimit":case"uniqueLimit":return ue(n.limit)?ie(Un(n.limit.value)):ie(Fn())}}function zt(n){switch(n.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return n.group}}function Mt(n){switch(n.kind){case"array":return 0===n.value.length?Fn():1===n.value.length?Mt(n.value[0]):Gn(n.value.map(Mt));case"object":return Jn(at(ft(n.value,function(n){var e=v.b(n,2);e[0];return null!==e[1].value}),function(n){return[n[0],Mt(n[1])]}));default:return n}}function jt(n){var e=function(n){switch(n.kind){case"array":return Ve(e)(n.value);default:return[n]}};switch(n.kind){case"null":return ee(Dn());default:return ee(function(n){if(0===n.length)return Dn();var e=function(n){if(4!==n.length)return re;var e=v.b(n,4),t=e[0],r=e[1],i=e[2],u=e[3];if("string"!==t.kind||"string"!==r.kind||"object"!==u.kind)return re;var o=ae(function(n){return Et(n[1].value)&&St(n[2].value)})({1:t,2:r});return ve(function(n){return{prim:n[1].value,grp:n[2].value,cutoff:i,m:u.value}})(o)}(n);if(ue(e)){var t=e.value,r=t.prim,i=t.grp;return"string"==typeof(o=Ot(t.cutoff,l=t.m,At(i)))?Hn(o):Bn(te(Tt(r),o))}var u=function(n){if(3!==n.length)return re;var e=v.b(n,3),t=e[0],r=e[1],i=e[2];if("string"!==t.kind||"object"!==i.kind)return re;var u=ae(function(n){return St(n.value)})(t);return ve(function(n){return{grp:n.value,cutoff:r,m:i.value}})(u)}(n);if(ue(u)){var o,c=u.value;i=c.grp;return"string"==typeof(o=Ot(c.cutoff,l=c.m,At(i)))?Hn(o):Bn(te(re,o))}var a=function(n){if(2!==n.length)return re;var e=v.b(n,2),t=e[0],r=e[1];if("string"!==t.kind||"object"!==r.kind)return re;var i=ae(function(n){return Et(n.value)})(t);return ve(function(n){return{prim:n.value,m:r.value}})(i)}(n);if(ue(a)){var f=a.value,l=(r=f.prim,f.m);return Bn(te(Tt(r),$n(Yn(l))))}var s=function(n){if(1!==n.length)return re;var e=v.b(n,1)[0];return"object"===e.kind?ie({m:e.value}):re}(n);if(ue(s)){l=s.value.m;return Bn(te(re,$n(Yn(l))))}var p=function(n){if(n.length<1)return re;var e=v.b(n),t=e[0],r=e.slice(1);if("string"!==t.kind)return re;var i=ae(function(n){return Et(n.value)})(t);return ve(function(n){return{prim:n.value,rest:r}})(i)}(n);if(ue(p)){var g=p.value,w=(r=g.prim,g.rest);return Bn(te(Tt(r),Wt(w)))}return Bn(te(re,Wt(n)))}(e(n)))}}function Et(n){var e=n.split("");switch(!0){case 0===e.length:return!1;default:var t=v.b(e),r=t[0],i=t.slice(1);return-1!=="pmvn".indexOf(r)&&i.every(function(n){return-1!=="pmvn0123456789".indexOf(n)})}}function St(n){var e=n.split("");switch(!0){case 0===e.length:return!1;case"w"===e[0]&&void 0===e[1]:return!0;default:var t=v.b(e),r=t[0],i=t.slice(1);return-1!=="ux".indexOf(r)&&-1===i.map(function(n){return!isNaN(parseInt(n))}).indexOf(!1)}}function Ot(n,e,t){switch(n.kind){case"string":return $n(t({1:ie(n.value),2:e}));case"number":case"null":return Xn(t({1:"null"===n.kind?re:ie(n.value),2:ft(at(e,function(n){var e=v.b(n,2),t=e[0],r=e[1];return[Number(t),r]}),function(n){return!isNaN(n[0])})}));default:return"{bad cutoff}"}}function At(n){function e(e){return function(n){return Qn(n[2],n[1],e)}}function t(e){return function(n){return Zn(n[2],n[1],e)}}var r=n.split("");switch(!0){case"w"===r[0]&&void 0===r[1]:return function(n){return Kn(n[2],n[1])};case"u"===r[0]&&void 0===r[1]:return e(1);case"u"===r[0]&&void 0!==r[1]:return e(parseInt(r.slice(1).join("")));case"x"===r[0]&&void 0===r[1]:return t(1);case"x"===r[0]&&void 0!==r[1]:return t(parseInt(r.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function Tt(n){return ve(Vn)(Xe(function e(n,t){var r=t(n);return ce(function(){return[]})(ve(function(n){return[n[1]].concat(e(n[2],t))})(r))}(n,function(n){var e=n.split("");if(0===e.length)return re;var t=v.b(e),r=t[0],i=t.slice(1),u=function(n){switch(n){case"p":return ie("add");case"m":return ie("mul");case"v":return ie("max");case"n":return ie("min");default:return re}}(r);return ve(function(n){var o,e=(o=function(n){return"number"==typeof(e=parseInt(n))&&isFinite(e)&&Math.floor(e)===e;var e},function(n){for(var e=Te(n,o),t=Array(e),r=0;r<e;r++)t[r]=n[r];var i=n.length,u=Array(i-e);for(r=e;r<i;r++)u[r-e]=n[r];return{init:t,rest:u}}(i)),t=e.init,r=e.rest;return{1:{1:n,2:0===t.length?1:parseInt(t.join(""))},2:r.join("")}})(u)})))}function Wt(n){return ne(n.map(Nt))}function Nt(n){switch(n.kind){case"number":return Bn(n.value);case"string":return Hn(n.value);case"null":return Dn();case"object":return Hn("{object}");case"array":return Hn("{array}")}}var Rt={strategy:function(e,t,r){return function(n){if(oe(r))return t;if("delta"===e&&oe(t))return re;if(oe(t))return r;if(ue(t)&&ue(r))return n(t.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")}},operation:function(n,e,t,r,i,u){var c,o=(c=gt(u),Ie(function(n,e){for(var t=n.length,r=e.length,i=Math.min(t,r),u=0;u<i;u++){var o=c.compare(n[u],e[u]);if(0!==o)return o}return Pe.compare(t,r)}));if("append"===n&&"add"===e)return Le(t,r,Dt(i.plus));if("append"===n&&"mul"===e)return Le(t,r,Dt(i.times));if("append"===n&&"max"===e)return xe(o)(t,r);if("join"===n&&"add"===e)return Le(t,r,Dt(xe(u)));if("join"===n&&"mul"===e)return Le(t,r,Dt(xe(u)));if("join"===n&&"max"===e)return xe(o)(t,r);if("min"===e)return Rt.operation(n,"max",t,r,i,ot(u));if("delta"===n&&"max"===e)return _e(o)(t,r)?t:r.map(Dn);if("delta"===n)return Le(t,r,function(n,e){return _e(gt(u))(n,e)?n:Dn()});throw new Error("Non exhaustive match in combineCommand.operation")}},Lt={plus:function(n,e){return n+e},times:function(n,e){return n*e}};function Ft(n,e,t,r){if("unbounded"===n.kind&&"unbounded"===e.kind){var i=n.group,u=e.group;return ce(Dn)(ve(function(n){return Bn(Yn(n))})(it(i,u,t,r)))}if("windowed"===n.kind&&"windowed"===e.kind){var o=n.key,c=(i=n.group,e.key),a=(u=e.group,xe(pe(r))(o,c));return ce(Dn)(ve(function(n){return Bn(Kn(n,a))})(it(i,u,t,r)))}if("countLimit"===n.kind&&"countLimit"===e.kind){var f=n.n,l=e.n;if(f!==l)return Hn("Non matching counts");o=n.limit,i=n.group,c=e.limit,u=e.group;var s=xe(pe(r))(o,c);return ce(Dn)(ve(function(n){return Bn(Zn(n,s,f))})(it(i,u,t,r)))}if("uniqueLimit"!==n.kind||"uniqueLimit"!==e.kind)return Hn("Non matching group types");var p=n.n;l=e.n;if(p!==l)return Hn("Non matching counts");o=n.limit,i=n.group,c=e.limit,u=e.group;var g=xe(pe(r))(o,c);return ce(Dn)(ve(function(n){return Bn(Qn(n,g,p))})(it(i,u,t,r)))}function Ct(p,n,e,t,g,w){function d(n,e){return{1:(r=n,function(n){return n.slice(0,r)}(e).concat(v.c(Array(Math.max(0,n-e.length))).map(Dn))),2:(t=n,function(n){return n.slice(t,n.length)}(e))};var t,r}var u,m=function(n,e,t){if(0===n.length)return Rt.operation(p,"max",e,t,g,w);if(0===e.length)return t;if(0===t.length)return e;if(0<n.length){var r=v.b(n),i=r[0],u=r.slice(1),o=d(i[2],e),c=o[1],a=o[2],f=d(i[2],t),l=f[1],s=f[2];return Rt.operation(p,i[1],c,l,g,w).concat(m(u,a,s))}throw new Error("Non exhaustive match in recurse")};return Ne((u=function(n){return"bottom"===n.kind},function(n){for(var e=Te(n,u),t=n.length,r=Array(t-e),i=e;i<t;i++)r[i-e]=n[i];return r}(Ne(m(n,e,t)))))}function Ut(n,e,t){return ce(Fn)(function r(u,o){var c=function(t){return function(n,e){return Rt.strategy(u,n,e)(r(u,t))}};var a=function(n,e,t){if("stringGroup"===e.kind&&"stringGroup"===t.kind){var r=Ft(e.group,t.group,c(n),be);return bt.map(r,function(n){return $n(Jt(n,be))})}if("numberGroup"===e.kind&&"numberGroup"===t.kind){var r=Ft(e.group,t.group,c(n),Pe);return bt.map(r,function(n){return Xn(Jt(n,Pe))})}if("tuple"!==e.kind||"tuple"!==t.kind)throw new Error("Non matching payload. Got "+JSON.stringify(e)+" and "+JSON.stringify(t)+". Command was "+u);var i=ue(n)?n.value:[];return Bn(ne(Ct(u,i,e.tuple,t.tuple,Lt,Pe)))};var t=function(e,n){var r,t=se($e((r={1:Ye,2:Ke},Be(function(n,e){for(var t in r)if(!r[t].equals(n[t],e[t]))return!1;return!0}))));if(t.equals(e.commands,n.commands)){var i=oe(e.commands)?o:e.commands,u=a(i,e.payload,n.payload);return bt.map(u,function(n){return te(e.commands,n)})}throw new Error("Non matching primitive strings. Got "+JSON.stringify(e)+" and "+JSON.stringify(n))};return function(n,e){return Pt(ee(Vt(t,jt(n).state,jt(e).state)))}}(n,re)(e,t))}function Gt(n,e,u){return ce(function(){return n})(ve(function(i){return ft(n,function(n){var t,e=v.b(n,2),r=e[0];e[1];return t=u,function(n,e){return-1!==t.compare(n,e)}(r,i)})})(e))}function Jt(n,e){switch(n.kind){case"unbounded":return n;case"windowed":return oe(n.key)?n:Kn(Gt(n.group,n.key,e),n.key);case"countLimit":var t=n.limit,r=n.n,i=ut(r,o=n.group,function(n,e){return e<=1?re:ie(e-1)},e),u=xe(pe(e))(t,i);return Zn(Gt(o,u,e),u,r);case"uniqueLimit":t=n.limit;var o,c=n.n;i=ut([],o=n.group,function(n,e){switch(n.kind){case"object":var t=v.c(ct(n.value).map(function(n){return n[0]}),e),r=(u=Fe(Ye),function(n){for(var e=[],t=n.length,r=0;r<t;r++){var i=n[r];u(i,e)||e.push(i)}return t===e.length?n:e}(t));return r.length>=c?re:ie(r);default:return re}var u},e),u=xe(pe(e))(t,i);return Qn(Gt(o,u,e),u,c)}}function Vt(n,e,t){if("inner"===e.kind&&"inner"===t.kind)return n(e.a,t.a);if("bottom"===e.kind)return t;if("bottom"===t.kind)return e;if("top"===e.kind&&"top"===t.kind)return Hn(xe(be)(e.error,t.error));if("top"===e.kind)return e;if("top"===t.kind)return t;throw new Error("Non exhaustive match in extend")}function Dt(t){return function(n,e){return Vt(function(n,e){return Bn(t(n,e))},n,e)}}function Bt(n,e){return Ut("append",n,e)}var Ht=t(2),Yt=(t(3),function(){var c,s,r,n,e,a=this&&this.__assign||function(){return(a=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}).apply(this,arguments)},d=this&&this.__read||function(n,e){var t="function"==typeof Symbol&&n[Symbol.iterator];if(!t)return n;var r,i,u=t.call(n),o=[];try{for(;(void 0===e||0<e--)&&!(r=u.next()).done;)o.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(t=u.return)&&t.call(u)}finally{if(i)throw i.error}}return o},m=this&&this.__spread||function(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(d(arguments[e]));return n},t=(n=x(function(n){return n.getCurrentSession()},["session_id"],18e5),e=x(function(n){return n.getCurrentView()},["view_id"],3e5),{q:function(r){function t(n,e){return{result:r.r(n,e)}}return{initial:function(n){return{result:r.a.z}},update:function(n,e,t){return{result:r.a.m(e.result,r.p(n,t))}},result:function(n,e){return t(n,e.result)},lift:function(n,e){return r.d.l(n,e)},interpret:function(n,e){return t(e,r.d.i(n,e))},migrate:function(n){return n&&r.d.m?r.d.m(n):null},m:r.a.m,z:r.a.z,p:r.p,r:r.r,i:r.d.i}},a:function(n){return n.reduce(u)},acq:function(t,r){return{p:function(n,e){return[t.p(n,e),r.p(n,e)]},r:function(n,e){return t.r(n,e[0])&&r.r(n,e[1])},a:{z:[t.a.z,r.a.z],m:function(n,e){return[t.a.m(n[0],e[0]),r.a.m(n[1],e[1])]}},d:{l:function(n,e){return z(t.d.l(n,e),r.d.l(n,e))},i:function(n,e){return n?[t.d.i(n.a||null,e),r.d.i(n.b||null,e)]:[t.a.z,r.a.z]},m:function(n){return j(t,r,n)}}}},af_i:function(e,t,r){return void 0===r&&(r=o),function(n){return v(n,e,function(n){return n.filter(r).map(t).reduce(function(n,e){return n&&e},!0)})&&!0}},af_l:function(t,r,i){return void 0===i&&(i=o),function(n){var e=v(n,t,function(n){return n.filter(i).length});return r(null===e?0:e)}},af_m:function(t,r,i,u){return void 0===u&&(u=o),function(n){var e=v(n,t,function(n){return n.filter(u)});return null===e||0===e.length?i(0):i(e.map(function(n){return v(n,r)}).reduce(function(n,e){return n+e},0)/e.length)}},af_n:function(n,e,t,r){return void 0===r&&(r=o),b(n,e,t,r,function(n,e){return Math.min(n,e)},Number.POSITIVE_INFINITY)},af_p:function(n,e,t,r){return void 0===r&&(r=o),b(n,e,t,r,function(n,e){return n*e},1)},af_s:function(n,e,t,r){return void 0===r&&(r=o),b(n,e,t,r,function(n,e){return n+e},0)},af_u:function(e,t,r){return void 0===r&&(r=o),function(n){return v(n,e,function(n){return n.filter(r).map(t).reduce(function(n,e){return n||e},!1)})||!1}},af_x:function(n,e,t,r){return void 0===r&&(r=o),b(n,e,t,r,function(n,e){return Math.max(n,e)},Number.NEGATIVE_INFINITY)},as:function(r,i,n){return function(t){return n.reduce(function(n,e){return n&&r(e)(v(t,f("properties",i)))},!0)}},c:P,c_:function(e,t){return function(n){return P(t)(v(n,e))}},ctu:function(t,r,i,u){return{a:u?{m:function(n,e){return n.filter(function(n){return-1===e.indexOf(n)}).concat(e).slice(-u)},z:[]}:{m:function(n,e){return n.filter(function(n){return-1===e.indexOf(n)}).concat(e)},z:[]},p:function(n,e){return v(e,["name"])===t&&r(e)?v(e,i):[]},r:function(n,e){return e},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(t,r,i,u){function o(n,e){var t,r={arr:[],add:{k:e,c:1}};return e?(t=n.reduce(function(n,e){return n.add.k===e.k?{arr:n.arr,add:{k:(t=e).k,c:1+t.c}}:{arr:n.arr.concat(e),add:n.add};var t},r)).arr.concat(t.add):n}return{a:u?{m:function(n,e){return o(n,e).slice(-u)},z:[]}:{m:function(n,e){return o(n,e)},z:[]},p:function(n,e){return v(e,["name"])===t&&r(e)?v(e,i):null},r:function(n,e){return e.reduce(function(n,e){var t;return a({},n,((t={})[e.k]=e.c,t))},{})},d:{l:function(n){return null},i:function(n){return[]}}}},ctw:function(t,r,i,u){return{a:u?{m:function(n,e){return n.concat(e).slice(-u)},z:[]}:{m:function(n,e){return n.concat(e)},z:[]},p:function(n,e){return v(e,["name"])===t&&r(e)?v(e,i):[]},r:function(n,e){return e},d:{l:function(){return null},i:function(){return[]}}}},cw:function(t,r,i){return void 0===i&&(i=c),{a:{m:function(n,e){return n+e},z:0},p:function(n,e){return v(e,["name"])===t&&r(e)?1:0},r:function(n,e){return i(e)},d:{l:function(n){return v(n,["name"])===t&&r(n)?["p",1]:null},i:function(n){return n?Array.isArray(n)?n.slice(-1)[0]:n:0},m:function(n){return n&&n.result?["p",n.result]:null}}}},e:function(e){return function(n){return n===e}},e_:function(e,t){return function(n){return v(n,e)===t}},fm:function(t,r){return{p:r.p,r:function(n,e){return t(r.r(n,e))},a:r.a,d:r.d}},ftn:function(t,r,i){return{a:{m:function(n,e){return n.concat(e.slice(0,i-n.length))},z:[]},p:function(n,e){return v(e,["name"])===r?[t.p(n,e)]:[]},r:function(n,e){return t.r(n,e.reduce(function(n,e){return t.a.m(n,e)},t.a.z))},d:I(t,r,i,-1).d}},g:function(e){return function(n){return e<n}},g_:function(e,t){return function(n){return v(n,e)>t}},gb:function(o,n,c){return{a:{m:function(r,i){return Object.keys(r).concat(Object.keys(i)).filter(function(n,e,t){return t.indexOf(n)===e}).sort(function(n,e){return Math.max(v(r,[e,1]),v(i,[e,1]))-Math.max(v(r,[n,1]),v(i,[n,1]))}).slice(0,n).reduce(function(n,e){var t=o.a.m(v(r,[e,0])||o.a.z,v(i,[e,0])||o.a.z);return n[e]=[t,Math.max(v(r,[e,1]),v(i,[e,1]))],n},{})},z:{}},p:function(n,e){var t,r,i=v(e,f("properties",c)),u=o.p(n,e);return null==i||null==(r=u)||"object"==typeof r&&0===Object.keys(r).length||r===o.a.z?{}:((t={})[i]=[u,v(e,["time"],s)],t)},r:function(e,t){var r={};return Object.keys(t).forEach(function(n){return r[n]=o.r(e,t[n][0])}),r},d:{l:function(){return null},i:function(){return{}}}}},ge:function(e){return function(n){return e<=n}},ge_:function(e,t){return function(n){return v(n,e)>=t}},i_:c=function(n){return n},ifp:function(t){function r(n,e){return _(n,"1p",t)}return{a:{m:function(n,e){return e},z:!1},p:r,r:function(n,e){return e},d:{l:function(n,e){return["v2",+s(y(n)||e.getCurrentTime()),+r(e)]},i:function(n){return Array.isArray(n)&&(!!+n[2]||!1)}}}},isp:function(t,r,i,u){return{a:{m:function(n,e){return e},z:!1},p:function(n,e){return _(n,t,r)},r:function(n,e){return k(n,t,r,i,u)},d:{l:function(n,e){return null},i:function(n){return Array.isArray(n)&&(!!+n[2]||!1)}}}},itp:function(t,r,i,u){return{a:{m:function(n,e){return e},z:!1},p:function(n,e){return _(n,t,r)},r:function(n,e){return k(n,t,r,i,u)},d:{l:function(n,e){return null},i:function(n){return Array.isArray(n)&&(!!+n[2]||!1)}}}},k:v,l:function(e){return function(n){return n<e}},l_:function(e,t){return function(n){return v(n,e)<t}},le:function(e){return function(n){return n<=e}},le_:function(e,t){return function(n){return v(n,e)<=t}},lm:function(t,r){function i(n,e){return function(n,e,t){var r,i=n||{},u=e[t]||{},o=(u["1p"]||{}).const||0,c=g(u);for(var a in c){var f=g(c[a][1]);for(var l in f)!0===(i[c[a][0]]||{})[f[l][0]]&&(o+=f[l][1])}return r=o,1/(1+Math.pow(Math.E,-r))}(n.getSegments(),n.getLookalikeModels(),t)}return{a:{m:function(n,e){return e},z:[]},p:function(n,e){return[i(n)]},r:function(n,e){return!!e[0]&&r(e[0])},d:{l:function(n,e){return["v2",+s(y(n)||e.getCurrentTime()),+i(e)]},i:function(n){return Array.isArray(n)?[+n[2]]:[]}}}},ltn:I,mnw:function(t,r,i,u){void 0===u&&(u=c);var o=Number.POSITIVE_INFINITY;return{a:{m:function(n,e){return n<e?n:e},z:o},p:function(n,e){return v(e,["name"])===t&&r(e)?v(e,i):o},r:function(n,e){return u(e)},d:{l:function(n){return v(n,["name"])===t&&r(n)?["n",v(n,i)]:null},i:function(n){return n?Array.isArray(n)?n.slice(-1)[0]:n:o}}}},mxw:function(t,r,i,u){void 0===u&&(u=c);var o=Number.NEGATIVE_INFINITY;return{a:{m:function(n,e){return e<n?n:e},z:o},p:function(n,e){return v(e,["name"])===t&&r(e)?v(e,i):o},r:function(n,e){return u(e)},d:{l:function(n){return v(n,["name"])===t&&r(n)?["v",v(n,i)]:null},i:function(n){return n?Array.isArray(n)?n.slice(-1)[0]:n:o}}}},n0:w(c),n:function(e){return function(n){return n!==e}},nt:w,n_:function(e,t){return function(n){return v(n,e)!==t}},o:function(n){return n.reduce(l)},ocq:function(t,r){return{p:function(n,e){return[t.p(n,e),r.p(n,e)]},r:function(n,e){return t.r(n,e[0])||r.r(n,e[1])},a:{z:[t.a.z,r.a.z],m:function(n,e){return[t.a.m(n[0],e[0]),r.a.m(n[1],e[1])]}},d:{l:function(n,e){return z(t.d.l(n,e),r.d.l(n,e))},i:function(n,e){return n?[t.d.i(n.a||null,e),r.d.i(n.b||null,e)]:[t.a.z,r.a.z]},m:function(n){return j(t,r,n)}}}},oe:g,os:function(r,i,n){return function(t){return n.reduce(function(n,e){return n||r(e)(v(t,f("properties",i)))},!1)}},pb:function(e,t,r){return function(n){return h(t,r)(i(n,e))}},pc:function(t,r){return function(n){var e=v(n,f("properties",t));return null!=e&&"object"==typeof e&&0<=e.indexOf(r)}},pe:function(e,t){return function(n){return i(n,e)===t}},pg:function(e,t){return function(n){return i(n,e)>t}},pge:function(e,t){return function(n){return i(n,e)>=t}},pl:function(e,t){return function(n){return i(n,e)<t}},ple:function(e,t){return function(n){return i(n,e)<=t}},pn:function(e,t){return function(n){return i(n,e)!==t}},ps:function(e,t){return function(n){return r(t)(i(n,e))}},pw:function(t,r,i,u){return void 0===u&&(u=c),{a:{m:function(n,e){return n*e},z:1},p:function(n,e){return v(e,["name"])===t&&r(e)?v(e,i):1},r:function(n,e){return u(e)},d:{l:function(n){return v(n,["name"])===t&&r(n)?1<=(e=v(n,i))?["m2p",e]:0<e?["m2p",null,1/e]:0==e?["m2p",0]:-1<e?["m2p",null,1/e,1]:["m2p",e,null,1]:null;var e},i:function(n){return n?Array.isArray(n)?0===(e=n.slice(1))[0]?0:Math.pow(-1,e[2]||0)*(e[0]||1)/(e[1]||1):n:1;var e}}}},s:r=function(e){return function(n){return"string"==typeof e&&"string"==typeof n&&-1<n.toLowerCase().indexOf(e.toLowerCase())}},s_:function(e,t){return function(n){return r(t)(v(n,e))}},sq:n,sw:function(r,i,u,t){return void 0===t&&(t=c),{a:{m:function(n,e){return n+e},z:0},p:function(n,e){return v(e,["name"])===r&&i(e)?v(e,u):0},r:function(n,e){return t(e)},d:{l:function(n){return v(t=n,["name"])===r&&i(t)?(e=v(n,u))<0?["p2",null,-e]:["p2",e]:null;var e,t},i:function(n){return n?Array.isArray(n)?((e=n.slice(1))[0]||0)-(e[1]||0):n:0;var e}}}},t:o,tb:function(e,t){return function(n){return h(e,t)(y(n))}},te:function(e){return function(n){return y(n)===e}},te_:function(e,t){return function(n){return q(e,n)===t}},tg:function(e){return function(n){return y(n)>e}},tg_:function(e,t){return function(n){return q(e,n)>t}},tge:function(e){return function(n){return y(n)>=e}},tge_:function(e,t){return function(n){return q(e,n)>=t}},ti:s=function(n){return new Date(n).getTime()},tl:function(e){return function(n){return y(n)<e}},tl_:function(e,t){return function(n){return q(e,n)<t}},tle:function(e){return function(n){return y(n)<e}},tle_:function(e,t){return function(n){return q(e,n)<t}},tn:function(e){return function(n){return y(n)!==e}},tn_:function(e,t){return function(n){return q(e,n)!==t}},tw:function(c,i,n){function u(n){return Math.floor(n/t)}function o(n,e,t){var r;return[u(n-i),((r={})[u(e)]=t,r)]}function r(r,i){var e=Math.max(r[0],i[0]),n=Object.keys(r[1]).filter(function(n){return e<=n}).concat(Object.keys(i[1]).filter(function(n){return e<=n})).filter(function(n,e,t){return t.indexOf(n)===e}).reduce(function(n,e){var t=c.a.m(r[1][e]||c.a.z,i[1][e]||c.a.z);return t!==c.a.z&&(n[e]=t),n},{});return[e,n]}function a(i){function n(n){return n.map(function(n){var e=d(n,3),t=e[0],r=(e[1],e[2]);return o(i.t,r,t)}).reduce(r,f)}return r(n(i.in),n(i.out))}var e=n||100,t=Math.ceil(i/e),f=[Number.NEGATIVE_INFINITY,{}],l=function(n){if(void 0!==n.result)return l(n.result);if(void 0!==n.w)return l(a(n));var e=d(n,2),t=(e[0],e[1]),r=null,i={};for(var u in t){var o=c.d.m({result:t[u]});o&&Array.isArray(o)&&(r=o[0],i[u]=p(o.slice(1)))}return r&&[r,"w",n[0],i]};return{a:{m:function(n,e){var t=n.w?a(n):n;return r(t,e)},z:f},p:function(n,e){return o(n.getCurrentTime(),v(e,["time"],s),c.p(n,e))},r:function(n,e){var t=(e.w?a(e):e)[1];return c.r(n,Object.keys(t).reduce(function(n,e){return c.a.m(n,t[e])},c.a.z))},d:c.d.tw||{l:function(n,e){var t=c.d.l(n,e);return t&&m([t[0],"w"],o(e.getCurrentTime(),v(n,["time"],s),t.slice(1)))},i:function(n,t){var r=Array.isArray(n)?n:[];return[r[2]||null,Object.keys(r[3]||{}).map(function(n){var e;return(e={})[n]=c.d.i(r[3][n],t),e}).reduce(function(e,t){return Object.keys(t).forEach(function(n){return e[n]=t[n]}),e},{})]},m:c.d.m&&l}}},vgw:function(t,r,i,u){void 0===u&&(u=c);var o={v:0,k:0};return{a:{m:function(n,e){var t=n.k+e.k;return{v:t?n.v+e.k*(e.v-n.v)/t:0,k:t}},z:o},p:function(n,e){return v(e,["name"])===t&&r(e)?{v:v(e,i),k:1}:o},r:function(n,e){return u(e.v)},d:{l:function(n){return v(n,["name"])===t&&r(n)?0==(e=v(n,i))?["p3",1]:e<0?["p3",1,null,-e]:["p3",1,e]:null;var e},i:function(n){return n?Array.isArray(n)?{v:(((e=n.slice(1))[1]||0)-(e[2]||0))/(e[0]||1),k:e[0]||0}:void 0:o;var e}}}},vq:e});function p(n){switch(n.length){case 0:return null;case 1:return n[0];default:return n}}function v(n,e,t){void 0===t&&(t=c);var r=e.reduce(function(n,e){return n&&null!=n[e]?n[e]:null},n);return null===r?null:t(r)}function f(n,e){var t=e.slice();return t.unshift(n),t}function i(n,e,t){return void 0===t&&(t=c),v(n,f("properties",e),t)}function g(n){for(var e=Object.keys(n),t=e.length,r=new Array(t);t--;)r[t]=[e[t],n[e[t]]];return r}function o(n){return!0}function u(e,t){return function(n){return e(n)&&t(n)}}function l(e,t){return function(n){return e(n)||t(n)}}function w(e){return function(n){return!e(n)}}function h(e,t){return function(n){return e<=n&&n<=t}}function y(n){return v(n,["time"],s)}function q(n,e){return v(e,n,s)}function b(t,r,i,u,o,c){return function(n){var e=v(n,t,function(n){return n.filter(u).map(function(n){return v(n,r)}).reduce(o,c)});return i(null===e?c:e)}}function P(e){return function(n){return null!=n&&"object"==typeof n&&0<=n.indexOf(e)}}function k(n,e,t,r,i){var u=v(n.getSegments(),[e,t])||!1;return i&&(r||u)&&n.setSegmentActivation(e,t,i),u}function _(n,e,t){return v(n.getSegments(),[e,t])||!1}function x(p,g,w){return void 0===w&&(w=18e5),function(s){return{a:{m:function(n,e){return[e[0],s.a.m(null!=n[0]&&n[0][0]===e[0][0]?n[1]:s.a.z,e[1])]},z:[[],s.a.z]},p:function(n,e){return[[p(n)],v(e,g)===p(n)?s.p(n,e):s.a.z]},r:function(n,e){return s.r(n,e[0]!=[]&&e[0][0]===p(n)?e[1]:s.a.z)},d:s.d.sq||{l:function(n,e){var t=v(n,g),r=p(e);if(t!==r)return null;var i=s.d.l(n,e);if(!(Array.isArray(i)&&1<i.length))return null;var u=d(i),o=u[0],c=u.slice(1),a=+(y(n)||e.getCurrentTime()),f=Math.floor(a/w),l={};return l[f]={},l[f][r]=1===c.length?c[0]:c,[o,"u",null,l]},i:function(t,n){if(!Array.isArray(t)||"object"!=typeof t[3])return[[],s.a.z];var r=p(n),i=t[3];return[[r],Object.keys(i).flatMap(function(n){var e=i[n][r];return e?[s.d.i(Array.isArray(e)?m([t[0]],e):[t[0],e])]:[]}).reduce(s.a.m,s.a.z)]}}}}}function I(u,t,o,c){return void 0===c&&(c=1),{a:{m:function(n,e){return n.concat(e).slice(-o)},z:[]},p:function(n,e){return v(e,["name"])===t?[u.p(n,e)]:[]},r:function(n,e){return u.r(n,e.reduce(function(n,e){return u.a.m(n,e)},u.a.z))},d:u.d.ftn||{l:function(n,e){var t,r=u.d.l(n,e),i=v(n,["time"],s)*c;return r&&[r[0],"x"+o,null,((t={})[i]=2==r.length?r[1]:r.slice(1),t)]},i:function(e,t){return e?Object.keys(e[3]||{}).sort().reverse().map(function(n){return Array.isArray(n)?m([e[0]],e[3][n]):[e[0],e[3][n]]}).map(function(n){return u.d.i(n,t)}):[]}}}}function z(n,e){return null===n?null==e?null:{b:e}:null==e?{a:n}:{a:n,b:e}}function M(n,e){return n&&e?n(e):null}function j(n,e,t){return t&&t.result&&Array.isArray(t.result)?z(M(n.d&&n.d.m,{result:t.result[0]}),M(e.d&&e.d.m,{result:t.result[1]})):null}return{10104:t.q(t.ocq(t.ocq(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["your-life/parenting/","your-life/education/"])]),t.ge(1)),t.cw("Pageview",t.pe(["client","domain"],"www.longevitylive.com"),t.ge(1))),t.tw(t.cw("Pageview",t.ps(["client","url"],"baby-and-kids"),t.ge(1)),2592e6))),10227:t.q(t.tw(t.cw("Pageview",t.ps(["client","url"],"/office-and-business/businesses-for-sale"),t.ge(1)),24192e5)),10283:t.q(t.tw(t.cw("Pageview",t.a([t.pe(["client","domain"],"www.automart.co.za"),t.ps(["client","url"],"fiat")]),t.ge(1)),6048e5)),10284:t.q(t.cw("Pageview",t.ps(["client","url"],"rugby365"),t.ge(1))),10285:t.q(t.cw("Pageview",t.ps(["client","url"],"rugbyonslaught"),t.ge(1))),10286:t.q(t.cw("Pageview",t.ps(["client","url"],"rugbypass"),t.ge(1))),10287:t.q(t.cw("Pageview",t.ps(["client","url"],"rugbydump"),t.ge(1))),10390:t.q(t.cw("Pageview",t.ps(["client","url"],"bikehub"),t.ge(1))),10391:t.q(t.cw("Pageview",t.ps(["client","url"],"trailhub"),t.ge(1))),10422:t.q(t.cw("Pageview",t.pe(["client","domain"],"www.bikehub.co.za"),t.ge(1))),10423:t.q(t.ocq(t.cw("Pageview",t.ps(["client","domain"],"techcabal"),t.ge(1)),t.cw("Pageview",t.o([t.os(t.s,["client","url"],["/mobile-devices","/computers-and-gaming","/audio-visual-equipment-and-electronics/cameras-and-optics"])]),t.ge(1)))),10563:t.q(t.cw("Pageview",t.o([t.os(t.e,["client","domain"],["www.cosmopolitan.co.za","www.longevitylive.com","www.marieclaire.co.za"])]),t.ge(1))),10612:t.q(t.cw("Pageview",t.ps(["client","url"],"biznews"),t.ge(1))),10754:t.q(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["audio-visual-equipment-and-electronics","mobile-devices","computers-and-gaming"])]),t.ge(1))),11228:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Eastern Cape"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Mid-High Income."),t.ge(1)))),11229:t.q(t.cw("Pageview",t.pe(["geo_info","province"],"Eastern Cape"),t.ge(1))),11972:t.q(t.tw(t.cw("SlotClicked",t.t,t.ge(3)),24192e5)),12477:t.q(t.cw("Pageview",t.a([t.pe(["client","domain"],"www.jobmail.co.za"),t.o([t.os(t.s,["client","title"],["senior","manager","executive","director"])])]),t.ge(1))),12739:t.q(t.ocq(t.ocq(t.cw("Pageview",t.ps(["client","title"],"How To"),t.ge(1)),t.cw("Pageview",t.a([t.ps(["client","url"],"diy"),t.ps(["client","domain"],"junkmail")]),t.ge(1))),t.cw("Pageview",t.o([t.os(t.e,["og","article","section"],["Your Home","Tips"])]),t.ge(1)))),12740:t.q(t.cw("Pageview",t.o([t.os(t.s,["og","article","section"],["Beauty & Style","Celebs & News","Celebrity News","Culture","Style"])]),t.ge(1))),12741:t.q(t.ocq(t.cw("Pageview",t.ps(["client","url"],"safety"),t.ge(1)),t.cw("Pageview",t.o([t.os(t.e,["og","article","section"],["Eat Better","Anti-Aging","Healthy Eating","Management"])]),t.ge(1)))),12742:t.q(t.ocq(t.cw("SegmentEntry",t.o([t.os(t.s,["client","title"],["optimize","lifehack"])]),t.ge(1)),t.cw("Pageview",t.o([t.os(t.e,["og","article","section"],["Opinion","Editorial","Politics"])]),t.ge(1)))),12743:t.q(t.ocq(t.cw("Pageview",t.ps(["client","url"],"/events/"),t.ge(1)),t.cw("Pageview",t.o([t.os(t.e,["client","domain"],["www.bikehub.co.za","www.trailhub.co.za"])]),t.ge(1)))),12750:t.q(t.ocq(t.ocq(t.cw("SegmentEntry",t.pe(["segment_name"],"Soccer Laduma"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Tech Enthusiasts"),t.ge(1))),t.cw("Pageview",t.ps(["client","url"],"toyota"),t.ge(1)))),12819:t.q(t.tw(t.cw("Pageview",t.a([t.o([t.os(t.e,["client","domain"],["www.automart.co.za","www.junkmail.co.za"])]),t.ps(["client","url"],"cars")]),t.ge(1)),2592e6)),12820:t.q(t.tw(t.cw("Pageview",t.ps(["client","url"],"toyota"),t.ge(1)),2592e6)),12966:t.q(t.cw("Pageview",t.ps(["client","url"],"futaa"),t.ge(1))),12988:t.q(t.cw("Pageview",t.ps(["client","url"],"bizmag"),t.ge(1))),13043:t.q(t.acq(t.acq(t.cw("Pageview",t.o([t.os(t.s,["client","user_agent"],["android","iphone"])]),t.ge(1)),t.cw("Pageview",t.o([t.os(t.s,["isp_info","organization"],["Cell C","Vodacom","Telkom Mobile"])]),t.ge(1))),t.cw("Pageview",t.pe(["geo_info","country"],"South Africa"),t.ge(1)))),13044:t.q(t.acq(t.acq(t.cw("Pageview",t.o([t.os(t.s,["client","user_agent"],["android","iphone"])]),t.ge(1)),t.cw("Pageview",t.o([t.os(t.s,["isp_info","organization"],["MTN SA MOBILE","MTN SA"])]),t.ge(1))),t.cw("Pageview",t.pe(["geo_info","country"],"South Africa"),t.ge(1)))),13045:t.q(t.cw("Pageview",t.pe(["isp_info","organization"],"Cool-ideas"),t.ge(1))),13046:t.q(t.ocq(t.cw("SegmentEntry",t.pe(["segment_name"],"Auto Intenders - 60 days"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Home Buyers"),t.ge(1)))),13047:t.q(t.ocq(t.cw("Pageview",t.o([t.os(t.e,["og","article","section"],["Business","Business News"])]),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"White Collar Professionals"),t.ge(1)))),13107:t.q(t.ocq(t.ocq(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["/finance-accounting","/legal/","/insurance/","/engineering/","/medical/"])]),t.ge(1)),t.cw("Pageview",t.o([t.os(t.e,["og","article","section"],["Business","Money"])]),t.ge(1))),t.cw("SegmentEntry",t.pe(["segment_name"],"Home Buyers"),t.ge(1)))),13127:t.q(t.cw("Pageview",t.o([t.os(t.e,["og","article","section"],["Money","Business"])]),t.ge(1))),13226:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"ECR"),t.ge(1)),t.cw("Pageview",t.pe(["geo_info","city"],"Durban"),t.ge(1)))),13227:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Jacaranda FM"),t.ge(1)),t.cw("Pageview",t.pe(["geo_info","city"],"Johannesburg"),t.ge(1)))),13231:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Jacaranda FM"),t.ge(1)),t.cw("Pageview",t.pe(["geo_info","city"],"Pretoria"),t.ge(1)))),13238:t.q(t.cw("Pageview",t.o([t.ps(["meta","description"],"olympic"),t.ps(["meta","keywords"],"olympic"),t.ps(["og","article","section"],"olympic"),t.ps(["og","url"],"olympic"),t.ps(["client","domain"],"olympic"),t.ps(["client","referrer"],"olympic"),t.ps(["client","title"],"olympic"),t.ps(["client","url"],"olympic")]),t.ge(1))),13714:t.q(t.acq(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["/gauteng/management/","gauteng/finance-accounting/","gauteng/medical/","gauteng/it-computer","gauteng/engineering"])]),t.ge(1)),t.cw("Pageview",t.ps(["client","domain"],"jobmail"),t.ge(1)))),16498:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["mobile-devices","mobile devices"])]),t.ge(1)),2592e6)),16825:t.q(t.cw("Pageview",t.ps(["client","url"],"cricket"),t.ge(1))),16870:t.q(t.ocq(t.cw("Pageview",t.a([t.ps(["og","title"],"Arsenal"),t.nt(t.ps(["og","title"],"weapons"))]),t.ge(3)),t.cw("Pageview",t.ps(["client","url"],"Arsenal"),t.ge(3)))),20675:t.q(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["Weapons","Guns","Firearms","protection","hunting"])]),t.ge(1))),23511:t.q(t.cw("Pageview",t.ps(["client","url"],"rekord"),t.ge(1))),23563:t.q(t.acq(t.cw("Pageview",t.ps(["client","url"],"rekord"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"travel"),t.ge(1)))),23564:t.q(t.acq(t.cw("Pageview",t.ps(["client","url"],"rekord"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"news-headlines"),t.ge(1)))),23565:t.q(t.acq(t.cw("Pageview",t.ps(["client","url"],"rekord"),t.ge(1)),t.ocq(t.cw("Pageview",t.pe(["client","url"],"https://rekordeast.co.za/online-classifieds/"),t.ge(1)),t.cw("Pageview",t.pe(["client","url"],"https://rekordeast.co.za/place-ad/"),t.ge(1))))),23566:t.q(t.acq(t.cw("Pageview",t.ps(["client","url"],"rekord"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"property"),t.ge(1)))),23568:t.q(t.cw("Pageview",t.pe(["client","url"],"http://biz.rekordeast.co.za/"),t.ge(1))),23569:t.q(t.cw("Pageview",t.pe(["client","url"],"https://www.guzzle.co.za/"),t.ge(1))),23570:t.q(t.acq(t.cw("Pageview",t.ps(["client","url"],"rekord"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"car"),t.ge(1)))),25347:t.q(t.cw("Pageview",t.ps(["client","url"],"dstv.co.za"),t.ge(1))),25348:t.q(t.cw("Pageview",t.ps(["client","url"],"international-tv-shows"),t.ge(1))),25349:t.q(t.cw("Pageview",t.ps(["client","url"],"best-of-local"),t.ge(1))),25350:t.q(t.cw("Pageview",t.ps(["client","url"],"dstv-premium"),t.ge(1))),27742:t.q(t.cw("SegmentEntry",t.pe(["client","url"],"http://www.m-net.dstv.com;"),t.ge(1))),27743:t.q(t.cw("PageviewEngagement",t.pe(["client","url"],"http://supersport.com"),t.ge(1))),27744:t.q(t.cw("SegmentEntry",t.ps(["client","url"],"zambezimagic.dstv"),t.ge(1))),28228:t.q(t.cw("SegmentEntry",t.ps(["client","url"],"health-dep-managers-blamed-for-civitas-downfall"),t.ge(1))),31936:t.q(t.cw("Pageview",t.o([t.os(t.e,["meta","keywords"],["auto","car","drive","Toyota","C-HR","find a car","book a test drive","hatchback"])]),t.ge(1))),7628:t.q(t.cw("Pageview",t.t,t.ge(1))),7688:t.q(t.cw("Pageview",t.ps(["client","url"],"jacarandafm"),t.ge(1))),7702:t.q(t.cw("Pageview",t.ps(["client","url"],"ecr"),t.ge(1))),7703:t.q(t.cw("Pageview",t.ps(["client","url"],"techcabal"),t.ge(1))),7704:t.q(t.cw("Pageview",t.ps(["client","url"],"careersportal"),t.ge(1))),7705:t.q(t.cw("Pageview",t.ps(["client","url"],"skillsportal"),t.ge(1))),7707:t.q(t.cw("Pageview",t.ps(["client","url"],"thejobsportal"),t.ge(1))),7708:t.q(t.cw("Pageview",t.ps(["client","url"],"zikoko"),t.ge(1))),7723:t.q(t.cw("SegmentEntry",t.o([t.ps(["client","referrer"],"lnq.in/permutivetest"),t.ps(["client","url"],"permutivetest")]),t.ge(1))),7771:t.q(t.cw("Pageview",t.ps(["client","url"],"wifire"),t.ge(1))),7788:t.q(t.cw("Pageview",t.ps(["client","url"],"guardian.ng"),t.ge(1))),7798:t.q(t.cw("Pageview",t.ps(["client","url"],"longevity"),t.ge(1))),7799:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["https://www.ecr.co.za/news/","https://www.jacarandafm.com/news/"])]),t.ge(3)),7776e6)),7800:t.q(t.ocq(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["https://www.ecr.co.za/news/entertainment/shashi-naidoo-planning-trip-palestine-after-gaza-comments/","https://www.ecr.co.za/lifestyle/","https://www.ecr.co.za/shows/jane-linley-thomas-show/"])]),t.ge(2)),7776e6),t.cw("Pageview",t.o([t.os(t.s,["client","domain"],["www.cosmopolitan.co.za","www.goeiehuishouding.co.za","www.houseandleisure.co.za","www.goodhousekeeping.co.za","www.longevitylive.com","www.marieclaire.co.za"])]),t.ge(1)))),7801:t.q(t.tw(t.cw("Pageview",t.ps(["client","url"],"news/entertainment"),t.ge(2)),7776e6)),7802:t.q(t.ocq(t.ocq(t.ocq(t.tw(t.cw("Pageview",t.ps(["meta","description"],"sport"),t.ge(3)),7776e6),t.tw(t.cw("Pageview",t.pe(["meta","keywords"],"sport"),t.ge(3)),7776e6)),t.cw("Pageview",t.o([t.os(t.s,["client","title"],["cricket","rugby","soccer"])]),t.ge(3))),t.cw("Pageview",t.o([t.os(t.s,["client","domain"],["www.soccerladuma.co.za","www.bikehub.co.za","www.trailhub.co.za"])]),t.ge(1)))),7804:t.q(t.ocq(t.ocq(t.cw("Pageview",t.ps(["client","url"],"soccer"),t.ge(1)),t.cw("Pageview",t.o([t.os(t.s,["client","title"],["soccer","football","fifa","world cup","premier league","arsenal","man utd","liverpool","chelsea","Kaizer","orlando pirates","man city","messi","ronaldo"])]),t.ge(1))),t.cw("Pageview",t.pe(["client","domain"],"www.soccerladuma.co.za"),t.ge(3)))),7805:t.q(t.cw("Pageview",t.o([t.os(t.e,["client","domain"],["www.ecr.co.za","www.jacarandafm.com"])]),t.ge(3))),7806:t.q(t.ocq(t.cw("Pageview",t.pe(["client","domain"],"www.jacarandafm.com"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"/gauteng"),t.ge(1)))),7807:t.q(t.cw("Pageview",t.o([t.os(t.s,["client","referrer"],["facebook","twitter","snapchat","instagram"])]),t.ge(3))),7858:t.q(t.cw("Pageview",t.ps(["client","url"],"junkmail"),t.ge(1))),7892:t.q(t.cw("Pageview",t.ps(["client","url"],"womenonwheels"),t.ge(1))),7917:t.q(t.cw("Pageview",t.ps(["client","url"],"cosmopolitan"),t.ge(1))),7918:t.q(t.cw("Pageview",t.ps(["client","url"],"marieclaire"),t.ge(1))),7919:t.q(t.cw("Pageview",t.pe(["client","url"],"houseandleisure"),t.ge(1))),7928:t.q(t.cw("Pageview",t.ps(["client","url"],"goodhousekeeping"),t.ge(1))),7929:t.q(t.cw("Pageview",t.ps(["client","url"],"goeiehuishouding"),t.ge(1))),7930:t.q(t.cw("Pageview",t.ps(["client","url"],"maxaxion"),t.ge(1))),7931:t.q(t.cw("Pageview",t.ps(["client","url"],"adjoin"),t.ge(1))),8093:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["junkmail.co.za/cars","automart"])]),t.ge(1)),6048e5)),8094:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["junkmail.co.za/cars","automart"])]),t.ge(1)),12096e5)),8096:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["junkmail.co.za/cars","automart"])]),t.ge(1)),2592e6)),8097:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["junkmail.co.za/cars","automart"])]),t.ge(1)),48384e5)),8098:t.q(t.tw(t.cw("Pageview",t.ps(["client","url"],"cars/vw"),t.ge(1)),12096e5)),8132:t.q(t.cw("Pageview",t.ps(["client","title"],"Travel"),t.ge(1))),8270:t.q(t.cw("Pageview",t.ps(["client","url"],"lifestylesurveys.flashpanel.net"),t.ge(1))),8271:t.q(t.cw("Pageview",t.ps(["client","url"],"flashpanel.net"),t.ge(1))),8286:t.q(t.ocq(t.ocq(t.tw(t.cw("Pageview",t.ps(["meta","description"],"cricket"),t.ge(2)),7776e6),t.tw(t.cw("Pageview",t.pe(["meta","keywords"],"cricket"),t.ge(5)),7776e6)),t.cw("Pageview",t.ps(["client","title"],"cricket"),t.ge(2)))),8287:t.q(t.ocq(t.ocq(t.ocq(t.ocq(t.tw(t.cw("Pageview",t.ps(["meta","description"],"rugby"),t.ge(2)),7776e6),t.tw(t.cw("Pageview",t.pe(["meta","keywords"],"rugby"),t.ge(2)),7776e6)),t.cw("Pageview",t.ps(["client","title"],"rugby"),t.ge(2))),t.cw("Pageview",t.pc(["og","article","tags"],"rugby"),t.ge(2))),t.cw("Pageview",t.ps(["client","title"],"rugby"),t.ge(1)))),8403:t.q(t.acq(t.cw("Pageview",t.ps(["client","user_agent"],"mac"),t.ge(1)),t.cw("Pageview",t.o([t.os(t.e,["client","domain"],["www.cosmopolitan.co.za","www.goodhousekeeping.co.za","www.houseandleisure.co.za","www.longevitylive.com","www.marieclaire.co.za","www.womenonwheels.co.za"])]),t.ge(1)))),8422:t.q(t.acq(t.cw("Pageview",t.ps(["client","user_agent"],"mac"),t.ge(1)),t.cw("SegmentEntry",t.o([t.os(t.e,["segment_name"],["Rugby Fanatics","Soccer Fanatics","Sports Fanatics"])]),t.ge(1)))),8423:t.q(t.ocq(t.cw("Pageview",t.ps(["client","user_agent"],"mac"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"High Income Consumers"),t.ge(1)))),8424:t.q(t.acq(t.cw("SegmentEntry",t.o([t.os(t.e,["segment_name"],["Soccer Fanatics","Sports Fanatics","Rugby Fanatics","Cricket Fanatics"])]),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Female"),t.e(0)))),8425:t.q(t.cw("Pageview",t.ps(["client","url"],"/western-cape"),t.ge(1))),8426:t.q(t.cw("Pageview",t.ps(["client","url"],"gauteng/johannesburg"),t.ge(1))),8427:t.q(t.cw("Pageview",t.ps(["client","url"],"gauteng/pretoria"),t.ge(1))),8428:t.q(t.cw("Pageview",t.ps(["client","url"],"/cape-town"),t.ge(1))),8429:t.q(t.ocq(t.cw("Pageview",t.ps(["client","url"],"/kwazulu-natal"),t.ge(1)),t.cw("Pageview",t.pe(["client","domain"],"www.ecr.co.za"),t.ge(1)))),8430:t.q(t.cw("Pageview",t.ps(["client","url"],"kwazulu-natal/durban"),t.ge(1))),8431:t.q(t.cw("Pageview",t.ps(["client","url"],"/eastern-cape"),t.ge(1))),8432:t.q(t.cw("Pageview",t.ps(["client","url"],"/free-state"),t.ge(1))),8433:t.q(t.cw("Pageview",t.ps(["client","url"],"/limpopo"),t.ge(1))),8435:t.q(t.cw("Pageview",t.ps(["client","url"],"/mpumalanga"),t.ge(1))),8436:t.q(t.cw("Pageview",t.ps(["client","url"],"/northern-cape"),t.ge(1))),8437:t.q(t.cw("Pageview",t.ps(["client","url"],"north-west"),t.ge(1))),8438:t.q(t.cw("Pageview",t.ps(["client","url"],"news/opinion/"),t.ge(1))),8441:t.q(t.ocq(t.cw("Pageview",t.pe(["client","domain"],"www.thejobsportal.co.za"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"/jobs"),t.ge(1)))),8442:t.q(t.cw("Pageview",t.ps(["client","url"],"property/residential-properties"),t.ge(1))),8443:t.q(t.cw("Pageview",t.ps(["client","url"],"/sports/fitness-and-gym-equipment"),t.ge(1))),8444:t.q(t.ocq(t.cw("Pageview",t.pe(["client","domain"],"www.cosmopolitan.co.za"),t.ge(1)),t.cw("Pageview",t.ps(["client","url"],"fashion"),t.ge(1)))),8445:t.q(t.cw("Pageview",t.ps(["client","url"],"music/"),t.ge(1))),8446:t.q(t.cw("Pageview",t.ps(["client","url"],"/win/"),t.ge(1))),8447:t.q(t.cw("Pageview",t.ps(["client","url"],"/events/"),t.ge(1))),8456:t.q(t.cw("Pageview",t.o([t.os(t.s,["client","user_agent"],["Android 4","Android 5","Android 6"])]),t.ge(1))),8457:t.q(t.cw("Pageview",t.ps(["client","url"],"/bikes"),t.ge(1))),8475:t.q(t.cw("Pageview",t.o([t.os(t.e,["client","domain"],["www.houseandleisure.co.za","www.goodhousekeeping.co.za","www.goeiehuishouding.co.za"])]),t.ge(2))),8476:t.q(t.cw("Pageview",t.pe(["client","domain"],"www.jacarandafm.com"),t.ge(1))),8477:t.q(t.cw("Pageview",t.pe(["client","domain"],"www.truckandtrailer.co.za"),t.ge(3))),8478:t.q(t.cw("Pageview",t.ps(["client","url"],"/pets/"),t.ge(2))),8570:t.q(t.cw("Pageview",t.o([t.os(t.e,["client","domain"],["www.jobmail.co.za","www.biznews.com"])]),t.ge(1))),8572:t.q(t.cw("Pageview",t.ps(["client","user_agent"],"OS 11"),t.ge(1))),8573:t.q(t.cw("Pageview",t.ps(["client","user_agent"],"iPhone"),t.ge(1))),8574:t.q(t.cw("Pageview",t.ps(["client","url"],"/finance-accounting"),t.ge(1))),8575:t.q(t.cw("Pageview",t.ps(["client","url"],"/it-computer"),t.ge(1))),8576:t.q(t.cw("Pageview",t.ps(["client","url"],"/sales-marketing"),t.ge(1))),8577:t.q(t.cw("Pageview",t.ps(["client","url"],"/legal"),t.ge(1))),8578:t.q(t.cw("Pageview",t.ps(["client","url"],"/engineering"),t.ge(1))),8579:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Male"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Gauteng"),t.ge(1)))),8580:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Soccer Fanatics"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Low-Mid Income"),t.ge(1)))),8581:t.q(t.cw("Pageview",t.pe(["client","domain"],"www.agrimag.co.za"),t.ge(1))),8582:t.q(t.tw(t.cw("Pageview",t.o([t.os(t.s,["client","url"],["cars/bmw/","cars/audi/","cars/jaguar/","cars/mercedes-benz/"])]),t.ge(1)),12096e5)),8583:t.q(t.cw("Pageview",t.ps(["client","url"],"gardening-outdoors-and-diy"),t.ge(1))),8584:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Mid-High Income."),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Sports Fanatics"),t.ge(1)))),8585:t.q(t.acq(t.cw("SegmentEntry",t.pe(["segment_name"],"Mid-High Income."),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Soccer Fanatics"),t.ge(1)))),8653:t.q(t.cw("Pageview",t.ps(["client","url"],"automart"),t.ge(1))),8690:t.q(t.tw(t.cw("Pageview",t.a([t.as(t.s,["client","url"],["cars/vw","polo"])]),t.ge(1)),12096e5)),8691:t.q(t.tw(t.cw("Pageview",t.a([t.as(t.s,["client","url"],["cars/vw","Jetta"])]),t.ge(1)),12096e5)),8692:t.q(t.tw(t.cw("Pageview",t.a([t.as(t.s,["client","url"],["cars/vw","Tiguan"])]),t.ge(1)),12096e5)),8693:t.q(t.tw(t.cw("Pageview",t.a([t.as(t.s,["client","url"],["cars/vw","Touareg"])]),t.ge(1)),12096e5)),8694:t.q(t.ocq(t.tw(t.cw("Pageview",t.ps(["client","url"],"/cars/sedan/"),t.ge(1)),12096e5),t.cw("Pageview",t.a([t.o([t.os(t.s,["client","url"],["sedan","3-series","c-class","A4","optima","Cruze","jetta","passat","300C","accord","balade","accent","elantra","sonata","almera"])]),t.o([t.os(t.e,["client","domain"],["www.automart.co.za","www.junkmail.co.za"])])]),t.ge(1)))),8695:t.q(t.tw(t.cw("Pageview",t.a([t.o([t.os(t.s,["client","url"],["hatchback","A1","A3","S3","1-series","spark","fiesta","focus","jazz","i20","i10","picanto","rio","mazda-3","corsa","polo","golf","yaris","runx","etios"])]),t.o([t.os(t.e,["client","domain"],["www.automart.co.za","www.junkmail.co.za"])])]),t.ge(1)),12096e5)),8696:t.q(t.tw(t.cw("Pageview",t.a([t.o([t.os(t.s,["client","url"],["suv-x3","suv-x6","suv-x5","x-series","audi-q","ford-ecosport","kuga","ix35","tucson","sportage","sorento","jeep","land-rover","mercedes-benz-glc","benz-ml","qashqai","x-trail","juke","pathfinder","duster","captur","fortuna","rav-4"])]),t.o([t.os(t.e,["client","domain"],["www.automart.co.za","www.junkmail.co.za"])])]),t.ge(1)),12096e5)),8698:t.q(t.tw(t.cw("Pageview",t.a([t.o([t.os(t.e,["client","domain"],["www.automart.co.za","www.junkmail.co.za"])]),t.o([t.os(t.s,["client","url"],["ford-ranger","np300","navara","triton","colt","isuzu-kb","hilux","amarok"])])]),t.ge(1)),12096e5)),8816:t.q(t.ocq(t.cw("Pageview",t.pe(["client","domain"],"www.ecr.co.za"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Kwa-Zula Natal"),t.ge(1)))),8817:t.q(t.ocq(t.cw("Pageview",t.pe(["client","domain"],"www.jacarandafm.com"),t.ge(1)),t.cw("SegmentEntry",t.o([t.os(t.s,["segment_name"],["Gauteng","Pretoria"])]),t.ge(1)))),8818:t.q(t.acq(t.cw("SegmentEntry",t.ps(["segment_name"],"Western Cape"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Low-Mid Income"),t.e(0)))),8831:t.q(t.acq(t.cw("SegmentEntry",t.ps(["segment_name"],"Gauteng"),t.ge(1)),t.cw("SegmentEntry",t.pe(["segment_name"],"Low-Mid Income"),t.e(0)))),8873:t.q(t.cw("Pageview",t.ps(["client","url"],"Soccerladuma"),t.ge(1))),9490:t.q(t.cw("Pageview",t.ps(["client","url"],"agrimag"),t.ge(1))),9666:t.q(t.tw(t.cw("Pageview",t.t,t.ge(1)),2592e6)),9813:t.q(t.cw("Pageview",t.ps(["client","url"],"https://www.jacarandafm.com/news/"),t.ge(2))),9814:t.q(t.cw("Pageview",t.ps(["client","url"],"https://www.jacarandafm.com/news/sport/"),t.ge(1))),9816:t.q(t.cw("Pageview",t.ps(["client","url"],"https://www.jacarandafm.com/lifestyle/food"),t.ge(1))),9817:t.q(t.cw("Pageview",t.ps(["client","url"],"www.ecr.co.za/news/"),t.ge(2))),9818:t.q(t.cw("Pageview",t.ps(["client","url"],"https://www.ecr.co.za/news/sport/"),t.ge(1))),9820:t.q(t.ocq(t.ocq(t.cw("Pageview",t.ps(["client","url"],"https://www.ecr.co.za/lifestyle/food"),t.ge(1)),t.cw("Pageview",t.a([t.ps(["client","title"],"recipe"),t.pe(["client","domain"],"www.ecr.co.za")]),t.ge(1))),t.cw("Pageview",t.ps(["client","title"],"eskort"),t.ge(1)))),9926:t.q(t.itp("eyeota_bombora","14299",!1,"9926")),9927:t.q(t.itp("eyeota_dataxpand","14506",!1,"9927")),9928:t.q(t.itp("eyeota","242",!1,"9928")),9930:t.q(t.ocq(t.ocq(t.ocq(t.ocq(t.ocq(t.itp("eyeota_onaudience","14924",!1,"9930"),t.itp("eyeota_onaudience","14925",!1,"9930")),t.itp("eyeota_onaudience","14926",!1,"9930")),t.itp("eyeota_onaudience","14927",!1,"9930")),t.itp("eyeota_onaudience","14928",!1,"9930")),t.itp("eyeota_onaudience","14929",!1,"9930"))),9931:t.q(t.itp("eyeota_pacificdatapartners","24243",!1,"9931")),9941:t.q(t.cw("Pageview",t.ps(["client","url"],"kickoff"),t.ge(1)))}}()),Kt={getCurrentTime:function(){return null},getCurrentSession:function(){return null},getCurrentView:function(){return null},getSegments:function(){return null},getLookalikeModels:function(){return null},setThirdPartyActivation:function(){return null},setSegmentActivation:function(){return null}};qt()(function(n){switch(n.type){case"bootstrap":return Zt.apply(void 0,v.c([n.stateMap],n.payload));case"updateEnvironment":return Qt.apply(void 0,v.c([n.stateMap],n.payload));case"process":return Xt.apply(void 0,v.c([n.stateMap],n.payload));case"migrate":return $t(n.payload)}});var Zt=function(r,e,t,n,i){Kt={getCurrentTime:function(){return new Date},getCurrentSession:function(){return n.sessionId},getCurrentView:function(){return n.viewId},getSegments:function(){return{"1p":n.segments["1p"]}},getLookalikeModels:function(){return n.lookalikeModels},setThirdPartyActivation:function(n,e){},setSegmentActivation:function(n,e){}};var u=Object.keys(e).map(function(n){return{1:n,2:e[n]}}).filter(function(n){var e=n[1],t=n[2];return!(e in r)||r[e].checksum!==t[0]}).map(function(n){var e=n[1],t=n[2];return{1:parseInt(e),2:t}}).reduce(function(n,e){var t;return v.a({},n,((t={})[e[1]]={checksum:e[2][0],is_segment:-1<e[2][1].indexOf("s"),is_cloud:-1<e[2][1].indexOf("c"),id:e[2][2],state:null,result:Yt[e[1]].interpret(null,Kt),activations:{}},t))},{}),o=i.reduce(function(n,e){return Xt(n,t,e)},u);return v.a({},r,o)},Qt=function(e,n,t,r){void 0===r&&(r=!0);var i=Kt.getSegments();return Kt=v.a({},Kt,t.sessionId?{getCurrentSession:function(){return t.sessionId}}:{},t.segments?{getSegments:function(){return Object(Ht.c)(i,t.segments)}}:{},t.lookalikeModels?{getLookalikeModels:function(){return t.lookalikeModels}}:{},{setSegmentActivation:function(u,o,n){return zn(e[n].activations,function(n){return Object(Ht.d)(u in n,n)},function(n){var t,e=v.b(n,2),r=e[0],i=e[1];return i[u]=r?(t=Fe(Ye),function(e,n){return je(e,n.filter(function(n){return!t(n,e)}))}(i[u],[o])):[o]})}}),r?Xt(e,n,{}):e},Xt=function(n,c,a){var e,t=(e=n,Object.keys(e).map(function(n){return Object(Ht.d)(parseInt(n,10),e[n])}).filter(function(n){var e=v.b(n,2);return e[0],!0===e[1].result.result}).map(function(n){return n[0]})),r=t.reduce(function(n,e){var t;return v.a({},n,((t={})[e]=!0,t))},{});return zn(n,function(n){return Qt(n,c,{segments:{"1p":r}},!1)},function(n){return Object(Ht.b)(n,function(n,e){var t=Yt[n],r=t.lift(a,Kt),i=Bt(Tn(Fn)(pt(e.state)),Tn(Fn)(pt(r))),u=Bt(i,zn(Sn(function(){return pt(c[n])},function(){return[]}),Rn,Tn(function(n){return Fn()}))),o=t.interpret(st(u),Kt);return ie(v.a({},e,{state:st(i),result:o}))})})},$t=function(i){return Object.keys(i).reduce(function(n,e){var t,r=Yt[e];return v.a({},n,((t={})[e]=r.migrate(i[e].state),t))},{})}}]);',n.p+"7e1a3eb2ea502c97f450.worker.js")}},function(t,e,n){"use strict";(function(n){var r=0;function o(e,t){var n=t.data;if(Array.isArray(n)&&!(n.length<2)){var r=n[0],i=n[1],a=n[2],o=e._callbacks[r];o&&(delete e._callbacks[r],o(i,a))}}function e(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",function(e){o(t,e)})}e.prototype.postMessage=function(e){var t=this,i=r++,a=[i,e];return new n(function(n,r){if(t._callbacks[i]=function(e,t){if(e)return r(new Error(e.message));n(t)},void 0!==t._worker.controller){var e=new MessageChannel;e.port1.onmessage=function(e){o(t,e)},t._worker.controller.postMessage(a,[e.port2])}else t._worker.postMessage(a)})},t.exports=e}).call(this,n(11).Promise)},function(e,t,n){"use strict";var a=n(3),o=(r.prototype.reactEveryTime=function(){return"EveryTime"===this.triggerType},r.prototype.reactOnEntry=function(){return"OnEntry"===this.triggerType},r.prototype.reactOnExit=function(){return"OnExit"===this.triggerType},r.prototype.trackImpression=function(e){var t={reaction_id:this.id,variant_id:this.variantId,type:"impression"};this.permutive.track("Reaction",t,e),this._internals.log("impression: ",t)},r.prototype.trackConversion=function(e){var t={reaction_id:this.id,variant_id:this.variantId,type:"conversion"};this.permutive.track("Reaction",t,e),this._internals.log("conversion: ",t)},r);function r(e,t,n,r,i,a,o,c,u){this.permutive=e,this._internals=t,this.id=n,this.segmentCode=r,this.segmentName=i,this.reactionType=a,this.triggerType=o,this.variantId=c,this.config=u}var c=(i.prototype.load=function(){for(var e=0;e<this.reactionsConfig.length;e++){var t=this.reactionsConfig[e];this.reactions[t.reaction_type]?this.reactions[t.reaction_type].push(t):this.reactions[t.reaction_type]=[t]}},i.prototype.evaluateContextCriteria=function(e){for(var t,n,r=this,i=0;i<e.criteria.length;i++){var a=e.criteria[i],o=(t=a,(n=void 0)!==(n=r.permutive.context[t.key])&&("EQUALS"===t.comparison?n===t.value:"NOT_EQUALS"===t.comparison?n!==t.value:"CONTAINS"===t.comparison?0<=n.indexOf(t.value):"NOT_CONTAINS"===t.comparison&&n.indexOf(t.value)<0));if("AND"===e.operator&&!o)return!1;if("OR"===e.operator&&o)return!0}return"AND"===e.operator},i.prototype.selectVariant=function(e,t){if(1===t.length)return t[0];var n=this.state.userId+e,r=Math.abs(Object(a.f)(n))%12e4;t.sort(function(e,t){return e.start_bucket-t.start_bucket});var i=Object(a.d)(t,function(e){return r<e.start_bucket});return t[0<=i?i-1:t.length-1]},i.prototype.getSpecializedReactions=function(e){return this.specializedReactionsConfig[e]},i.prototype.getReactions=function(e){var t=[];if(this.reactions[e])for(var n=0;n<this.reactions[e].length;n++){var r=this.reactions[e][n],i=this.selectVariant(r.id,r.variants);if(i){var a=i.context_criteria;a&&!this.evaluateContextCriteria(a)||t.push(new o(this.permutive,this._internals,r.id,i.segment_code,"",r.reaction_type,r.trigger_type,i.id,i.config))}}return t},i);function i(e,t,n){this.state=e,this._internals=t,this.permutive=n,this.reactionsConfig=[{id:"7cf549a8-5aa5-42ff-adcf-097e13c56128",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2e96e100-da7d-4236-8173-73b36d25762c",start_bucket:0,segment_code:8477}]},{id:"bb35d88c-777f-401d-af90-c03b311a5cd4",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"7deb96af-c0fe-4399-a2ef-c10ad3fd6e27",start_bucket:0,segment_code:8694}]},{id:"76471e2c-b31c-4e39-8a60-0d9d76f4999e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"db2cf37e-100f-4278-a1e7-6646851787ed",start_bucket:0,segment_code:8873}]},{id:"a7091958-8ca3-4f0d-905e-703d640d8688",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"3aac8adf-4976-477e-b54e-0164b7e2e4c2",start_bucket:0,segment_code:8446}]},{id:"bc103e37-c0cf-4237-8cb8-e4757146d1f1",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"63d54b93-1698-4b74-8262-915fe3a83e2e",start_bucket:0,segment_code:8438}]},{id:"5c25e4d2-b752-4d9b-a7d4-3185cd81805e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"bc93ff63-9b85-4dee-823a-a347e1b39107",start_bucket:0,segment_code:8695}]},{id:"417e1001-e786-411a-a41a-7c0c2a6e989a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"767f6784-b57d-4d5e-b62c-88e04987d2f9",start_bucket:0,segment_code:8581}]},{id:"b8c64bfa-0e87-49c0-afe5-58dabcaa52e9",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"5c650f56-af38-4171-a938-7f6965bf2f90",start_bucket:0,segment_code:12477}]},{id:"244bbd71-b8a7-4ec9-b029-240458ef1bb7",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a64cff1f-bde8-4ae4-b434-4526ca84966a",start_bucket:0,segment_code:8818}]},{id:"b26b2027-bdb0-487d-8c66-dfde6d0bc22e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a95d9e98-44ad-4c5a-b01a-62afc61daf04",start_bucket:0,segment_code:8093}]},{id:"c2b39304-6e65-4546-8157-c1fe67a161fa",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2541f7e4-62c6-45b7-97e4-7b01cf287157",start_bucket:0,segment_code:8457}]},{id:"63a5cc10-2168-4c03-b276-b668bdeb1a3e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9e73456a-d2b4-4bea-85c8-b19d9d4051ad",start_bucket:0,segment_code:8444}]},{id:"6394268a-ec28-4ea7-b1e4-865dd7ab8c40",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"0a5cc3fe-2fc3-4025-9454-9f52ce7ca22f",start_bucket:0,segment_code:10563}]},{id:"a39673a4-a35c-4397-985d-b914e8d113a9",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"800dcaac-c533-4edb-85a7-35588afc019f",start_bucket:0,segment_code:10390}]},{id:"eb4ecf6e-ea31-45fe-9bc2-545bcc309068",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"c88ef2d1-45ce-4b98-9f32-37f75e1d68c3",start_bucket:0,segment_code:12750}]},{id:"326eb5b6-6c89-4734-8e0c-dbbb85ff0289",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"245794c6-1f8c-47af-9d67-e147ed17c36f",start_bucket:0,segment_code:23569}]},{id:"564543db-4419-4463-95df-5655074856d0",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"03ea970b-f06b-45d2-8e2f-614988153add",start_bucket:0,segment_code:13231}]},{id:"3f76202d-405a-4b12-8e56-ced29ca41231",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"607baa81-8053-4756-b62e-fe61e1a30463",start_bucket:0,segment_code:23570}]},{id:"d6ba8a08-7452-4f6b-85ee-7c00d4ba0418",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"bff0fefb-c93e-46f3-aa92-9960f00498f0",start_bucket:0,segment_code:8427}]},{id:"cf44b3bc-eeda-41c2-a362-99a925ebfeb8",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"262a87a4-2458-4841-b4e5-025262824e14",start_bucket:0,segment_code:8425}]},{id:"7928ac56-3fdb-40cb-91f9-a7dd57255b29",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=569374"},id:"e4c8bdfc-6b35-42e1-96df-d83b227f164e",start_bucket:0,segment_code:8444}]},{id:"6dce4948-752b-4130-881e-011a8ec7f6bb",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"499398f4-1caa-45b5-84e2-b69f5ac18898",start_bucket:0,segment_code:7802}]},{id:"a7b1fc8d-624f-4e3b-b514-83af41b11526",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"719ffaad-7434-4bb9-97c9-e3ff3e89f7d9",start_bucket:0,segment_code:12741}]},{id:"0c1c7408-5f03-4702-b3da-a6fb3d5de02e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"cfc49c9c-9bf8-4045-a261-e8f753ad0ede",start_bucket:0,segment_code:23565}]},{id:"604de5a1-2473-4367-864e-663a6ed8bb87",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"0e284070-ad2d-42b7-92fb-54918af7c8cc",start_bucket:0,segment_code:7918}]},{id:"9466a486-1aca-4c4d-acf0-3b04598b4d93",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"eb48dad1-7687-4808-8f39-41fefcb327b7",start_bucket:0,segment_code:7807}]},{id:"915ed669-e00f-4eec-933e-817b8c636429",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"dd1f3dd3-0a51-444a-a3e0-d0a324bec580",start_bucket:0,segment_code:27744}]},{id:"894356ff-4406-45a2-b3d0-954312c9e838",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"c84b2882-5eec-44a8-a872-4d1e0b962d30",start_bucket:0,segment_code:12742}]},{id:"0713063f-6da2-4d69-a3b7-7cfee6e01cec",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"8d19c893-f83a-4559-b367-7bc7bdeab806",start_bucket:0,segment_code:8428}]},{id:"454a9c46-5633-421a-8a9d-b794171d4b63",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"cdc9beec-6df6-4c6b-9d2d-b2c07c567d1d",start_bucket:0,segment_code:7707}]},{id:"8fdc6674-fa8e-4398-b9d7-2d9a8aa1cc93",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"575c1e29-e215-49a1-babe-2d4796d0ef39",start_bucket:0,segment_code:8441}]},{id:"6ddd6517-91e5-44a5-b03e-05bd7917b52a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d4725445-da95-40a7-9277-59898230c460",start_bucket:0,segment_code:12966}]},{id:"4bec0562-9072-491a-80e2-755811133c6f",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"6932bf6d-045c-42b4-9905-790a562def53",start_bucket:0,segment_code:8422}]},{id:"a07932ce-0218-4c9a-a2eb-352ba5c63afc",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"b72f8930-a8ff-4fc7-bc06-ad3a90c83a7d",start_bucket:0,segment_code:8570}]},{id:"7f8a5fb9-a2f3-49b7-b361-ffebbaeb0e93",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2672e9ee-79d2-4d58-a277-38bcd0dbe58d",start_bucket:0,segment_code:10612}]},{id:"3ac87114-6a65-4b11-b449-98a5e196d8a4",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e2928a94-7bde-4d6e-a9e5-2e8c86f7177d",start_bucket:0,segment_code:7703}]},{id:"f7f74942-bfa3-4706-a062-eef75072ab93",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"5755b2d9-5076-4d46-af22-6eaf1f375e5b",start_bucket:0,segment_code:8431}]},{id:"3b75ebd4-c9cc-4887-9e83-4a21f3fdfb3f",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"dc10687d-d040-4a23-94fe-effd4e7af60d",start_bucket:0,segment_code:13047}]},{id:"87836261-ed6f-4273-8e7a-cbf26329f970",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"20b7f5c1-93f0-466c-8f18-96c1f8d10281",start_bucket:0,segment_code:7723}]},{id:"e45de451-9ae2-4c3b-8d7e-e6d1c1e3fb1d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d0cd7ced-ee20-4f70-841a-33caf6a7bafd",start_bucket:0,segment_code:9813}]},{id:"9eab400c-79fc-4dd5-b683-83ed6c4f20e8",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=573620"},id:"fe9d259a-23cb-49cd-aa31-ad37538b2fcd",start_bucket:0,segment_code:8570}]},{id:"e3a2cde4-7fed-4017-b158-04e3b51e80bd",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"8cfdfffe-8220-4e47-9fac-b32db3b11221",start_bucket:0,segment_code:8573}]},{id:"3d1f7deb-b633-43ad-9fc5-72a846c97a98",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"520924fe-58bc-4b4d-8458-44ba4c64da2a",start_bucket:0,segment_code:25348}]},{id:"fe6c6561-7356-4e08-9193-87ab795644c0",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"76296bed-2628-4700-ace6-1acc2f0e78aa",start_bucket:0,segment_code:9816}]},{id:"f871d629-bef2-4626-9bdc-ed6c4f1eba39",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9c63918a-00c8-4042-a5d5-398ee4dbead2",start_bucket:0,segment_code:12819}]},{id:"61d89aae-523e-4081-94cd-c0be14b63c6d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"c3375842-d4fe-4037-a79a-916ee516ccea",start_bucket:0,segment_code:12743}]},{id:"3a158325-41e5-4363-a954-9c1ad2599736",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"82524f52-ddbf-4bc1-aeb0-26cfe3b84740",start_bucket:0,segment_code:8577}]},{id:"b8134916-21e5-4baa-ab4f-4406233d907a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"bd67418b-c7a4-4fdc-9657-cecd18e32299",start_bucket:0,segment_code:8423}]},{id:"7b187683-306b-401f-942a-fd7df38e7523",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"4e182ece-079d-418e-beac-e4935c4ac1cf",start_bucket:0,segment_code:9814}]},{id:"50333514-b6f2-4f0c-91bb-d25f040efc07",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d9d8e38f-2e59-424e-b2fd-638a47e6bdea",start_bucket:0,segment_code:8476}]},{id:"55749dd3-723c-465c-8403-739c4b909696",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"52104678-fb8a-4294-85f7-b8fe8e4dc117",start_bucket:0,segment_code:20675}]},{id:"f2bc37c4-b225-4c72-bd30-a8fc13a91585",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9d43158b-f7e7-4d0e-9c5e-dcdccb03534b",start_bucket:0,segment_code:8287}]},{id:"a4c47cf2-1923-4f8f-b957-f41edd3809c5",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"32111fa0-71a3-4e37-81e2-05b70c68e1cb",start_bucket:0,segment_code:8096}]},{id:"19d46c67-714b-412f-b79e-78f50166ec60",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a4c01192-75f7-4afa-a655-184556d1cb96",start_bucket:0,segment_code:7919}]},{id:"ba435730-5223-4aa3-8710-e2b3f40862d4",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"582be88c-2faa-4418-b6a3-cdc340d82764",start_bucket:0,segment_code:8580}]},{id:"061c7606-cb73-4b8d-ba80-075619153b5d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d01edf85-64a1-444f-b185-53a30c4c1994",start_bucket:0,segment_code:25349}]},{id:"0ecc5183-f11b-4c14-8372-5ce66c44f86d",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=569370"},id:"b85adbc3-0bc1-46e1-b669-e1eb4b9a7e03",start_bucket:0,segment_code:7800}]},{id:"1ae10041-aa23-4c2f-93b2-9c58bca3fbb1",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"51039e40-0a1d-4ab7-913e-a5e44e3abead",start_bucket:0,segment_code:10287}]},{id:"a9e3ae49-e2a1-4ffa-adc5-45af546208f3",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=573622"},id:"26f84c33-6037-4443-bd1e-3aa641364c2e",start_bucket:0,segment_code:10612}]},{id:"923ac964-b72d-41fc-beea-311237d1df21",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"c362cc90-6e1a-45ee-94ba-5b7bed6081f6",start_bucket:0,segment_code:7931}]},{id:"e2deaf87-fc19-48bb-a97c-b108192dae83",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"7aefc00a-7871-43bd-bd2d-aa7f5f9817f6",start_bucket:0,segment_code:7892}]},{id:"5b584953-5145-4abb-895f-90c2696aa417",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"b99ac4d3-8179-4f03-915d-d27fd279933f",start_bucket:0,segment_code:13227}]},{id:"da3498bd-287c-4715-8a65-16c8aa2d8640",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"77b9f194-c72c-4e65-b516-2b4ad67e1f12",start_bucket:0,segment_code:8435}]},{id:"aa7b343e-2155-4218-967d-3ba25ddd8fb3",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"8325d069-0d50-4b41-9225-5291e8d00687",start_bucket:0,segment_code:9490}]},{id:"c4dec402-a81e-4c82-a00a-78903e081512",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e8f6a3e4-ae6b-4577-aa96-c47d88cc043f",start_bucket:0,segment_code:28228}]},{id:"dc65e3b1-88c2-42c7-915d-2e1c10e6e5d2",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"26c00836-5f29-4d4e-8448-9f5186df4864",start_bucket:0,segment_code:13045}]},{id:"9c0a4826-c23f-4181-95f8-afae8f24d8ed",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"272e1a92-8cb3-44cd-84a1-1e9421ad49ab",start_bucket:0,segment_code:8579}]},{id:"00e12f4f-0dcb-407e-b442-96baa75411f5",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"1f85a36f-e9ab-492d-95d5-e79d54980c31",start_bucket:0,segment_code:8429}]},{id:"aa429d11-d899-48e4-9538-714fa5bdb424",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"4ff5d929-5b64-4075-b3f0-c16f6b7c0d23",start_bucket:0,segment_code:12988}]},{id:"9d317e50-f26a-4a58-b8f1-de7202c53b9b",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a770cdf0-8a88-4a83-b307-ef28a74d3ea7",start_bucket:0,segment_code:8693}]},{id:"cb0a30a9-7d21-4b64-9509-d9ab35b96832",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d55cc35f-0bf3-4dad-9681-ddf55e865ad9",start_bucket:0,segment_code:8097}]},{id:"01d207ca-c9d1-4c25-a2cd-9893c039d3f4",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e07c9a13-dec1-478e-8010-b5b6b0623124",start_bucket:0,segment_code:8698}]},{id:"3d26f627-fdee-4f9d-a9f4-822530f61a68",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2bf87a82-0bb9-4790-b8a5-6db5a47be84b",start_bucket:0,segment_code:23568}]},{id:"b42514b4-9f9f-4848-ae9e-838d39becf66",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"169072c6-031a-436a-8a1b-5c0e483ab9c0",start_bucket:0,segment_code:12739}]},{id:"d15e4df4-c67b-4ee9-8fdc-20849b0dd7af",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"476b90b9-d8ff-468c-bac3-237315d0cc3a",start_bucket:0,segment_code:11228}]},{id:"85a4fe0d-d1be-4e5b-a319-954e4bd5b2da",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"08178949-5eeb-4370-bb6b-4ffae88d5f1c",start_bucket:0,segment_code:12820}]},{id:"092079db-989e-46f7-9a9d-09b0cf7ec041",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e7bef1d3-aeeb-4240-b4cf-169f62247a0b",start_bucket:0,segment_code:23564}]},{id:"4e1d2d86-da44-4047-9cdb-913814846f6a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"79785944-9eac-4f2c-9521-f44527e3608a",start_bucket:0,segment_code:13044}]},{id:"1c96f576-4c74-4f44-a282-397527f620b2",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"7c4ba7f8-1d1c-40db-a172-c717613a54f6",start_bucket:0,segment_code:8433}]},{id:"2fa89dc1-ead9-474c-8872-b9b5089ed06a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e2d1c163-4129-4caa-98de-efb64db912a0",start_bucket:0,segment_code:8426}]},{id:"72bca36d-993c-4914-b733-83169de7bf43",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9483d445-7b7f-41cf-bbd5-dc92d934645f",start_bucket:0,segment_code:7800}]},{id:"13e329ee-f871-4858-813b-accadd7c565b",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"6b4bbfe1-7479-44ca-9168-4cce90e43829",start_bucket:0,segment_code:11972}]},{id:"3591ea43-5924-4368-a173-5bc5b7524f5e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e6fd1b87-f18e-454b-9b6e-1f3a60ab5dc6",start_bucket:0,segment_code:8132}]},{id:"b80092f1-1f6e-47be-9c2b-e524423f54b9",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e37ab8da-2e3b-418f-858c-05d1b71b6e85",start_bucket:0,segment_code:10286}]},{id:"f4bc15fc-a16d-42b7-a0ed-9cefce703fab",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2a266206-4c14-4444-b5d8-2fe1c573dbfb",start_bucket:0,segment_code:8443}]},{id:"8bc1e3f1-b792-4c20-a148-4cd4599aab77",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"8bbf0cff-a08d-4067-8aa0-2deee06e1d9c",start_bucket:0,segment_code:9817}]},{id:"3a20fbf9-9785-4ab5-b60f-3f15f26c6f5d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e6939558-5f2d-4753-ac6a-dc934e098852",start_bucket:0,segment_code:9818}]},{id:"d5bc7354-d4b2-480e-b879-bf223bef1c17",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"3d595713-11b1-4aa1-aae7-36869f1e78f2",start_bucket:0,segment_code:8094}]},{id:"a86bc6fa-1ad1-4794-b811-7623d0f5b63c",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"817f9b69-97ff-4444-81aa-89d14b9d8a82",start_bucket:0,segment_code:7704}]},{id:"52a2619e-11b9-4920-b7ee-80c3095cae01",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"10dee92a-29f0-4ff8-96b5-98c5c007a044",start_bucket:0,segment_code:8098}]},{id:"3e33324f-c1b9-4842-b44f-6d7cdd4f115f",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"bb868a0e-9836-4804-bdf6-bd540fcc8eeb",start_bucket:0,segment_code:13226}]},{id:"835418b5-00e1-4e14-982e-044ecde68147",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"60c994ef-d8e1-4791-bf50-25c96474ce9e",start_bucket:0,segment_code:7804}]},{id:"84b195d4-3981-4c97-9079-8f1820cb7f0e",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=573618"},id:"7f0d31e7-09a6-4147-9123-983bc944239e",start_bucket:0,segment_code:13714}]},{id:"ba067168-1ce0-469c-93df-d54886b8b67d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a8d57463-6f66-4f92-aabc-42497ad2579a",start_bucket:0,segment_code:8584}]},{id:"01bdf76a-c9d4-466a-b9a3-ab24f5b78eff",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"57378b48-0651-4f9b-8b33-3c03731d5591",start_bucket:0,segment_code:8696}]},{id:"7e1587d5-11cd-4b6c-8532-9d32885c1321",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"ce4cfcf9-a4c5-40aa-9f19-9aa32eefe9cb",start_bucket:0,segment_code:7798}]},{id:"14ef335a-b0b3-4d19-a329-cc75c1ee9484",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"4018aa7d-a1ad-4128-8ab3-887e126f6f01",start_bucket:0,segment_code:7917}]},{id:"97c33932-57a4-41aa-bd28-5cdc94fa5701",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"8cc07f35-eeae-4f95-8170-ff3c58c19c98",start_bucket:0,segment_code:27743}]},{id:"bd8a46c7-4dcb-4a1d-b05e-4d9dc54e0e08",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"6cb940e7-4e2e-4e7d-8ad5-6ac20704256a",start_bucket:0,segment_code:10422}]},{id:"34dfd697-6234-4f5d-b2bc-8b18be8c8676",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a805b456-a838-4c3c-8ed1-4220dd5cbcd5",start_bucket:0,segment_code:8653}]},{id:"76daa1ad-ba4c-4c6f-affd-38f5cbe87f4d",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=573624"},id:"65bfc10f-b1c4-4862-a58a-6ff707002738",start_bucket:0,segment_code:7801}]},{id:"3d0a5963-b272-431b-b797-25a81d0abd8a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"98afbcad-63e5-4b88-8b64-736273a6f749",start_bucket:0,segment_code:8430}]},{id:"bce2348c-13f0-4ba0-bdc5-9ccc21d4f48b",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"cc2617f1-2fe3-4e92-99ae-9b2685ec612c",start_bucket:0,segment_code:8585}]},{id:"a8fd5491-4792-47e0-b251-8aab41a5cc1d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a1614ea2-3e16-42fe-8e30-087581af74c3",start_bucket:0,segment_code:8691}]},{id:"9f3d3250-ed21-4e97-963e-da67280da3f4",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=569372"},id:"fe8fc05b-a607-48eb-a32a-9d99c5e56cfd",start_bucket:0,segment_code:10563}]},{id:"637f163a-3ef6-451e-9976-ec5630d0188e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"b182a513-09ba-43bd-ba78-70442a973ffb",start_bucket:0,segment_code:8578}]},{id:"d5fdcf71-ab90-45d9-8d88-034228f1c6e0",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"ef33e3c2-2ed3-4e60-a5da-b3ca64769966",start_bucket:0,segment_code:7771}]},{id:"50fbace4-6ea5-4426-aa45-1949c6049c87",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"29a7f4ab-1c87-4d76-8d70-f3683686df70",start_bucket:0,segment_code:8424}]},{id:"84cfd0a1-be06-4778-9674-8ea1b3952441",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"ce489451-a9ee-404e-8d79-ea90ebfddcfd",start_bucket:0,segment_code:8403}]},{id:"09cb75a6-0ee2-4361-a92f-e7732966bc30",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"652380f5-dba1-42f4-98e2-bc7ce654b165",start_bucket:0,segment_code:9941}]},{id:"8cf8d9e3-36f5-426d-b874-d1ea7629cda3",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"88ffe693-66be-4f31-a911-33444004b91c",start_bucket:0,segment_code:8436}]},{id:"497136cc-d896-48d1-9895-72d3d4a2b42e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9bc36cb2-7488-40c7-9a5d-ed7de1be38ca",start_bucket:0,segment_code:7858}]},{id:"e8e99b69-fb90-486b-8561-c54b9dd64d01",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2ae36645-ac93-47ea-9021-a4948db27025",start_bucket:0,segment_code:13238}]},{id:"7e8ef6da-27f8-46bf-af25-93caeebbea61",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"827c995b-02d9-474f-8824-c232ada5c8bc",start_bucket:0,segment_code:8817}]},{id:"5a704099-5435-43ee-8334-754801c6ec59",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d46f883f-2c9c-4cd1-b3b6-c37ebcde3ca7",start_bucket:0,segment_code:8286}]},{id:"60651f4a-0921-45e2-ada6-885dc56e57f1",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"7077ed19-6f3f-47bd-a86d-4178e09446ce",start_bucket:0,segment_code:8690}]},{id:"c56c1228-55b6-40f0-b098-33e6f0f30f8c",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"0e776731-75eb-4f22-8538-c6ad5c156471",start_bucket:0,segment_code:25347}]},{id:"9cafb879-a4e5-4c75-aba4-b9ef689a7e1b",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"53281237-f777-4840-996b-2ef2da1af72c",start_bucket:0,segment_code:13714}]},{id:"885a55f9-677b-45aa-90e4-2dbf559fb885",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"5f107ed6-211a-4289-8d9f-13e90eb4766f",start_bucket:0,segment_code:7930}]},{id:"0768f77f-6d7c-4454-be7c-42ef722247df",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"7836c245-f2e3-4040-b927-4f94f6c3273f",start_bucket:0,segment_code:7929}]},{id:"dee42c87-af62-4b73-94a3-573ae8147bb0",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"6b2e879c-e276-4b9f-b404-a4d685678ce2",start_bucket:0,segment_code:8475}]},{id:"8596c8e7-de40-44d9-9f52-9f48227e36a2",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"99432fd4-3b41-4dfb-8274-558d1f0df796",start_bucket:0,segment_code:8583}]},{id:"e54cdd2c-0704-41f0-8aa1-8b232f72b158",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"812306f0-7102-4b2e-ba2c-18a7a525eecd",start_bucket:0,segment_code:16825}]},{id:"122cc27f-a296-47b6-907a-c81af93efa0f",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"642ac9d0-1b48-499e-809e-037e4d232982",start_bucket:0,segment_code:8437}]},{id:"5db98550-a7d5-4039-a532-a63252005938",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"b831af99-d15e-4d20-8f58-fc658b078fcd",start_bucket:0,segment_code:8692}]},{id:"761af4e4-c720-4670-bd86-b2483243c7ca",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"6ef5cde5-73ec-4ae6-8f88-e1cd27b6c20e",start_bucket:0,segment_code:13107}]},{id:"bf92cd58-e3df-480e-94a5-b6bcb7c633ef",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"8ff2bd84-f73f-4210-ae76-5a18b4a7263e",start_bucket:0,segment_code:10754}]},{id:"ad95a288-c34d-41f6-a1b9-fe0065aaef4d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a5ad2288-aee4-4abd-b7b6-09c6137d5a18",start_bucket:0,segment_code:12740}]},{id:"ff2806ba-2417-4a43-a4fc-e879b5000f2e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"4e83a772-3f15-4e70-b868-6495467f866a",start_bucket:0,segment_code:7705}]},{id:"3c4aec74-3809-40c2-a93c-3aa783b6ace3",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"ce09a00d-99cd-4c87-8ab1-86f2cfeac9f5",start_bucket:0,segment_code:10423}]},{id:"ce9d04b4-19f4-4dc9-acc6-b3b706319f02",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d10847f0-1c9e-4d37-9d51-0a88f9edeccf",start_bucket:0,segment_code:16498}]},{id:"7c35e053-c0da-4ca4-9885-003d082783bc",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"c729adf0-a4a7-48f5-afcf-f8fbd13a9832",start_bucket:0,segment_code:8572}]},{id:"098623cb-5029-43fd-b5df-2cc88b45c162",reaction_type:"tracking_pixel",trigger_type:"OnEntry",variants:[{config:{pixel_url:"http://pixel.rubiconproject.com/tap.php?v=573626"},id:"254a02c1-e5b0-4668-bc28-957a25e70bc5",start_bucket:0,segment_code:8445}]},{id:"02cd031d-315e-4912-b8b1-1bdd2760645c",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"871bf4e5-06c5-4d03-86e4-a9353148a35e",start_bucket:0,segment_code:25350}]},{id:"54ac2b40-ea5a-43c5-88a6-88ec1b9990d1",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e865c231-8ac3-4ae5-a78f-5851052c5bcb",start_bucket:0,segment_code:23563}]},{id:"d189c25a-1a50-4e49-b1be-c6eb534a6ee4",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"23312199-1251-4c13-b56f-f060185d6154",start_bucket:0,segment_code:23566}]},{id:"328cbda4-0da0-42f2-93e3-1697044fa399",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"b56e3f20-00af-4ab4-8e16-2fb9c022c59d",start_bucket:0,segment_code:27742}]},{id:"d0759500-a181-4257-875e-b67e345ae4f8",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e41d1a3c-c74d-4844-a1c4-0cf448bc8bd9",start_bucket:0,segment_code:7928}]},{id:"de83d872-137a-46d2-b17b-6d55a1c0543d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"c68333e6-1bdd-4451-9169-ee05ef643025",start_bucket:0,segment_code:7806}]},{id:"6bb57f9b-a101-4b5b-ab43-f3ccee62c843",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"3ff76b4c-ad0f-4019-bc88-dca49f2dfe8c",start_bucket:0,segment_code:10104}]},{id:"a5d82c67-354a-409a-83bf-252d81f15bee",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"dd7d7249-c488-4a07-b568-1accaff0cd55",start_bucket:0,segment_code:8478}]},{id:"67dd902f-f9ea-4538-95f6-06429270e0fe",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"48d9319a-c58a-4de3-85c5-572c5009b4c6",start_bucket:0,segment_code:7708}]},{id:"ca54025c-bb8f-487b-88fd-ecfbb220ccad",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"61de70d4-315b-4fc1-b627-e27b53eee390",start_bucket:0,segment_code:13046}]},{id:"50cf8252-d108-4849-96da-0e913201fec7",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"050df2b1-2311-4dd6-933e-f020361e8eaf",start_bucket:0,segment_code:23511}]},{id:"285d26fd-bf59-413c-925d-4a7b5951debf",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"f89eb288-4d2f-4779-b304-8c33416e134d",start_bucket:0,segment_code:10284}]},{id:"fdadb010-4d2d-482b-8413-90f9a93398c5",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"0dfb5c6e-fea7-49ad-abf1-bd4fed81b2f6",start_bucket:0,segment_code:10283}]},{id:"590d0f95-fbd1-4c94-a547-5ec13f74e150",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"bf315fca-81f2-461f-9581-989ede7889cf",start_bucket:0,segment_code:8816}]},{id:"b4e9cde8-e702-40ec-a810-691d95b648fe",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"ad156066-7606-4a7d-b4fe-c00b06607cc0",start_bucket:0,segment_code:7799}]},{id:"217a18e1-6a56-44b2-9040-953967b727c6",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"88642f27-580b-4b7e-9db3-237bc6cfa785",start_bucket:0,segment_code:8576}]},{id:"f3ef967d-04e2-4b79-a4cb-d291f1853d3e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"4e136cf8-bccc-4c70-a641-1d4f39b47dd1",start_bucket:0,segment_code:13043}]},{id:"968e6248-5115-4cc7-a1b3-808f87101a3d",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"18b79a79-e27f-4a36-98d4-6d4b0b38a905",start_bucket:0,segment_code:10285}]},{id:"0f8f5efa-dc9b-4f43-b1ff-665e0fd8d621",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"1de5b78a-5636-430a-b989-9527b9c85c91",start_bucket:0,segment_code:7628}]},{id:"80cceb26-7981-46ca-a0ed-6766489818b0",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"4b85b40b-05cf-4247-a399-f285b444e465",start_bucket:0,segment_code:31936}]},{id:"6090fa07-4c41-4664-8073-dc8a354fcea5",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e74f9203-5f9e-47d7-be74-ba6b60e2e26d",start_bucket:0,segment_code:7801}]},{id:"decf59ff-dfba-41cb-b2a6-1aa2c8fe094e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"fa3ae230-8bcf-4c41-bef9-8a9efb46f6d7",start_bucket:0,segment_code:8582}]},{id:"5715a6b3-cd0c-4238-a85f-179667634f8e",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9190b59f-7cd9-407d-b850-cac34bc53c9b",start_bucket:0,segment_code:7702}]},{id:"4cbcdc66-062d-463e-a189-2be7b5d6f998",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"f963e680-c432-4d5d-883d-e6c615bd566c",start_bucket:0,segment_code:8575}]},{id:"55a6601a-8d66-4bae-9b32-ce844e2de8fe",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"0d700ec8-4383-44df-a2dc-4245918b2982",start_bucket:0,segment_code:7688}]},{id:"4edb7db4-bfb4-48bb-b300-fc901a604596",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"6030b377-7cbc-49ce-a0f9-78508db2b1c9",start_bucket:0,segment_code:8574}]},{id:"e5a4624e-f7e9-4985-ba45-d41d1f424272",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"77fa3b89-01f9-48f9-9f69-10a8b9d032d1",start_bucket:0,segment_code:10227}]},{id:"24947505-4b6a-42ea-bdd5-81eebadadc13",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"a6ff0137-7ac5-4c6c-98be-34bfad336f43",start_bucket:0,segment_code:8447}]},{id:"4f0cb81f-3321-4639-9fe6-7db318f39df8",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"ea88a527-7082-4584-bbff-108f4f31b5bb",start_bucket:0,segment_code:8456}]},{id:"9bdfdae5-d88e-4b7e-b5ef-9f95e32dfdfb",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"fdab875b-8304-4ac8-9d8e-8dff23191206",start_bucket:0,segment_code:8445}]},{id:"9a1c8cdf-5e64-4ca7-aed5-0c9ee0aa8d6c",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"d569f52d-9018-44e6-a36d-90a1ba066e9b",start_bucket:0,segment_code:8432}]},{id:"2731ff0e-cd0f-47f3-a42b-d84dac256d64",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"2c373e53-05dd-4e33-99fc-adb33c406a58",start_bucket:0,segment_code:7788}]},{id:"a14dc1c0-cde6-40ef-9f44-11261b7b278b",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"7877294a-0f98-4041-8f1b-5f424b1000a3",start_bucket:0,segment_code:16870}]},{id:"6fe63211-6f55-424d-8fcc-5414f3c1399a",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"92f1a80f-626a-428c-aba3-039c09f5ac77",start_bucket:0,segment_code:9820}]},{id:"a5e5cf8d-cdd2-4b68-9933-62747918cb4f",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"e7d75c78-c574-48aa-a16a-dad506e29dd2",start_bucket:0,segment_code:8442}]},{id:"6ea2f28c-2680-43dd-a0d7-978bc7b1aa63",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"9002ef18-38fd-4d37-90e4-76b2aa04939d",start_bucket:0,segment_code:10391}]},{id:"0b4271bf-6db9-483a-841c-1ff4295409af",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"5b835e5a-fa86-45f1-ba14-8c27b36f6f1f",start_bucket:0,segment_code:7805}]},{id:"a8f25d58-5fbb-485d-a91b-e8bf32ccb927",reaction_type:"target_rubicon",trigger_type:"EveryTime",variants:[{config:{},id:"5a716941-b490-4710-b794-583f391c2416",start_bucket:0,segment_code:8831}]}],this.specializedReactionsConfig={target_dfp:{dfp:[8444,8580,13127,9490,8579,23565,8575,8445,7707,7892,8582,8477,10422,8574,8690,7917,8577,9814,10285,8691,8456,12966,8578,25350,7801,9813,11972,7788,8441,8476,12819,8436,8584,25348,12740,9820,13238,13107,8424,8425,7919,7918,8570,8447,27744,13226,10754,10227,8438,13231,10104,10390,8696,8422,8428,23566,8093,8287,7704,27742,8698,12743,8437,12750,10423,8432,8132,8423,13227,8446,9818,7702,12820,11228,8286,8097,23563,8583,8816,12742,23568,8096,7800,7931,8573,12477,7688,12988,8478,9816,13044,13714,8431,7930,9817,7802,8403,23569,7708,8427,7804,23564,8653,9941,7929,8818,8817,7806,28228,8457,10283,8429,8426,13046,7807,16498,13045,23511,12741,8693,8094,7858,31936,10287,7798,25349,8430,8576,8695,10284,8873,7799,8443,7705,8572,7771,10286,8585,10391,7928,8581,8692,7703,8433,13047,25347,8475,27743,8442,8435,12739,10563,7723,8694,8831,13043,7628,10612,7805,8098,23570],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:3},appnexus:{},appnexus_adserver:[],nativo:[]},this.reactions={}}var u=n(9),s="permutive-events-cache",f=(d.prototype.all=function(){return this.eventObjectCache},d.prototype.setReady=function(){this.initialised=!0},d.prototype.add=function(e,t){void 0===t&&(t={shouldWrite:!0});for(var n=!1,r=0;r<this.eventObjectCache.length;r++)if(this.eventObjectCache[r].id===e.id){n=!0;break}return n?e=void 0:(this.eventObjectCache.push(e),t.shouldWrite&&this.write()),e},d.prototype.processCachedEvents=function(e){for(var t=[],n=0;n<e.length;n++){var r=Object(u.a)(e[n]);t.push(r),this.add(r,{shouldWrite:!1})}return t},d.prototype.load=function(){var e=this,t=Object(a.a)(),n=this._internals.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{}),r=this._internals.getExternalData(s),i=[];try{i=r?JSON.parse(r):[]}catch(e){}return this.eventCacheSizeInBytes=r?2*r.length:0,this._internals.metrics.track({name:"sdk_events_cache_byte_total",value:this.eventCacheSizeInBytes,labels:{}}),this._internals.metrics.track({name:"sdk_events_cache_size_total",value:i.length,labels:{}}),t.resolve(i),t.promise.then(function(){e._internals.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",n)}),t.promise},d.prototype.processRefreshEvents=function(e,t){void 0===t&&(t={});for(var n=[],r=e||[],i=0;i<r.length;i++){var a=this.add(Object(u.a)(r[i]),{shouldWrite:!1});a&&n.push(a)}if(0<r.length){var o=new Date(r[r.length-1].time);o.setMilliseconds(o.getMilliseconds()+1),this.lastRefreshed=o,this.storeLastRefreshTime()}return this._internals.log("events from api: ",r),this._internals.log("new events from api: ",n),this._internals.log("events cache",this.eventObjectCache),0<n.length&&t.write&&this.write(),n},d.prototype.reset=function(){this._internals.removeExternalData(s),this.eventObjectCache=[],this.eventCacheSizeInBytes=0,this.lastRefreshed=null},d.prototype.write=function(e){void 0===e&&(e=this.eventObjectCache);for(var t=JSON.stringify(e),n=1;0<e.length&&t.length>this._internals.config.eventsCacheLimitBytes/2;)e.splice(0,n),n*=2,t=JSON.stringify(e);this._internals.log("Writing cache (#e)",e.length),this._internals.setExternalData(s,t),this.eventCacheSizeInBytes=2*t.length},d.prototype.setRefreshFromTime=function(e){this.lastRefreshed=e,this.storeLastRefreshTime()},d.prototype.getRefreshFromTime=function(){var e=this.lastRefreshed;return(e=e||this._internals.utcNow())&&e.setMilliseconds(e.getMilliseconds()+1),e},d.prototype.storeLastRefreshTime=function(){this.state.setPermutiveData("last_refresh_time",this.lastRefreshed.toISOString())},d.prototype.getStateSizeInBytes=function(){return this.eventCacheSizeInBytes},d.prototype.retrieveLastRefreshTime=function(){var e=this.state.getPermutiveData("last_refresh_time")||null;e&&(this.lastRefreshed=new Date(e))},d);function d(e,t){this.state=e,this._internals=t,this.initialised=!1,this.hasAttemptedSizeReduction=!1,this.lastRefreshed=null,this.eventObjectCache=[],this.eventCacheSizeInBytes=0,this.retrieveLastRefreshTime()}var l=(p.prototype.add=function(e){this.queue.push(e),this.notify()},p.prototype.notify=function(){function e(){t._internals.messages.emit("permutive:taskQueue:update")}var t=this,n=(new Date).getTime();null===this.nextNotify||this.nextNotify<n-50?(this.nextNotify=n,e()):this.nextNotify<=n&&(this.nextNotify=n+50,window.setTimeout(e,50))},p.prototype.execute=function(){var e=this;if(0!==this.queue.length){for(var t=!1,n=!1,r=0,i=0;i<this.queue.length;i++){var a=this.queue[i];if(a.complete)r+=1;else if(a.started)n=!0,t=t||a.blocks();else{if(a.waits()&&n)break;t||(n=!0,t=t||a.blocks(),a.execute(function(){e.notify()}))}}this.queue.splice(0,r)}},p.prototype.size=function(){return this.queue.length},p);function p(e){var t=this;this._internals=e,this.queue=[],this.nextNotify=null,e.messages.on("permutive:taskQueue:update",function(){t.execute()})}n.d(t,"a",function(){return g});var g=(_.prototype.reset=function(){this._internals.log("Resetting SDK"),this._internals.stateSync.reset(),this.eventsCache.reset(),this._internals.removeExternalData(this.permutive.config.cookieName),this.permutiveData={},this.permutiveDataByteSize=0,localStorage.removeItem(this.permutive.config.permutiveDataKey),this.eventSourceId=this.generateAndStoreEventSourceId()},_.prototype.getUserId=function(){var e=this._internals.getCookie(this.permutive.config.cookieName);return e||this._internals.getExternalData(this.permutive.config.cookieName)},_.prototype.setUserId=function(e){this._internals.setExternalData(this.permutive.config.cookieName,e),this.userId=e},_.prototype.getPermutiveData=function(e){return this.permutiveData[e]},_.prototype.setPermutiveData=function(e,t){this.permutiveData[e]=t;var n=this._internals.getNamespacedStorageKey(this.permutive.config.permutiveDataKey),r=JSON.stringify(this.permutiveData);this.permutiveDataByteSize=2*r.length,this._internals.makeSafe(function(){localStorage.setItem(n,r)})()},_.prototype.getPageviewId=function(){return this.getViewId()},_.prototype.getViewId=function(){return this.viewId},_.prototype.getClient=function(){var e="";return e=document.title?document.title:"",{type:"web",user_agent:navigator.userAgent?navigator.userAgent:"",url:window.location.href?window.location.href:"",domain:window.location.hostname?window.location.hostname:"",title:e,referrer:document.referrer?document.referrer:""}},_.prototype.getStateSizeInBytes=function(){return this.permutiveDataByteSize+this.eventsCache.getStateSizeInBytes()},_.prototype.generateAndStoreEventSourceId=function(){var e=this._internals.randomUuid();return this.setPermutiveData("event-source-id",e),e},_);function _(e,t,n){this._internals=e,this.permutive=t,this.network=n,this.taskQueue=new l(this._internals);var r=this._internals.getNamespacedStorageKey(t.config.permutiveDataKey),i=localStorage.getItem(r);if(this.permutiveDataByteSize=null===i?0:2*i.length,this.permutiveData=null===i?{}:JSON.parse(i),this.userId=this.getUserId(),this.userId)this.setUserId(this.userId);else{var a=this._internals.randomUuid();this._internals.log("Stored user id is null, creating new id: "+a),this.setUserId(a)}this.eventSourceId=this.getPermutiveData("event-source-id")||this.generateAndStoreEventSourceId(),this.viewId=this._internals.randomUuid(),this.eventsCache=new f(this,this._internals),this.reactionManager=new c(this,this._internals,this.permutive),this.reactionManager.load()}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Promise){var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(60),_core_state_PermutiveState__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(77),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3),_core_identity_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(25),_core_internals_PermutiveInternals__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(61),_utils_promises_PermutivePromises__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(62),_core_session_SessionManager__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(63),_core_metrics_PermutiveMetrics__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(28),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(64),_core_third_party_PermutiveThirdParty__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(65),_utils_event_handler_PermutiveEventHandler__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(67),_PermutiveMethods__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(68),_dynamic_enrichment_Enricher__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(33),_http_graphql_GraphQLQuery__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(69),_http_graphql_GraphQLIdentify__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(70),_lib_events__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(71),_Config__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(72),_core_events_PermutiveEventsBatch__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(73),_core_state_PermutiveStateSync__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(74),fp_ts_es6_pipeable__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7),_core_queries_QueryManager__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(38);__webpack_require__(87),function(){var wwSupport=!!window.Worker&&!!window.Blob,mod="modernizr",lsSupport=!0,lsQuotaExceeded=!1;try{localStorage.setItem(mod,mod),localStorage.removeItem(mod)}catch(e){"QuotaExceededError"===e.name||"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||window.localStorage&&0===window.localStorage.remainingSpace?lsQuotaExceeded=!0:lsSupport=!1}if(wwSupport&&lsSupport){var sdkInitTimestamp=void 0;void 0!==window.performance&&void 0!==window.performance.now&&(sdkInitTimestamp=performance.now());var permutive=window.permutive;Object(_Config__WEBPACK_IMPORTED_MODULE_17__.a)(permutive);var permutiveNetwork=new _http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_1__.a(permutive.config),_internals=new _core_internals_PermutiveInternals__WEBPACK_IMPORTED_MODULE_5__.a(permutive.config,permutive,permutiveNetwork),initialised=!1,handleConsent=function(e){return"object"==typeof e&&(localStorage.setItem("permutive-consent",JSON.stringify(e)),e.opt_in&&null!==e.token&&0<e.token.length)};permutive.consent=function(e){handleConsent(e)&&!initialised&&(initialiseSDK(),initialised=!0)};for(var i=0;i<permutive.q.length;i++){var funcCall=permutive.q[i];if("consent"===funcCall.functionName){var consentData=funcCall.arguments[0];handleConsent(consentData)&&!initialised&&(initialiseSDK(),initialised=!0)}}if(permutive.q=permutive.q.filter(function(e){return"consent"!==e.functionName}),!initialised){var cachedConsentData=JSON.parse(localStorage.getItem("permutive-consent")),optIn=cachedConsentData?cachedConsentData.opt_in:void 0;(!permutive.config.consentRequired||!optIn)&&(permutive.config.consentRequired||!1===optIn)||initialiseSDK()}}function initialiseSDK(){_internals.addons={},_internals.promises=new _utils_promises_PermutivePromises__WEBPACK_IMPORTED_MODULE_6__.a,_internals.messages=new _lib_events__WEBPACK_IMPORTED_MODULE_16__.a,permutive.addons=_internals.addons;try{_internals.sessionManager=new _core_session_SessionManager__WEBPACK_IMPORTED_MODULE_7__.a(_internals),_internals.state=new _core_state_PermutiveState__WEBPACK_IMPORTED_MODULE_2__.a(_internals,permutive,permutiveNetwork),_internals.stateSync=new _core_state_PermutiveStateSync__WEBPACK_IMPORTED_MODULE_19__.a(_internals,permutiveNetwork),_internals.queryManager=new _core_queries_QueryManager__WEBPACK_IMPORTED_MODULE_21__.a(_internals,permutive,permutiveNetwork),_internals.eventsBatch=new _core_events_PermutiveEventsBatch__WEBPACK_IMPORTED_MODULE_18__.a(_internals,permutiveNetwork),_internals.queryManager=new _core_queries_QueryManager__WEBPACK_IMPORTED_MODULE_21__.a(_internals,permutive,permutiveNetwork);var isMetricsUser=_internals.state.getPermutiveData("metricsEnabled");switch(isMetricsUser){case!0:_internals.metrics=new _core_metrics_PermutiveMetrics__WEBPACK_IMPORTED_MODULE_8__.a(sdkInitTimestamp,_internals,permutive);break;case!1:_internals.metrics=new _core_metrics_PermutiveMetrics__WEBPACK_IMPORTED_MODULE_8__.b;break;case void 0:var metricsEnabled=void 0!==sdkInitTimestamp&&Math.random()<=_internals.config.metricsSamplingPercentage/100;_internals.metrics=metricsEnabled?new _core_metrics_PermutiveMetrics__WEBPACK_IMPORTED_MODULE_8__.a(sdkInitTimestamp,_internals,permutive):new _core_metrics_PermutiveMetrics__WEBPACK_IMPORTED_MODULE_8__.b,_internals.state.setPermutiveData("metricsEnabled",metricsEnabled)}_internals.models={getModels:function(){return Promise.resolve({})}},_internals.api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_9__.a(_internals,permutiveNetwork),_internals.eventHandler=new _utils_event_handler_PermutiveEventHandler__WEBPACK_IMPORTED_MODULE_11__.a;var permutiveMethods_1=new _PermutiveMethods__WEBPACK_IMPORTED_MODULE_12__.a(_internals,permutive,permutiveNetwork);_internals.identities=new _core_identity_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_4__.a(_internals,permutiveNetwork),_internals.thirdParty=new _core_third_party_PermutiveThirdParty__WEBPACK_IMPORTED_MODULE_10__.a(_internals,permutive,permutiveNetwork),permutive.context=permutive.context||{},permutive.context.path=window.location.pathname,permutive.context.url=window.location.href,permutive.context.referrer=document.referrer,_internals.blockers=[],_internals.addBlocker("permutive:queries:initialised"),_internals.enrichers=new _dynamic_enrichment_Enricher__WEBPACK_IMPORTED_MODULE_13__.a,_internals.graphql=new _http_graphql_GraphQLQuery__WEBPACK_IMPORTED_MODULE_14__.a(_internals);for(var scripts=[],i=0;i<scripts.length;i++){var script=scripts[i];try{eval(script)}catch(e){e.message="Error running custom script ["+i+"]"+e.message,permutiveNetwork.error(e,_internals.state.userId)}}_internals.messages.on("permutive:blockers:empty",function(){Object(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_3__.b)(permutive,permutiveMethods_1),permutive.config.exposeInternals&&Object(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_3__.b)(permutive,_internals),_internals.setAsReady(),_internals.applyQueue(),delete permutive.q});var retrieveThirdPartyIdentities_1=function(){return _internals.identities.retrieveAllIdentities()},resolveIdentity_1=function(){_internals.log("<call> init identity");var i=Object(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_3__.a)();permutive.context.user_id=_internals.state.userId,permutive.q.filter(function(e){return"identify"===e.functionName}).forEach(function(e){_core_identity_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_4__.a.getAliasesFromIdentifyArg(e.arguments[0]).forEach(function(e){return _internals.identities.addAlias(e.id,e.tag)})}),permutive.q=permutive.q.filter(function(e){return"identify"!==e.functionName});var a=_internals.identities.currentAliases;_internals.log("Starting identification... Current aliases are:",a);var o=_internals.state.userId,e=new _http_graphql_GraphQLIdentify__WEBPACK_IMPORTED_MODULE_15__.a(o,_internals.identities.convertAliases(a));return _internals.graphql.register(e).then(function(e){return t={user_id:e.identity.identify.id},n=t.user_id,r=!1,n!==o&&(_internals.log("Got different user id from API: "+n),_internals.state.reset(),_internals.state.setUserId(n),r=!0),_internals.identities.storeAliases(a),void i.resolve({identityChanged:r,userId:n});var t,n,r}).catch(function(){permutiveNetwork.error("Couldn't set identity for user "+o,o),i.resolve({identityChanged:!1,userId:o})}),i.promise.then(function(e){_internals.messages.emit("permutive:user:ready"),_internals.log("<done> init identity ",e)}),i.promise},onIdentityChanged_1=function(){return _internals.log("Identity has changed"),_internals.state.eventsCache.setReady(),_internals.stateSync.resetSync()},onIdentityRemained_1=function(){return _internals.log("Identity hasn't changed"),_internals.state.eventsCache.load().then(function(e){_internals.log("Loaded local event cache");var t=_internals.state.eventsCache.processCachedEvents(e);return _internals.state.eventsCache.setReady(),_internals.queryManager.bootstrap(t)})},loadAddon_1=function(e){return e.load(permutive,_internals,permutiveNetwork)},addons=tslib__WEBPACK_IMPORTED_MODULE_0__.e([],[],[],[],[],[],[Promise.resolve().then(__webpack_require__.bind(null,146))],[Promise.resolve().then(__webpack_require__.bind(null,53))],[Promise.resolve().then(__webpack_require__.bind(null,54))],[],[],[],[],[],[],[],[],[],[Promise.resolve().then(__webpack_require__.bind(null,55))],[],[],[],[],[],[],[Promise.resolve().then(__webpack_require__.bind(null,56))],[],[],[Promise.resolve().then(__webpack_require__.bind(null,57))],[],[Promise.resolve().then(__webpack_require__.bind(null,58))],[],[],[Promise.resolve().then(__webpack_require__.bind(null,59))]);addons.forEach(function(e){return e.then(loadAddon_1)});var registerEnricher_1=function(e){return e.register(_internals,permutive)},enrichers=tslib__WEBPACK_IMPORTED_MODULE_0__.e([Promise.resolve().then(__webpack_require__.bind(null,147))],[]);enrichers.forEach(function(e){return e.then(registerEnricher_1)});var registerIdentityPovider_1=function(e){return e.register(_internals,permutiveNetwork)},identityProviders=tslib__WEBPACK_IMPORTED_MODULE_0__.e([],[Promise.resolve().then(__webpack_require__.bind(null,148))]);Promise.all(identityProviders).then(function(e){return e.forEach(registerIdentityPovider_1)}).then(function(e){return retrieveThirdPartyIdentities_1()}).then(function(){_internals.thirdParty.segments();var e=resolveIdentity_1();return _internals.graphql.run(),e.then(function(e){return e.identityChanged?onIdentityChanged_1():Object(fp_ts_es6_pipeable__WEBPACK_IMPORTED_MODULE_20__.a)(_internals.state.eventsCache.lastRefreshed=_internals.state.eventsCache.getRefreshFromTime(),function(e){return _internals.state.eventsCache.storeLastRefreshTime()},function(e){return onIdentityRemained_1()})})}).then(function(){return Promise.all([_internals.thirdParty.segments(),_internals.models.getModels()]).then(function(e){return _internals.log("Loaded TPD segments and lookalike models",e),_internals.queryManager.updateEnvironment({segments:Object(_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_3__.j)({"1p":_internals.queryManager.userSegmentsMap},e[0]),lookalikeModels:e[1]})})}).then(function(){_internals.queryManager.setAsReady(),_internals.messages.emit("permutive:api:ready"),_internals.metrics.track({name:"sdk_local_storage_byte_total",value:_internals.state.getStateSizeInBytes(),labels:{}}),_internals.metrics.track({name:"sdk_query_states_byte_total",value:_internals.queryManager.getStateSizeInBytes(),labels:{}})})}catch(e){permutiveNetwork.error(e,_internals.state?_internals.state.userId:null)}lsQuotaExceeded&&permutiveNetwork.error("Local storage quota exceeded prior to initialisation")}}()}.call(this,__webpack_require__(11).Promise)},function(e,t,n){"use strict";t.cast=function(t){return t&&"object"==typeof t&&t.constructor===this?t:new this(function(e){e(t)})}},function(e,t,n){"use strict";var r=n(20).isArray,s=n(20).isFunction;t.all=function(u){if(!r(u))throw new TypeError("You must pass an array to all.");return new this(function(n,e){var t,r=[],i=u.length;function a(t){return function(e){o(t,e)}}function o(e,t){r[e]=t,0==--i&&n(r)}0===i&&n([]);for(var c=0;c<u.length;c++)(t=u[c])&&s(t.then)?t.then(a(c),e):o(c,t)})}},function(e,t,n){"use strict";var r=n(20).isArray;t.race=function(i){if(!r(i))throw new TypeError("You must pass an array to race.");return new this(function(e,t){for(var n,r=0;r<i.length;r++)(n=i[r])&&"function"==typeof n.then?n.then(e,t):e(n)})}},function(e,t,n){"use strict";t.resolve=function(n){return new this(function(e,t){e(n)})}},function(e,t,n){"use strict";t.reject=function(n){return new this(function(e,t){t(n)})}},function(e,d,t){"use strict";(function(e,t){var n="undefined"!=typeof window?window:{},r=n.MutationObserver||n.WebKitMutationObserver,i=void 0!==e?e:void 0===this?window:this;var a,o,c,u,s=[];function f(){for(var e=0;e<s.length;e++){var t=s[e];(0,t[0])(t[1])}s=[]}a=void 0!==t&&"[object process]"==={}.toString.call(t)?function(){t.nextTick(f)}:r?(o=0,c=new r(f),u=document.createTextNode(""),c.observe(u,{characterData:!0}),function(){u.data=o=++o%2}):function(){i.setTimeout(f,1)},d.asap=function(e,t){1===s.push([e,t])&&a()}}).call(this,t(41),t(85))},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,s=[],f=!1,d=-1;function l(){f&&u&&(f=!1,u.length?s=u.concat(s):d=-1,s.length&&p())}function p(){if(!f){var e=c(l);f=!0;for(var t=s.length;t;){for(u=s,s=[];++d<t;)u&&u[d].run();d=-1,t=s.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function _(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new g(e,t)),1!==s.length||f||c(p)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,a){"use strict";(function(n){var r=a(39).Promise,i=a(20).isFunction;t.polyfill=function(){var e,t;"Promise"in(e=void 0!==n?n:"undefined"!=typeof window&&window.document?window:self)&&"cast"in e.Promise&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&(new e.Promise(function(e){t=e}),i(t))||(e.Promise=r)}}).call(this,a(41))},function(e,t,n){"use strict";n(88)()||Object.defineProperty(n(89),"Map",{value:n(90),configurable:!0,enumerable:!1,writable:!0})},function(e,t,n){"use strict";e.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(!1===(t=e.entries().next()).done&&(!!t.value&&("raz"===t.value[0]&&"one"===t.value[1])))))))))))))}},function(e,t){function n(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")}e.exports=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__?__global__:n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var i,r=n(42),a=n(92),o=n(29),c=n(21),u=n(15),s=n(13),f=n(111),d=n(19),l=n(50),p=n(121),g=n(139),_=n(142),h=Function.prototype.call,v=Object.defineProperties,m=Object.getPrototypeOf;e.exports=i=function(){var n,r,e,t=arguments[0];if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");return e=_&&o&&Map!==i?o(new Map,m(this)):this,null!=t&&l(t),v(e,{__mapKeysData__:s("c",n=[]),__mapValuesData__:s("c",r=[])}),t&&p(t,function(e){var t=u(e)[0];e=e[1],-1===a.call(n,t)&&(n.push(t),r.push(e))},e),e},_&&(o&&o(i,Map),i.prototype=Object.create(Map.prototype,{constructor:s(i)})),f(v(i.prototype,{clear:s(function(){this.__mapKeysData__.length&&(r.call(this.__mapKeysData__),r.call(this.__mapValuesData__),this.emit("_clear"))}),delete:s(function(e){var t=a.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:s(function(){return new g(this,"key+value")}),forEach:s(function(e){var t,n,r=arguments[1];for(c(e),n=(t=this.entries())._next();void 0!==n;)h.call(e,r,this.__mapValuesData__[n],this.__mapKeysData__[n],this),n=t._next()}),get:s(function(e){var t=a.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]}),has:s(function(e){return-1!==a.call(this.__mapKeysData__,e)}),keys:s(function(){return new g(this,"key")}),set:s(function(e,t){var n,r=a.call(this.__mapKeysData__,e);return-1===r&&(r=this.__mapKeysData__.push(e)-1,n=!0),this.__mapValuesData__[r]=t,n&&this.emit("_add",r,e),this}),size:s.gs(function(){return this.__mapKeysData__.length}),values:s(function(){return new g(this,"value")}),toString:s(function(){return"[object Map]"})})),Object.defineProperty(i.prototype,d.iterator,s(function(){return this.entries()})),Object.defineProperty(i.prototype,d.toStringTag,s("c","Map"))},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var a=n(93),o=n(43),c=n(15),u=Array.prototype.indexOf,s=Object.prototype.hasOwnProperty,f=Math.abs,d=Math.floor;e.exports=function(e){var t,n,r,i;if(!a(e))return u.apply(this,arguments);for(n=o(c(this).length),r=arguments[1],t=r=isNaN(r)?0:0<=r?d(r):o(this.length)-d(f(r));t<n;++t)if(s.call(this,t)&&(i=this[t],a(i)))return t;return-1}},function(e,t,n){"use strict";e.exports=n(94)()?Number.isNaN:n(95)},function(e,t,n){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}},function(e,t,n){"use strict";e.exports=function(e){return e!=e}},function(e,t,n){"use strict";var r=n(97),i=Math.abs,a=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?r(e)*a(i(e)):e}},function(e,t,n){"use strict";e.exports=n(98)()?Math.sign:n(99)},function(e,t,n){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},function(e,t,n){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:0<e?1:-1}},function(e,t,n){"use strict";var r=n(22),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},function(e,t,n){"use strict";var r,i,a,o,c=Object.create;n(44)()||(r=n(45)),e.exports=r&&1===r.level?(o={configurable:!(a={}),enumerable:!(i={}),writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){a[e]="__proto__"!==e?o:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(i,a),Object.defineProperty(r,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(e,t){return c(null===e?i:e,t)}):c},function(e,t,n){"use strict";var r=n(103);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!r(e)}},function(e,t,n){"use strict";var r=n(35);e.exports=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch(e){return!1}}},function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var o=n(106),c=n(15),u=Math.max;e.exports=function(t,n){var r,e,i,a=u(arguments.length,2);for(t=Object(c(t)),i=function(e){try{t[e]=n[e]}catch(e){r=r||e}},e=1;e<a;++e)o(n=arguments[e]).forEach(i);if(void 0!==r)throw r;return t}},function(e,t,n){"use strict";e.exports=n(107)()?Object.keys:n(108)},function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(22),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return-1<r.call(this,e,arguments[1])}},function(e,t,n){"use strict";var i,r,a,o,c,u,s,f=n(13),d=n(21),l=Function.prototype.apply,p=Function.prototype.call,g=Object.create,_=Object.defineProperty,h=Object.defineProperties,v=Object.prototype.hasOwnProperty,m={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n,r;return d(t),i.call(r=this,e,n=function(){a.call(r,e,n),l.call(t,this,arguments)}),n.__eeOnceListener__=t,this},c={on:i=function(e,t){var n;return d(t),v.call(this,"__ee__")?n=this.__ee__:(n=m.value=g(null),_(this,"__ee__",m),m.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},once:r,off:a=function(e,t){var n,r,i,a;if(d(t),!v.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(a=0;i=r[a];++a)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[a?0:1]:r.splice(a,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},emit:o=function(e){var t,n,r,i,a;if(v.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,a=new Array(n-1),t=1;t<n;++t)a[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)l.call(r,this,a)}else switch(arguments.length){case 1:p.call(i,this);break;case 2:p.call(i,this,arguments[1]);break;case 3:p.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,a=new Array(n-1),t=1;t<n;++t)a[t-1]=arguments[t];l.call(i,this,a)}}},u={on:f(i),once:f(r),off:f(a),emit:f(o)},s=h({},u),e.exports=t=function(e){return null==e?g(s):h(Object(e),u)},t.methods=c},function(e,t,n){"use strict";var r=n(30),i={object:!0,symbol:!0};e.exports=function(){var e,t=r.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!i[typeof t.iterator]&&(!!i[typeof t.toPrimitive]&&!!i[typeof t.toStringTag])}},function(e,t,n){"use strict";e.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},function(e,t){function n(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")}e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__?__global__:n()}finally{delete Object.prototype.__global__}}()},function(e,t,n){"use strict";var r,i,a,o=n(13),c=n(49),u=n(30).Symbol,s=n(117),f=n(118),d=n(119),l=Object.create,p=Object.defineProperties,g=Object.defineProperty;if("function"==typeof u)try{String(u()),a=!0}catch(e){}else u=null;i=function(e){if(this instanceof i)throw new TypeError("Symbol is not a constructor");return r(e)},e.exports=r=function e(t){var n;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return a?u(t):(n=l(i.prototype),t=void 0===t?"":String(t),p(n,{__description__:o("",t),__name__:o("",s(t))}))},f(r),d(r),p(i.prototype,{constructor:o(r),toString:o("",function(){return this.__name__})}),p(r.prototype,{toString:o(function(){return"Symbol ("+c(this).__description__+")"}),valueOf:o(function(){return c(this)})}),g(r.prototype,r.toPrimitive,o("",function(){var e=c(this);return"symbol"==typeof e?e:e.toString()})),g(r.prototype,r.toStringTag,o("c","Symbol")),g(i.prototype,r.toStringTag,o("c",r.prototype[r.toStringTag])),g(i.prototype,r.toPrimitive,o("c",r.prototype[r.toPrimitive]))},function(e,t,n){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},function(e,t,n){"use strict";var i=n(13),r=Object.create,a=Object.defineProperty,o=Object.prototype,c=r(null);e.exports=function(e){for(var t,n,r=0;c[e+(r||"")];)++r;return c[e+=r||""]=!0,a(o,t="@@"+e,i.gs(null,function(e){n||(n=!0,a(this,t,i(e)),n=!1)})),t}},function(e,t,n){"use strict";var r=n(13),i=n(30).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r("",i&&i.hasInstance||e("hasInstance")),isConcatSpreadable:r("",i&&i.isConcatSpreadable||e("isConcatSpreadable")),iterator:r("",i&&i.iterator||e("iterator")),match:r("",i&&i.match||e("match")),replace:r("",i&&i.replace||e("replace")),search:r("",i&&i.search||e("search")),species:r("",i&&i.species||e("species")),split:r("",i&&i.split||e("split")),toPrimitive:r("",i&&i.toPrimitive||e("toPrimitive")),toStringTag:r("",i&&i.toStringTag||e("toStringTag")),unscopables:r("",i&&i.unscopables||e("unscopables"))})}},function(e,t,n){"use strict";var r=n(13),i=n(49),a=Object.create(null);e.exports=function(t){return Object.defineProperties(t,{for:r(function(e){return a[e]?a[e]:a[e]=t(String(e))}),keyFor:r(function(e){var t;for(t in i(e),a)if(a[t]===e)return t})})}},function(e,t,n){"use strict";var r=n(31),i=n(22),a=n(32),o=n(19).iterator,c=Array.isArray;e.exports=function(e){return!!i(e)&&(!!c(e)||(!!a(e)||(!!r(e)||"function"==typeof e[o])))}},function(e,t,n){"use strict";var d=n(31),l=n(21),p=n(32),g=n(122),_=Array.isArray,h=Function.prototype.call,v=Array.prototype.some;e.exports=function(e,t){var n,r,i,a,o,c,u,s,f=arguments[2];if(_(e)||d(e)?n="array":p(e)?n="string":e=g(e),l(t),i=function(){a=!0},"array"!==n)if("string"!==n)for(r=e.next();!r.done;){if(h.call(t,f,r.value,i),a)return;r=e.next()}else for(c=e.length,o=0;o<c&&(u=e[o],o+1<c&&55296<=(s=u.charCodeAt(0))&&s<=56319&&(u+=e[++o]),h.call(t,f,u,i),!a);++o);else v.call(e,function(e){return h.call(t,f,e,i),a})}},function(e,t,n){"use strict";var r=n(31),i=n(32),a=n(123),o=n(138),c=n(50),u=n(19).iterator;e.exports=function(e){return"function"==typeof c(e)[u]?e[u]():new(!r(e)&&i(e)?o:a)(e)}},function(e,t,n){"use strict";var r,i=n(29),a=n(48),o=n(13),c=n(19),u=n(37),s=Object.defineProperty;r=e.exports=function(e,t){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?a.call(t,"key+value")?"key+value":a.call(t,"key")?"key":"value":"value",s(this,"__kind__",o("",t))},i&&i(r,u),delete r.prototype.constructor,r.prototype=Object.create(u.prototype,{_resolve:o(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),s(r.prototype,c.toStringTag,o("c","Array Iterator"))},function(e,t,n){"use strict";var r,i=n(23),a=n(125),o=n(129),c=n(130),u=n(47),s=n(135),f=Function.prototype.bind,d=Object.defineProperty,l=Object.prototype.hasOwnProperty;r=function(e,t,n){var r,i=a(t)&&o(t.value);return delete(r=c(t)).writable,delete r.value,r.get=function(){return!n.overwriteDefinition&&l.call(this,e)?i:(t.value=f.call(i,n.resolveContext?n.resolveContext(this):this),d(this,e,t),this[e])},r},e.exports=function(e){var n=u(arguments[1]);return i(n.resolveContext)&&o(n.resolveContext),s(e,function(e,t){return r(t,e,n)})}},function(e,t,n){"use strict";var r=n(51),i=n(23);e.exports=function(e){return i(e)?e:r(e,"Cannot use %v",arguments[1])}},function(e,t,n){"use strict";var r=n(23),i=n(35),a=Object.prototype.toString;e.exports=function(e){if(!r(e))return null;if(i(e)){var t=e.toString;if("function"!=typeof t)return null;if(t===a)return null}try{return""+e}catch(e){return null}}},function(e,t,n){"use strict";var r=n(128),i=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=r(e);return null===t?"<Non-coercible to string value>":(100<t.length&&(t=t.slice(0,99)+"…"),t=t.replace(i,function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},function(e,t,n){"use strict";e.exports=function(t){try{return t.toString()}catch(e){try{return String(t)}catch(e){return null}}}},function(e,t,n){"use strict";var r=n(51),i=n(46);e.exports=function(e){return i(e)?e:r(e,"%v is not a plain function",arguments[1])}},function(e,t,n){"use strict";var a=n(131),o=n(36),c=n(15);e.exports=function(t){var e=Object(c(t)),n=arguments[1],r=Object(arguments[2]);if(e!==t&&!n)return e;var i={};return n?a(n,function(e){(r.ensure||e in t)&&(i[e]=t[e])}):o(i,t),i}},function(e,t,n){"use strict";e.exports=n(132)()?Array.from:n(133)},function(e,t,n){"use strict";e.exports=function(){var e,t,n=Array.from;return"function"==typeof n&&(t=n(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,n){"use strict";var p=n(19).iterator,g=n(31),_=n(134),h=n(43),v=n(21),m=n(15),b=n(22),y=n(32),w=Array.isArray,k=Function.prototype.call,O={configurable:!0,enumerable:!0,writable:!0,value:null},j=Object.defineProperty;e.exports=function(e){var t,n,r,i,a,o,c,u,s,f,d=arguments[1],l=arguments[2];if(e=Object(m(e)),b(d)&&v(d),this&&this!==Array&&_(this))t=this;else{if(!d){if(g(e))return 1!==(a=e.length)?Array.apply(null,e):((i=new Array(1))[0]=e[0],i);if(w(e)){for(i=new Array(a=e.length),n=0;n<a;++n)i[n]=e[n];return i}}i=[]}if(!w(e))if(void 0!==(s=e[p])){for(c=v(s).call(e),t&&(i=new t),u=c.next(),n=0;!u.done;)f=d?k.call(d,l,u.value,n):u.value,t?(O.value=f,j(i,n,O)):i[n]=f,u=c.next(),++n;a=n}else if(y(e)){for(a=e.length,t&&(i=new t),r=n=0;n<a;++n)f=e[n],n+1<a&&55296<=(o=f.charCodeAt(0))&&o<=56319&&(f+=e[++n]),f=d?k.call(d,l,f,r):f,t?(O.value=f,j(i,r,O)):i[r]=f,++r;a=r}if(void 0===a)for(a=h(e.length),t&&(i=new t(a)),n=0;n<a;++n)f=d?k.call(d,l,e[n],n):e[n],t?(O.value=f,j(i,n,O)):i[n]=f;return t&&(O.value=null,i.length=a),i}},function(e,t,n){"use strict";var r=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&i(r.call(e))}},function(e,t,n){"use strict";var r=n(21),c=n(136),u=Function.prototype.call;e.exports=function(e,i){var a={},o=arguments[2];return r(i),c(e,function(e,t,n,r){a[t]=u.call(i,o,e,t,n,r)}),a}},function(e,t,n){"use strict";e.exports=n(137)("forEach")},function(e,t,n){"use strict";var c=n(21),u=n(15),s=Function.prototype.bind,f=Function.prototype.call,d=Object.keys,l=Object.prototype.propertyIsEnumerable;e.exports=function(a,o){return function(n,r){var e,i=arguments[2],t=arguments[3];return n=Object(u(n)),c(r),e=d(n),t&&e.sort("function"==typeof t?s.call(t,n):void 0),"function"!=typeof a&&(a=e[a]),f.call(a,e,function(e,t){return l.call(n,e)?f.call(r,i,n[e],e,n,t):o})}}},function(e,t,n){"use strict";var r,i=n(29),a=n(13),o=n(19),c=n(37),u=Object.defineProperty;r=e.exports=function(e){if(!(this instanceof r))throw new TypeError("Constructor requires 'new'");e=String(e),c.call(this,e),u(this,"__length__",a("",e.length))},i&&i(r,c),delete r.prototype.constructor,r.prototype=Object.create(c.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(e){var t,n=this.__list__[e];return this.__nextIndex__!==this.__length__&&55296<=(t=n.charCodeAt(0))&&t<=56319?n+this.__list__[this.__nextIndex__++]:n})}),u(r.prototype,o.toStringTag,a("c","String Iterator"))},function(e,t,n){"use strict";var r,i=n(29),a=n(13),o=n(37),c=n(19).toStringTag,u=n(140),s=Object.defineProperties,f=o.prototype._unBind;r=e.exports=function(e,t){if(!(this instanceof r))return new r(e,t);o.call(this,e.__mapKeysData__,e),t&&u[t]||(t="key+value"),s(this,{__kind__:a("",t),__values__:a("w",e.__mapValuesData__)})},i&&i(r,o),r.prototype=Object.create(o.prototype,{constructor:a(r),_resolve:a(function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]}),_unBind:a(function(){this.__values__=null,f.call(this)}),toString:a(function(){return"[object Map Iterator]"})}),Object.defineProperty(r.prototype,c,a("c","Map Iterator"))},function(e,t,n){"use strict";e.exports=n(141)("key","value","key+value")},function(e,t,n){"use strict";var r=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return r.call(arguments,function(e){t[e]=!0}),t}},function(e,t,n){"use strict";e.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},function(e,t,n){"use strict";function r(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=r,t.unsafeCoerce=r,t.not=function(t){return function(e){return!t(e)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(n){return function(e,t){return n(t,e)}},t.flow=function(e,t,n,r,i,a,o,c,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return c(o(a(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return u(c(o(a(i(r(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=function(e){throw new Error("Called `absurd` function which should be uncallable")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},function(e,t,n){"use strict";var i=window.URL||window.webkitURL;e.exports=function(t,n){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),r=r.getBlob()}catch(e){r=new Blob([t])}return new Worker(i.createObjectURL(r))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(e){if(!n)throw Error("Inline worker is not supported");return new Worker(n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"load",function(){return r});var r=function(e,t){e.q.push({functionName:"addon",arguments:["dbm",{}]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"GraphQLGeoIP",function(){return s}),n.d(t,"register",function(){return f});var r,i=n(2),o=n(3),a=n(33),c=(r=a.b,i.b(u,r),u);function u(e){var t=r.call(this)||this;return t.replacementMap={$ip_geo_info:e.geo,$ip_isp_info:e.isp,$ip_address:e.ip},t}var s=function(e){var t=this;this.resource="geoip",this.query=function(){return"geoip { "+[t.config.includeGeo?"geo { continent country city province postal_code }":"",t.config.includeISP?"isp { isp organization autonomous_system_number autonomous_system_organization }":"",t.config.includeIP?"ip":""].join(" ")+" }"},this.config=e},f=function(i,a){return i.makeSafe(function(){function t(e){e.isp&&(a.context.isp=e.isp.isp,a.context.organization=e.isp.organization,a.context.autonomous_system_number=e.isp.autonomous_system_number,a.context.autonomous_system_organization=e.isp.autonomous_system_organization),e.geo&&(a.context.continent=e.geo.continent,a.context.country=e.geo.country,a.context.city=e.geo.city,a.context.province=e.geo.province,a.context.postal_code=e.geo.postal_code)}var n="enricher:geoip",e=i.state.getPermutiveData(n);if(e&&e.session_id===i.sessionManager.getSessionId())t(e.data),i.enrichers.register(new c(e.data));else{var r={includeGeo:Object(o.h)(a.config,["enrichers","geoip","include_geo"],!0),includeISP:Object(o.h)(a.config,["enrichers","geoip","include_isp"],!0),includeIP:Object(o.h)(a.config,["enrichers","geoip","include_ip"],!1)};i.graphql.register(new s(r)).then(function(e){t(e),i.state.setPermutiveData(n,{session_id:i.sessionManager.getSessionId(),data:e}),i.enrichers.register(new c(e))}).catch(function(e){return e})}})()}},function(e,i,a){"use strict";a.r(i),function(n){a.d(i,"AppNexusIdentityProvider",function(){return r}),a.d(i,"register",function(){return t});var r=(e.prototype.getTag=function(){return"appnexus"},e.prototype.getId=function(){var t=this;return this.network.ajax({url:this.url,xhrFields:{withCredentials:!0},timeout:3e3}).then(function(e){return"uid"in e&&t.isValidAlias(e.uid)?n.resolve(e.uid):n.resolve(void 0)},function(e){return t.network.error("Failed to retrieve third-party identity for "+t.getTag(),t._internals.state.userId),n.resolve(void 0)})},e.prototype.getTtlInSeconds=function(){return 86400},e.prototype.usedForThirdPartyData=function(){return!0},e.prototype.isValidAlias=function(e){return-1===this.invalidAliases.indexOf(e)},e);function e(e,t){this._internals=e,this.network=t,this.url="//ib.adnxs.com/getuidj",this.invalidAliases=["0","-1"]}var t=function(e,t){return n=new r(e,t),void e.identities.registerProvider(n);var n}}.call(this,a(11).Promise)}]);